<!DOCTYPE html>
<html lang="hr" dir="ltr">
<head>
<meta charset="UTF-8" />
<title>Varnish - SIS Wiki</title>
<meta name="generator" content="MediaWiki 1.17.0" />
<link rel="shortcut icon" href="http://security.foi.hr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="SIS Wiki (hr)" />
<link rel="EditURI" type="application/rsd+xml" href="../api.php%3Faction=rsd" />
<link title="Creative Commons" type="application/rdf+xml" href="http://security.foi.hr/wiki/index.php?title=Varnish&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="SIS Wiki Atom izvor" href="../index.php%3Ftitle=Posebno:Nedavne_promjene&amp;feed=atom" />
<link rel="stylesheet" href="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.vector&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr ns-0 ns-subject page-Varnish skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Varnish</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">Izvor: SIS Wiki</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Skoči na: <a href="Varnish.html#mw-head">orijentacija</a>,
					<a href="Varnish.html#p-search">traži</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>Davor Moslavac, Mateja Živčec
</p><p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sadržaj</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Varnish.html#Uvod"><span class="tocnumber">1</span> <span class="toctext">Uvod</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Varnish.html#.C5.A0to_je_Varnish.3F"><span class="tocnumber">2</span> <span class="toctext">Što je Varnish?</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Varnish.html#HTTP_akceleracija_.28ubrzanje.29"><span class="tocnumber">2.1</span> <span class="toctext">HTTP akceleracija (ubrzanje)</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-4"><a href="Varnish.html#Varnish_zna.C4.8Dajke"><span class="tocnumber">3</span> <span class="toctext">Varnish značajke</span></a></li>
<li class="toclevel-1 tocsection-5"><a href="Varnish.html#Varnish_-_povijesni_razvoj"><span class="tocnumber">4</span> <span class="toctext">Varnish - povijesni razvoj</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="Varnish.html#Porijeklo_rije.C4.8Di"><span class="tocnumber">4.1</span> <span class="toctext">Porijeklo riječi</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-7"><a href="Varnish.html#Varnish_konfiguracija_i_instalacija"><span class="tocnumber">5</span> <span class="toctext">Varnish konfiguracija i instalacija</span></a>
<ul>
<li class="toclevel-2 tocsection-8"><a href="Varnish.html#Varnish_konfiguracija"><span class="tocnumber">5.1</span> <span class="toctext">Varnish konfiguracija</span></a>
<ul>
<li class="toclevel-3 tocsection-9"><a href="Varnish.html#VCL"><span class="tocnumber">5.1.1</span> <span class="toctext">VCL</span></a>
<ul>
<li class="toclevel-4 tocsection-10"><a href="Varnish.html#Varnish_datoteke"><span class="tocnumber">5.1.1.1</span> <span class="toctext">Varnish datoteke</span></a></li>
<li class="toclevel-4 tocsection-11"><a href="Varnish.html#Definiranje_pozadine_.28backend.29_u_VCL"><span class="tocnumber">5.1.1.2</span> <span class="toctext">Definiranje pozadine (backend) u VCL</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-2 tocsection-12"><a href="Varnish.html#Varnish_instalacija"><span class="tocnumber">5.2</span> <span class="toctext">Varnish instalacija</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="Varnish.html#Usporedba_Web_servera_s_Varnish-om_i_bez_Varnish-a"><span class="tocnumber">6</span> <span class="toctext">Usporedba Web servera s Varnish-om i bez Varnish-a</span></a>
<ul>
<li class="toclevel-2 tocsection-14"><a href="Varnish.html#Web_zahtjevi_na_serveru_s_Varnish-om"><span class="tocnumber">6.1</span> <span class="toctext">Web zahtjevi na serveru s Varnish-om</span></a></li>
<li class="toclevel-2 tocsection-15"><a href="Varnish.html#Web_zahtjevi_na_serveru_bez_Varnish-a"><span class="tocnumber">6.2</span> <span class="toctext">Web zahtjevi na serveru bez Varnish-a</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-16"><a href="Varnish.html#Prakti.C4.8Dni_dio"><span class="tocnumber">7</span> <span class="toctext">Praktični dio</span></a>
<ul>
<li class="toclevel-2 tocsection-17"><a href="Varnish.html#Instalacija_i_konfiguracija"><span class="tocnumber">7.1</span> <span class="toctext">Instalacija i konfiguracija</span></a>
<ul>
<li class="toclevel-3 tocsection-18"><a href="Varnish.html#Prvi_korak:_instalacija_Varnish-a"><span class="tocnumber">7.1.1</span> <span class="toctext">Prvi korak: instalacija Varnish-a</span></a></li>
<li class="toclevel-3 tocsection-19"><a href="Varnish.html#Drugi_korak:_konfiguracija_Varnish-a"><span class="tocnumber">7.1.2</span> <span class="toctext">Drugi korak: konfiguracija Varnish-a</span></a></li>
<li class="toclevel-3 tocsection-20"><a href="Varnish.html#Tre.C4.87i_korak:_konfiguracija_apache-a"><span class="tocnumber">7.1.3</span> <span class="toctext">Treći korak: konfiguracija apache-a</span></a></li>
<li class="toclevel-3 tocsection-21"><a href="Varnish.html#.C4.8Cetvrti_korak:_Provjera"><span class="tocnumber">7.1.4</span> <span class="toctext">Četvrti korak: Provjera</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-22"><a href="Varnish.html#Napredna_konfiguracija"><span class="tocnumber">7.2</span> <span class="toctext">Napredna konfiguracija</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-23"><a href="Varnish.html#Zaklju.C4.8Dak"><span class="tocnumber">8</span> <span class="toctext">Zaključak</span></a></li>
<li class="toclevel-1 tocsection-24"><a href="Varnish.html#Literatura"><span class="tocnumber">9</span> <span class="toctext">Literatura</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="Uvod"> <b>Uvod</b> </span></h2>
<p>Varnish je HTTP akcelerator posebno prikladan za dinamičke web stranice bogate sadržajom. Za razliku od ostalih HTTP akceleratora poput Squida, koji je započeo kao cache na klijentskoj strani, ili Apache i nginxa koji su podrijetlom serveri, Varnish je od početka osmišljen kao HTTP akcelerator. Za razliku od proxy servera koji obično imaju podršku za FTP, SMTP i ostale mrežne protokole, Varnish ima fokus na HTTP-u. U nastavku će biti sve detaljnije prikazano.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Davor.moslavac&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Davor.moslavac (stranica ne postoji)">Davor.moslavac</a> 19:57, 12. siječnja 2013.
</p>
<h2> <span class="mw-headline" id=".C5.A0to_je_Varnish.3F"> <b>Što je Varnish?</b> </span></h2>
<p>U slučaju da niste upoznati što je „varnish“, koristan video koji objašnjava zašto je važan i koristan varnish možete pogledati ovdje: <a href="https://www.youtube.com/watch?feature=player_embedded&amp;v=x7t2Sp174eI" class="external text" rel="nofollow">What is Varnish?</a>. Varnish je dakle HTTP akcelerator dizajniran za dinamičke web stranice sa puno sadržaja. 
Pisan je u programskom jeziku C, a napravljen je za operativni sustav Unix. Bitan je dio web servisa. Varnish je HTTP akcelerator napravljen s ciljem da rješava probleme programera u izradi web aplikacija koje imaju puno dinamičnih dijelova i performansi ovisnosti (npr. baze podataka). Jedna od prednosti korištenja Varnish-a jest fleksibilan konfiguracijski jezik, čime je moguće kontrolirati gotovo svaki aspekt web zahtjeva koji su obrađeni i kako je aplikacija spremljena. Druga prednost jest da Varnish podržava ESI (Edge Side Includes),  mali XML, odnosno osnovni označni jezik za dinamičko sastavljanje web sadržaja.[4]
</p>
<h3> <span class="mw-headline" id="HTTP_akceleracija_.28ubrzanje.29"> <b>HTTP akceleracija (ubrzanje)</b> </span></h3>
<p>Kao što znamo, HTTP (Hypertext Transfer Protocol) je komunikacijski protokol koji radi na principu zahtjev/odgovor između servera i klijenta, a koristi se za prenošenje informacija na Internetu i intranetu.[7] Klijent se spaja na server te tada dolazi na red HTTP akcelerator koji raspoređuje teret na više poslužitelja u slučaju velikih količina stranica (high volume sites). Može se koristiti za pružanje redundancije. Cilj HTTP ubrzanja jest pružiti udaljenim korisnicima najbolje vrijeme odziva kada pristupaju svojim web aplikacijama poput intraneta, SharePoint-a, SAP-a, Oracle-a, PeopleSoft-a, i itd.[5]
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Matzivcec&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Matzivcec (stranica ne postoji)">Matzivcec</a> 22:05, 14. siječnja 2013.
</p>
<h2> <span class="mw-headline" id="Varnish_zna.C4.8Dajke"><b>Varnish značajke</b></span></h2>
<p>Autor (programer) Varnish-a ističe nekoliko bitnih značajki dotičnog programa [3]:
</p>
<ol><li><b>Dizajn</b> se smatra jednom od najvažnijih značajki. Varnish je moderan program koji je razvijan i napisan za moderne operacijske sustave. Autor ovog programa, Poul-Henning Kamp na <a href="https://www.varnish-cache.org/trac/wiki/ArchitectNotes" class="external text" rel="nofollow">Varnish wiki stranici</a> opisuje kako današnji programeri pišu kao da je još uvijek 1975. godina. On smatra da se više ne može programirati kao te godine jer današnja računala ne mogu više imati dvije vrste pohrane. Nekada su to bili primarna memorija i sekundarna memorija (papirnata traka, magnetska traka, diskovi veličine kuće, ...). Danas to više nije moguće na taj način dijeliti.
</li><li><b>VCL</b> je Varnish konfiguracijski jezik, a spada u DSL jezike, odnosno u specifične jezike u razvijanju softvera i domeni inženjerstva za rješavanje specifičnog domenskog problema. Varnish kompajlira konfiguraciju u binarnom kodu i pokreće je. VCL može biti učitan i zamijenjen u hodu, odnosno prilikom razvoja. Sve to pruža puno veću brzinu i fleksibilnost. Podkarakteristika VCL-a je inline C, odnosno C jezik se može dodati u VCL pri tome daje opciju proširenja Varnish prilikom razvijanja, odnosno dinamičnih aktivnosti.
</li><li><b>Mogućnost uravnoteženja preopterećenosti</b>, odnosno Varnish zapamti prethodno zaprimljene zahtjeve te spremi odgovarajuće odgovore. U trenutku kada korisnik zahtjeva opet isti zahtjev, Varnish samo proslijedi postojeći spremljeni odgovor. Zbog toga popularne web stranice (poput Facebook stranice) nisu preopterećene.
</li><li><b>ESI</b>, Edge Side Includes, što omogućuje individualno dijeljenje stranice na cache komponente, što je jako korisno za ubrzavanje dinamičnih web stranica sa puno personaliziranih sadržaja.
</li><li><b>Mogućnost posluživanja starog sadržaja prilikom čega originalni server kreira novi sadržaj. Također Varnish može sačuvati sadržaj u slučaju da se sruši originalni server.</b>
</li><li><b> Administracija upravljanja web sučeljima</b>. 
</li><li> <b>Upravljanje portom</b>, što se može primjerice odnositi na mogućnost mijenjanja postavki.
</li><li> <b>Ponovo pisanje i preusmjeravanje URL-ova</b> bez upotrebe vanjskih programa.
</li></ol>
<h2> <span class="mw-headline" id="Varnish_-_povijesni_razvoj"> <b>Varnish - povijesni razvoj</b> </span></h2>
<p>Varnish cache projekt je pokrenut od strane norveškog online novinskog tabloida Verdens Gang. Danski nezavisni konzultant Poul-Henning Kamp je bio vodeći programer na ovom projektu, a surađivao je sa norveškom Linux konzultantskom tvrtkom Linpro. Poul-Henning je iskusni FreeBSD kernel haker te još uvijek pridonosi svojom mudrošću Varnish-u u većini područja gdje je potrebno. Kasnije su se podrška, menadžment i razvoj odvojili u zasebnu tvrtku koja je nazvana Varnish Software.  Softver je besplatan licenciran s dvjema klauzulama BSD licence, poznate kao FreeBSD licenca. Projekt izgradnje softvera započeo je 2005. godine (ideje i planiranje projekta).  Verzija Varnish Cache 1.0 puštena je na tržište u rujnu 2006. godine.  Od 2006. do 2008. Godine, projekt bio sponzoriran od VG, API, Escenic i Aftenposten, dok je projektni menadžment, infrastruktura i ljudska snaga pružena od tvrtke Linpro. Danas je Varnish Cache razvijen od strane Poul-Henning-a i Varnish Software tvrtke. Poul-Henning je financiran Varnish Moral Licencom (VML), a Varnish Software je financirana uslugom pretplata i razvojem specifičnih značajki za kupce koji su kupili proizvod. [2]
</p>
<table class="wikitable">

<tr>
<th> Godina </th>
<th> Opis
</th></tr>
<tr>
<td> 2005. </td>
<td> Započele ideje. Andres Berg je kod Verdens Gang (norveške najveće novine) bio u potrazi za alternativnim cache rješenjima.
</td></tr>
<tr>
<td> 2006. </td>
<td> Započet je rad na projektu. Redpill Linpro je bio zadužen za upravljanje projektom, infrastrukturu i potporu razvoju. Poul Henning Kamp je učinio većinu stvarnog razvoja.
</td></tr>
<tr>
<td> 2007. </td>
<td> Objavljena je Varnish 1.0 verzija.
</td></tr>
<tr>
<td> 2008. </td>
<td> Objavljena je Varnish 2.0 verzija.
</td></tr>
<tr>
<td> 2009. </td>
<td> Održan je prvi sastanak grupe Varnish korisnika u Londonu. Sudjelovalo je desetak ljudi iz cijelog svijeta.
</td></tr>
<tr>
<td> 2010. </td>
<td> Rođen je Varnish Software kao nusprodukt Redpill Linpro AS.
</td></tr>
<tr>
<td> 2011. </td>
<td> Objavljena je Varnish 3.0 verzija.
</td></tr>
<tr>
<td> 2012. </td>
<td> Održan je peti susret grupe Varnish korisnika u Parizu. 70-ak ljudi je sudjelovalo na danu korisnika. Na danu programera sudjelovalo je oko 30 ljudi.
<p>Najnovija verzija Varnish softvera izašla je 20. kolovoza 2012. godine. 
</p>
</td>
<caption> Tablica 1. Prikazan vremenski tijek razvoja Varnish-a [2]
</caption></tr></table>
<h3> <span class="mw-headline" id="Porijeklo_rije.C4.8Di"> <b>Porijeklo riječi</b> </span></h3>
<p>Sam naziv riječi „varnish“ dolazi od trenutka kada je osnivač softvera dulje vrijeme buljio u umjetnički poster sa riječju „vernisage“ što je završilo provjerom te riječi u rječnik. U rječniku su pronađena tri značenja: prekriti lakom, dati završni sjaj i glatkoću, dati varljiv atraktivan izgled, uljepšavati. [11]
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Matzivcec&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Matzivcec (stranica ne postoji)">Matzivcec</a> 20:21, 14. siječnja 2013.
</p>
<h2> <span class="mw-headline" id="Varnish_konfiguracija_i_instalacija"> <b>Varnish konfiguracija i instalacija</b> </span></h2>
<p>Varnish Cache server pomaže također kod isporuke statičkog sadržaja kada je niski kapacitet I/O diskova.  Sljedeća slika pomaže za lakše praćenje i razumijevanje same konfiguracije i instalacije Varnish cache servera što će biti pobliže objašnjeno u daljnjem nastavku.
</p>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:491px;"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Varnish.png" class="image"><img alt="" src="../images/e/e9/Varnish.png" width="489" height="318" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Varnish.png" class="internal" title="Povećaj"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Slika 1. Dijagram prikaza konfiguracije i instalacije Varnish cache servera, preuzeto s <a href="http://blog.secaserver.com/2012/05/linux-install-configure-varnish-cache-server/" class="external text" rel="nofollow">Linux: Install and Configure Varnish as Cache Server</a>, 13.1.2013.</div></div></div></div>
<p><br />
</p>
<h3> <span class="mw-headline" id="Varnish_konfiguracija"> <b>Varnish konfiguracija</b> </span></h3>
<p>Kod varnish-a imamo dva načina konfiguracije: konfiguracija putem komandne linije i prilagodljivih parametara te VCL (<i>Varnish Cache Language</i>).  Prvi način se koristi za definiranje na koji način bi trebao varnish raditi s operacijskim sustavom i hardverom kao dodatak za postavljanje zadanih vrijednosti. Drugi način, odnosno VCL definira na koji način bi trebao Varnish djelovati zajedno s web servisima i klijentima. Postoji nekoliko komandi za ponovo učitavanje varnish konfiguracije. 	Preporučeno je korištenje servisnih naredbi jer je sigurno i točno. [2]
</p>
<table class="wikitable">

<tr>
<th> Naredba </th>
<th> Rezultat
</th></tr>
<tr>
<td> service varnish restart </td>
<td> Potpuno restarta Varnish, koristeći mehanizme operacijskog sustava. Vaš cache će biti ispražnjen.
</td></tr>
<tr>
<td> service varnish reload </td>
<td> Samo ponovno učita VCL. Cache nije pogođen.
</td></tr>
<tr>
<td> varnishadm vcl.load .. and varnishadm vcl.use </td>
<td> Može biti korištena za ručno ponovo učitavanje VCL-a. Prethodno navedena komanda (service varnish reload) to čini automatski.
</td></tr>
<tr>
<td> varnishadm param.set … </td>
<td> Može biti korištena za postavljanje parametara bez potrebe za restartom Varnish-a.
</td>
<caption> Tablica 2. Naredbe Varnish konfiguracije [2]
</caption></tr></table>
<p>Nadalje, gotovo svaki aspekt Varnish-a može se rekonfigurirati bez potrebe samog restartanja Varnish-a. Značajne iznimke su veličina i lokacija cache-a, korisničko ime i grupe koje se pokreću kao Varnish i hash algoritam.
Pomoću <i>param.show &lt;parameter&gt;</i>, možete vidjeti kada i kako traje djelovanje parametra te postavljenu i trenutnu vrijednost. Kod konfiguracije postoje sljedeće naredbene linije [2]:
</p>
<ul><li> -a &lt;[hostname]:port&gt; što označava izvornu adresu.
</li><li> -f &lt;filename&gt; što označava VCL – Varnish Configuration Language,potreban kako bi se specificirala VCL datoteka. 
</li><li> -p &lt;parameter=value&gt; što označava postavljanje uskladivih parametara.
</li><li> -S &lt;secretfile&gt;  što označava naredbu za podatke koji se koriste za autentikaciju.
</li><li> -T &lt;hostname:port&gt; što označava upravljanje sučeljem (eng., <i>management interface</i>).
</li><li> -s &lt;storagetype,options&gt; što označava gdje i kako pohraniti objekte.
</li></ul>
<h4> <span class="mw-headline" id="VCL"><b>VCL</b></span></h4>
<p>Za iskorištenje svih mogućnosti i snage samoga Varnish-a, potrebno je pružiti naprednu konfiguraciju u obliku VCL datoteke. Pomoću VCL datoteke Varnish točno zna kako se nositi svakom fazom obrade zahtjeva. VCL omogućuje procjenu i modifikaciju gotovo svakog aspekta HTTP zahtjeva i odgovora. Time se omogućuje ispitivanje zaglavlja, regularno izražavanje usporedba i zamjena te općenitim kvarenjima dolaznih web zahtjeva. Jezik je sličan programskom jeziku C ili Perl [2]. VCL ima ograničenja, no u slučaju kada nije moguće neka pitanja riješiti, moguće je prebaciti u C i nadalje nastaviti s obavljanjem zadatka.
VCL datoteka je zapravo mini program koji je sastavljen i povezan s Varnishom prilikom pokretanja.  U nekoliko koraka Varnish obrađuje svaki zahtjev. VCL ponašanja mogu se kontrolirati s 8 potprograma, a koja se mogu promijeniti u Varnish konfiguraciji. Potprogrami su sljedeći (<a href="https://www.varnish-cache.org/trac/wiki/Introduction" class="external text" rel="nofollow">1</a>):
</p>
<ul><li>vcl_recv() – poziva se nakon što je primljen zahtjev poslužitelja, a prije obrade
</li><li>vcl_pipe() – poziva se kada zahtjev treba biti direktno proslijeđen pozadini s minimalnim radom Varnish-a (HTTP CONNECT)
</li><li>vcl_hash() – poziva se kada se određuje hash ključ korišten za traženje zahtjeva u cache-u
</li><li>vcl_hit() – poziva se nakon traženja u cache-u kada je pronađen zahtjevan objekt
</li><li>vcl_miss() – poziva se nakon traženja u cache-u, ali zahtjevan objekt nije pronađen
</li><li>vcl_pass() – poziva se kada je zahtjev pređen u pozadinu bez traženja u cache-u
</li><li>vcl_fetch() – poziva se kada je zahtjev poslan u pozadinu i odgovor je dobiven iz nje
</li><li>vcl_deliver() – poziva se prije nego je odgovor ( iz cache ili web poslužitelja) poslan klijentu koji zahtjeva.
</li></ul>
<p>Varnish ima zadane postavke, potrebno je samo neke od prethodno navedenih potprograma "pojačati".
</p>
<h5> <span class="mw-headline" id="Varnish_datoteke"><b>Varnish datoteke</b></span></h5>
<p>Većinom se kod instalacije Varnish-a koriste dva tipa datoteka[2]:
</p>
<ol><li> <i>/etc/default/varnish</i> koja se koristi za parametre i argumente komandne linije. Kada se promjeni, potrebno je pokrenuti service varnish restart. Korištena je od strane operacijskog sustava za pokretanje Varnish-a.Kod RedHat-based OS, koristi se <i>/etc/sysconfig/varnish</i>.
</li><li> <i>/etc/varnish/default.vcl</i> je VCL datoteka, pri čemu se ime datoteke može sređivati pomoću <i>/etc/default/varnish</i>. Nakon promjena, može se pokrenuti <i>servicevarnish reload</i> (ne restarta Varnish) ili <i>service varnishrestart</i> (prazni cache).
</li></ol>
<h5> <span class="mw-headline" id="Definiranje_pozadine_.28backend.29_u_VCL"><b>Definiranje pozadine (backend) u VCL</b></span></h5>
<p>Backend-server je bilo koji poslužitelj kojim Varnish lako može dohvatiti sadržaj. Dakle može biti bilo koji poslužitelj, samo mora razumjeti HTTP. Varnish većinu vremena komunicira s web serverom ili aplikacijom putem sučelja poslužitelja[2]. Definiranje pozadine izgleda ovako (<a href="https://www.varnish-software.com/static/book/#" class="external text" rel="nofollow">2</a>):
</p>
<table class="wikitable">

<tr>
<th> <i>/etc/varnish/default.vcl</i>
<p>Backend default {
.host= „localhost“;
.port= „8080“;
}
</p>
</th></tr></table>
<p><br />
</p>
<h3> <span class="mw-headline" id="Varnish_instalacija"><b>Varnish instalacija</b></span></h3>
<p>Za operativni sustav <a href="http://www.debian.org/" class="external text" rel="nofollow">Debian</a> je instalacija paketa moguća s <i>apt-get install &lt;package&gt;</i>. Za OS <a href="http://www.redhat.com/" class="external text" rel="nofollow">Red Hat</a> koristi se <i>yum install &lt;package&gt;</i>. [2]
U daljnjem tekstu objasnili smo instalaciju na primjeru <i>apache2</i> na OS Debian,a prema <a href="https://www.varnish-software.com/static/book/Getting_started.html" class="external text" rel="nofollow">Varnish Software Book</a>.
</p>
<ol><li> Instaliraj apache2 i provjeri da li radi na način da u preglednik upišete <i><a href="http://localhost" class="external free" rel="nofollow">http://localhost</a></i>. Pretpostavka je da želite promijeniti <i>localhost</i> s bilo kojim imenom host-a na računalu kojem radite.
</li><li> Promijeni Apache portove iz 80 u 8080 u <i>/etc/apache2/ports.conf</i> i <i>/etc/apache2/sites-enabled/000-default</i>.
</li><li> Instaliraj Varnish.
</li><li> Prilagodi Varnish konfiguracijsku datoteku tako da se Varnish osluškuje na portu 80, ima upravljanje sučeljem na portu 1234 i koristi za pozadinu 127.0.0.1:8080.
</li><li> Pokreni Varnish koristeći Varnish start uslugu.
</li></ol>
<p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Matzivcec&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Matzivcec (stranica ne postoji)">Matzivcec</a> 22:04, 19. siječnja 2013.
</p>
<h2> <span class="mw-headline" id="Usporedba_Web_servera_s_Varnish-om_i_bez_Varnish-a"><b>Usporedba Web servera s Varnish-om i bez Varnish-a</b></span></h2>
<p>Prema <a href="http://www.arlocarreon.com/blog/varnish/what-is-varnish-cache-in-laymans-terms/" class="external text" rel="nofollow">Arlo Carreon</a>, Varnish je zapravo obrnuti web proxy caching sustav, odnosno djeluje kao operator ili nekakav zaštitar presretanjem svih web zahtjeva prije nego oni dosegnu do Vašeg poslužitelja. Varnish je u memoriji, a ne na hard-u. Zbog toga Varnish može služiti i stotine uzastopnih zahtjeva u sekundi. Neke od prednosti su: štednja CPU vremena, dohvati datoteka, zahtjevi baze podataka za sadržajem koji nije djelomično stvarno vrijeme. 
</p>
<h3> <span class="mw-headline" id="Web_zahtjevi_na_serveru_s_Varnish-om"><b>Web zahtjevi na serveru s Varnish-om</b></span></h3>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Server_with_varnish.png" class="image"><img alt="" src="../images/thumb/6/69/Server_with_varnish.png/500px-Server_with_varnish.png" width="500" height="265" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Server_with_varnish.png" class="internal" title="Povećaj"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Carreon A(2012)Server with varnish,posjećeno 14.01.2013. <a href="http://dl.dropbox.com/u/5156502/server_with_varnish.png" class="external free" rel="nofollow">http://dl.dropbox.com/u/5156502/server_with_varnish.png</a></div></div></div></div> Web zahtjevi će uglavnom proizvoditi iste ponavljajuće odgovore. Odgovori će biti spremljeni i pruženi brzo bez potrebe korištenja dodatnih resursa. U slučaju da nije odgovor spremljen, zahtjevu je dopušteno proći kroz potrebne resurse kako bi se u krajnjem slučaju odgovor spremio. Kao što vidimo prema slici, rad procesora (centralne procesorske jedinice) je u normalnim granicama, odnosno on nije preopterećen. Također vidljiv je utjecaj Varnish-a, koji je posrednik između servera (Apache) i memorije. Zbog toga su odgovori pravovremeni, odnosno nema kašnjenja.
<p><br />
</p>
<h3> <span class="mw-headline" id="Web_zahtjevi_na_serveru_bez_Varnish-a"><b>Web zahtjevi na serveru bez Varnish-a</b></span></h3>
<div class="center"><div class="thumb tnone"><div class="thumbinner" style="width:502px;"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Server_without_varnish.png" class="image"><img alt="" src="../images/thumb/5/5b/Server_without_varnish.png/500px-Server_without_varnish.png" width="500" height="267" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Server_without_varnish.png" class="internal" title="Povećaj"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Carreon A(2012)Server with varnish,posjećeno 14.01.2013.<a href="http://dl.dropbox.com/u/5156502/server_without_varnish.png" class="external free" rel="nofollow">http://dl.dropbox.com/u/5156502/server_without_varnish.png</a></div></div></div></div> Kao što vidimo na slici, zahtjevi direktno idu na server (Apache). Server je zatim direktno povezan s PHP i PHP se povezuje direktno s bazom podataka. U ovom slučaju je rad procesora preopterećen. Višestruke su petlje i veze s bazom podataka što rezultira visokom potrošnjom CPU-a i povećava kašnjenje odgovora.
<p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Matzivcec&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Matzivcec (stranica ne postoji)">Matzivcec</a> 18:22, 19. siječnja 2013.
</p>
<h2> <span class="mw-headline" id="Prakti.C4.8Dni_dio"><b>Praktični dio</b></span></h2>
<p>Kao praktični dio projekta prikazan je detaljan postupak instalacije i korištenja Varnish-a na Ubuntu 10.04.
</p>
<h3> <span class="mw-headline" id="Instalacija_i_konfiguracija"> <b>Instalacija i konfiguracija</b> </span></h3>
<p>Kako bi uopće mogli koristiti Varnish, potrebno je posjedovati vlastiti server. U našem slučaju to je virtualni server apache koji se na Ubuntu dohvaća naredbom:
</p>
<pre>sudo apt-get install apache2</pre>
<h4> <span class="mw-headline" id="Prvi_korak:_instalacija_Varnish-a"> <b>Prvi korak: instalacija Varnish-a</b> </span></h4>
<p>Nakon instalacije apache-a potrebno je dohvatiti repozitorij Varnish-a:
</p>
<pre>sudo curl http://repo.varnish-cache.org/debian/GPG-key.txt | sudo apt-key add –</pre>
<p>Nakon što je repozitorij dohvaćen dodajemo ga na listu apt izvora:
</p>
<pre>sudo nano /etc/apt/sources.list</pre>
<p>Unutar datoteke dodajemo Varnish repozitorij u listu izvora:
</p>
<pre>deb http://repo.varnish-cache.org/ubuntu/ lucid varnish-3.0</pre>
<p>Nakon spremanja liste pokrećemo samu instalaciju Varnish-a naredbama:
</p>
<pre>sudo apt-get update
sudo apt-get install varnish</pre>
<h4> <span class="mw-headline" id="Drugi_korak:_konfiguracija_Varnish-a"> <b>Drugi korak: konfiguracija Varnish-a</b> </span></h4>
<p>Nakon što su apache i Varnish instalirani potrebno ih je konfigurirati. Prema standardnim postavkama Varnish poslužuje sadržaj na portu 80, a dohvaća sa port-a 8080 koji koristi apache. Kod konfiguracije prvo želimo locirati i otvoriti datoteku varnish iz direktorija default:
</p>
<pre>sudo nano /etc/default/varnish</pre>
<p>Pod alternativom 2 potrebno je prilagoditi kod da izgleda ovako:
</p>
<pre>DAEMON_OPTS=&quot;-a&#160;:80 \
             -T localhost:6082 \
             -f /etc/varnish/default.vcl \
             -S /etc/varnish/secret \
             -s malloc,256m&quot;</pre>
<p>Nakon spremanja otvaramo default.vcl:
</p>
<pre>sudo nano /etc/varnish/default.vcl</pre>
<p>Ova datoteka govori varnishu gdje se nalazi sadržaj web servera. Ovdje ćemo za početak postaviti varnish da traži sadržaj na portu 8080.
</p>
<pre>backend default {
    .host = &quot;127.0.0.1&quot;;
    .port = &quot;8080&quot;;
}</pre>
<h4> <span class="mw-headline" id="Tre.C4.87i_korak:_konfiguracija_apache-a"> <b>Treći korak: konfiguracija apache-a</b> </span></h4>
<p>U prijašnjem dijelu postavili smo Varnish da prati port 8080. No, standardne postavke za apache su još uvijek postavljene na portu 80.
To možemo promijeniti otvorivši datoteku koja sadrži apache portove:
</p>
<pre>sudo nano /etc/apache2/ports.conf</pre>
<p>Ovdje trebamo primjeniti broj porta za NameVirtualHost i Listen na port 8080 i omogućiti im lokalan pristup. Treba izgledati ovako:
</p>
<pre>NameVirtualHost 127.0.0.1:8080
Listen 127.0.0.1:8080</pre>
<p>Nadalje, potrebno je promjeniti standardne postavke virtualnog poslužitelja:
</p>
<pre>sudo nano /etc/apache2/sites-available/default</pre>
<p>Virtualni poslužitelj trebamo postaviti na port 8080, te će izgledati:
</p>
<pre>&lt;VirtualHost 127.0.0.1:8080&gt;</pre>
<p>Nakon spremanja datoteke potrebno je ponovno pokrenuti apache i Varnish da bi promjene koje smo napravili bile primijenjene:
</p>
<pre>sudo service apache2 restart
sudo service varnish restart</pre>
<h4> <span class="mw-headline" id=".C4.8Cetvrti_korak:_Provjera"> <b>Četvrti korak: Provjera</b> </span></h4>
<p>Nakon instalacije i konfiguracije potrebno je i provjeriti ispravnost postavki. Provjeru možemo izvršiti netstat naredbom.
</p>
<pre>sudo netstat -lp | grep varnish</pre>
<div class="center"><div class="floatnone"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Netstat.jpg" class="image"><img alt="Netstat.jpg" src="../images/2/27/Netstat.jpg" width="658" height="437" /></a></div></div>
<p>Kod pristupanja domeni radi se preusmjeravanje na Varnish-ovu cache verziju. Detalje rada Varnish-a možemo provjeriti naredbom:
</p>
<pre>varnishstat</pre>
<div class="center"><div class="floatnone"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Varnishstat.png" class="image"><img alt="Varnishstat.png" src="../images/a/a9/Varnishstat.png" width="658" height="437" /></a></div></div>
<h3> <span class="mw-headline" id="Napredna_konfiguracija"> <b>Napredna konfiguracija</b> </span></h3>
<p>Iako standardna instalacija već pruža zadovoljavajuće rezultate, te čini osjetnu razliku, ukoliko želimo u potpunosti iskoristiti mogućnosti ovog moćnog alata moramo mijenjati određene postavke.
</p><p>Jedna od tih mogućnosti koje ne dolaze standardno, no zna biti izuzetno korisna je i purge. Purge nam omogućuje da odaberemo objekt iz cache memorije i uklonimo ga zajedno sa svim njegovim prethodnim verzijama. U ovom primjeru purge je dozvoljen samo localhostu.
</p>
<pre>acl purge {
    &quot;127.0.0.1&quot;;
}</pre>
<p>U nastavku su prikazane promjene na /etc/varnish/default.vcl dokumentu i komentari na što se svaka pojedina promjena odnosi.
</p>
<pre># vcl_recv se poziva kad dolazi zahtjev 
sub vcl_recv {
        # Posluzuje objekte do 2 minute starosti ako je beckend usporen.
        set req.grace = 120s;
 
        set req.backend = default;
 
        # Ukoliko zahtjev za purge ne dodje sa localhost-a, zahtjev se ignorira
        if (req.request == &quot;PURGE&quot;) 
            {if (!client.ip ~ purge)
                {error 405 &quot;Not allowed.&quot;;}
            return(lookup);}
 
        # Prosljedjuje zahtjeve koje Varnish ne razumije izravno na backend.
        if (req.request&#160;!= &quot;GET&quot; &amp;&amp; req.request&#160;!= &quot;HEAD&quot; &amp;&amp;
            req.request&#160;!= &quot;PUT&quot; &amp;&amp; req.request&#160;!= &quot;POST&quot; &amp;&amp;
            req.request&#160;!= &quot;TRACE&quot; &amp;&amp; req.request&#160;!= &quot;OPTIONS&quot; &amp;&amp;
            req.request&#160;!= &quot;DELETE&quot;) 
            {return(pipe);}
 
        # Propusta direktno sve osim GET i HEAD.
        if (req.request&#160;!= &quot;GET&quot; &amp;&amp; req.request&#160;!= &quot;HEAD&quot;)
           {return(pass);}
 
        # Direktno prosljedjuje zahtjeve prijavljenih korisnika.
        if (req.http.Authorization || req.http.Cookie)
           {return(pass);}
 
        # Direktno prosljedjuje sve zahtjeve &quot;If-None-Match&quot;.
        if (req.http.If-None-Match)
           {return(pass);}
 
        # Pregledava korisnicke zahtjeve za zahtjevima koji ne koriste cache.
        if (req.http.Cache-Control ~ &quot;no-cache&quot;)
           {ban_url(req.url);}
 
        return(lookup);
}</pre>
<pre>sub vcl_pipe {
        set req.http.connection = &quot;close&quot;;
}</pre>
<pre># Poziva se ukoliko cache ima kopiju stranice.
sub vcl_hit {
        if (req.request == &quot;PURGE&quot;) 
            {ban_url(req.url);
            error 200 &quot;Purged&quot;;}
 
        if (!obj.ttl &gt; 0s)
           {return(pass);}
}
 
# Poziva se ukoliko cache nema kopiju stranice.
sub vcl_miss {
        if (req.request == &quot;PURGE&quot;) 
           {error 200 &quot;Not in cache&quot;;}
}</pre>
<pre># Poziva se kad je dokument uspjesno dohvacen sa backend-a.
sub vcl_fetch {
 
        # Postavljanje vremenskog ogranicenja za spremljene objekte
        set beresp.grace = 120s;
 
        if (beresp.ttl &lt; 48h) {
          set beresp.ttl = 48h;}
 
        if (!beresp.ttl &gt; 0s) 
            {return(hit_for_pass);}
 
        if (beresp.http.Set-Cookie) 
            {return(hit_for_pass);}
 
        if (req.http.Authorization &amp;&amp;&#160;!beresp.http.Cache-Control ~ &quot;public&quot;) 
            {return(hit_for_pass);}
 
}</pre>
<p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Davor.moslavac&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Davor.moslavac (stranica ne postoji)">Davor.moslavac</a> 17:49, 20. siječnja 2013.
</p>
<h2> <span class="mw-headline" id="Zaklju.C4.8Dak"><b>Zaključak</b></span></h2>
<p>Ukoliko se stranice dugo učitava, posjetitelji će potražiti informacije na drugom mjestu. Kako bi se učitavanje stranice ubrzalo bez kupnje dodatnih servera moguće je postaviti dobro software-sko rješenje. Varnish je HTTP akcelerator koji svoj posao obavlja i više nego dobro. Činjenica da ga koriste stranice poput Facebooka i Twittera već sama po sebi dovoljno govori o ovom moćnom alatu. Spomenemo li i njegovu jednostavnu konfiguraciju (koja je dovoljna za većinu korisnika) možemo pričati o jednom od bitnijih alata prilikom postavljanja bilo koje stranice koja očekuje mnogo posjetitelja i radi s velikom količinom podataka. Varnish je odličan alat od kojega će profitirati početnici, ali i ozbiljni korisnici (kao što se može vidjeti na primjeru Facebooka i Twitera).
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Davor.moslavac&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Davor.moslavac (stranica ne postoji)">Davor.moslavac</a> 23:59, 20. siječnja 2013.
</p>
<h2> <span class="mw-headline" id="Literatura"> <b>Literatura</b> </span></h2>
<ol><li> Varnish Track (2012) Wiki: Introduction. Posjećeno 13.1.2013.&lt;<a href="https://www.varnish-cache.org/trac/wiki/Introduction" class="external free" rel="nofollow">https://www.varnish-cache.org/trac/wiki/Introduction</a>&gt;
</li><li> Heen FT, Lyngstøl K, Renard J (2012) Varnish Software Book.Varnish Software AS 2010-2012, Redpill Linpro AS 2008-2009. Posjećeno 13.1.2013.&lt;<a href="https://www.varnish-software.com/static/book/#" class="external free" rel="nofollow">https://www.varnish-software.com/static/book/#</a>&gt;
</li><li> Varnish Track (2012) Wiki: Varnish Features. Posjećeno 13.1.2013. &lt;<a href="https://www.varnish-cache.org/trac/wiki/VarnishFeatures" class="external free" rel="nofollow">https://www.varnish-cache.org/trac/wiki/VarnishFeatures</a>&gt;
</li><li> Varnish Software AS (2012) Posjećeno 12.1.2013. &lt;<a href="https://www.varnish-software.com/products-services/varnish-cache/" class="external free" rel="nofollow">https://www.varnish-software.com/products-services/varnish-cache/</a>&gt;  
</li><li> Catalyst Advent Calendar (2012) Posjećeno 12.1.2013. &lt;<a href="http://www.catalystframework.org/calendar/2008/14" class="external free" rel="nofollow">http://www.catalystframework.org/calendar/2008/14</a>&gt;
</li><li> Horman S (1998)Creating Redundant Linux Servers. Duke University,Durham,North Carolina, USA. Posjećeno 10.1.2013. &lt;<a href="http://horms.net/projects/redundant_linux_paper/talk/html/node10.html" class="external free" rel="nofollow">http://horms.net/projects/redundant_linux_paper/talk/html/node10.html</a>&gt;
</li><li> Implementation guide (2009): What is HTTP acceleration and how to configure and manage it on Juniper networks WX series application acceleration platforms. Juniper Networks, Inc. What Is HTT P Acceleration and How To Configure and Manage It on Junip er Networks WX Series App lication Acceleration Platforms. Posjećeno 10.1.2013. &lt;<a href="http://kb.juniper.net/library/CUSTOMERSERVICE/technotes/8010020-001.pdf" class="external free" rel="nofollow">http://kb.juniper.net/library/CUSTOMERSERVICE/technotes/8010020-001.pdf</a>&gt;
</li><li> SecaGuy (2013). SecaServer: Linux install configure varnish cache server. Posjećeno 13.1.2013. &lt;<a href="http://blog.secaserver.com/2012/05/linux-install-configure-varnish-cache-server/" class="external free" rel="nofollow">http://blog.secaserver.com/2012/05/linux-install-configure-varnish-cache-server/</a>&gt;
</li><li> Vlasnik sadržaja na youtube: Varnish Software (2010). What is Varnish. Posjećeno 09.01.2013. &lt;<a href="https://www.youtube.com/watch?feature=player_embedded&amp;v=x7t2Sp174eI" class="external free" rel="nofollow">https://www.youtube.com/watch?feature=player_embedded&amp;v=x7t2Sp174eI</a>&gt;
</li><li> Carreon A (2012)What Is Varnish Cache In Layman’s Terms. Titan Theme by The Theme Foundry. Posjećeno 14.01.2013.&lt;<a href="http://queue.acm.org/detail.cfm?id=1814327" class="external free" rel="nofollow">http://queue.acm.org/detail.cfm?id=1814327</a>&gt;
</li><li> Varnish Cache (2012). Službene stranice softvera. Posjećeno 13.01.2013. &lt;<a href="https://www.varnish-cache.org/about" class="external free" rel="nofollow">https://www.varnish-cache.org/about</a>&gt;
</li><li> MediaWiki (2012). Manual: Varnish caching. Posjećeno 19.01.2013. &lt;<a href="http://www.mediawiki.org/wiki/Manual:Varnish_caching" class="external free" rel="nofollow">http://www.mediawiki.org/wiki/Manual:Varnish_caching</a>&gt;
</li></ol>

<!-- 
NewPP limit report
Preprocessor node count: 284/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sisds:pcache:idhash:4400-0!*!0!!hr!2!edit=0 and timestamp 20190203204054 -->
<div class="printfooter">
Dobavljeno iz "<a href="Varnish.html">http://security.foi.hr/wiki/index.php/Varnish</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Osobni alati</h5>
	<ul>
					<li  id="pt-login"><a href="http://security.foi.hr/wiki/index.php?title=Posebno:Prijava&amp;returnto=Varnish" title="Predlažemo Vam da se prijavite, ali nije obvezno. [o]" accesskey="o">Prijavi se</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Imenski prostori</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Varnish.html"  title="Pogledaj sadržaj [c]" accesskey="c">Članak</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://security.foi.hr/wiki/index.php?title=Razgovor:Varnish&amp;action=edit&amp;redlink=1"  title="Razgovor o stranici [t]" accesskey="t">Razgovor</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Inačice</span><a href="Varnish.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Pogledi</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Varnish.html" >Čitaj</a></span></li>
					<li id="ca-viewsource"><span><a href="http://security.foi.hr/wiki/index.php?title=Varnish&amp;action=edit"  title="Ova stranica je zaštićena. Možete pogledati izvorni kod. [e]" accesskey="e">Vidi izvor</a></span></li>
					<li id="ca-history" class="collapsible "><span><a href="http://security.foi.hr/wiki/index.php?title=Varnish&amp;action=history"  title="Ranije izmjene na ovoj stranici. [h]" accesskey="h">Vidi stare izmjene</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Radnje</span><a href="Varnish.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Traži</label></h5>
	<form action="http://security.foi.hr/wiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Posebno:Traži"/>
				<input id="searchInput" name="search" type="text"  title="Pretraži ovaj wiki [f]" accesskey="f"  value="" />
		<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Kreni" title="Idi na stranicu s ovim imenom ako ona postoji" />
		<input type="submit" name="fulltext" class="searchButton" id="mw-searchButton" value="Traži" title="Traži ovaj tekst na svim stranicama" />
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../../images/osslogo.png);" href="../../wiki.html"  title="Glavna stranica"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Orijentacija</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="../../wiki.html" title="Posjeti glavnu stranicu [z]" accesskey="z">Glavna stranica</a></li>
					<li id="n-portal"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Portal_zajednice" title="O projektu, što možete učiniti, gdje je što">Portal zajednice</a></li>
					<li id="n-currentevents"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Novosti" title="O trenutačnim događajima">Aktualno</a></li>
					<li id="n-recentchanges"><a href="./Posebno:Nedavne_promjene.html" title="Popis nedavnih promjena u wikiju. [r]" accesskey="r">Nedavne promjene</a></li>
					<li id="n-randompage"><a href="./Posebno:Slučajna_stranica.html" title="Učitaj slučajnu stranicu [x]" accesskey="x">Slučajna stranica</a></li>
					<li id="n-help"><a href="./Pomoć:Pomoć.html" title="Mjesto za pomoć suradnicima.">Pomoć</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Traka s alatima</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://security.foi.hr/wiki/index.php/Posebno:%C5%A0to_vodi_ovamo/Varnish" title="Popis svih stranica koje sadrže poveznice ovamo [j]" accesskey="j">Što vodi ovamo</a></li>
						<li id="t-recentchangeslinked"><a href="http://security.foi.hr/wiki/index.php/Posebno:Povezane_promjene/Varnish" title="Nedavne promjene na stranicama na koje vode ovdašnje poveznice [k]" accesskey="k">Povezane stranice</a></li>
																																										<li id="t-specialpages"><a href="./Posebno:Posebne_stranice.html" title="Popis posebnih stranica [q]" accesskey="q">Posebne stranice</a></li>
									<li id="t-print"><a href="http://security.foi.hr/wiki/index.php?title=Varnish&amp;printable=yes" rel="alternate" title="Verzija za ispis ove stranice [p]" accesskey="p">Verzija za ispis</a></li>
						<li id="t-permalink"><a href="http://security.foi.hr/wiki/index.php?title=Varnish&amp;oldid=17240" title="Trajna poveznica na ovu verziju stranice">Trajna poveznica</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> Datum zadnje promjene na ovoj stranici: 22:53, 20. siječnja 2013.</li>
																							<li id="footer-info-viewcount">Ova stranica je pogledana 45.126 puta.</li>
																							<li id="footer-info-copyright">Sadržaji se koriste u skladu s <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="external ">Creative Commons Attribution Share Alike</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Za%C5%A1tita_privatnosti" title="SIS Wiki:Zaštita privatnosti">Zaštita privatnosti</a></li>
																							<li id="footer-places-about"><a href="./SIS_Wiki:O_projektu_SIS_Wiki.html" title="SIS Wiki:O projektu SIS Wiki">O projektu SIS Wiki</a></li>
																							<li id="footer-places-disclaimer"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:General_disclaimer" title="SIS Wiki:General disclaimer">Odricanje od odgovornosti</a></li>
															</ul>
											<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		
<script src="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Varnish", "wgTitle": "Varnish", "wgAction": "view", "wgArticleId": 4400, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 17240, "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mediaWiki.loader.go();
}
</script>

<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"hr","language":"hr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script>		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 0.498 secs. -->			</body>
</html>
