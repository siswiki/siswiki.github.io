<!DOCTYPE html>
<html lang="hr" dir="ltr">
<head>
<meta charset="UTF-8" />
<title>Identificirajuća veza prema web servisu - SIS Wiki</title>
<meta name="generator" content="MediaWiki 1.17.0" />
<link rel="shortcut icon" href="http://security.foi.hr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="SIS Wiki (hr)" />
<link rel="EditURI" type="application/rsd+xml" href="../api.php%3Faction=rsd" />
<link title="Creative Commons" type="application/rdf+xml" href="http://security.foi.hr/wiki/index.php?title=Identificiraju%C4%87a_veza_prema_web_servisu&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="SIS Wiki Atom izvor" href="../index.php%3Ftitle=Posebno:Nedavne_promjene&amp;feed=atom" />
<link rel="stylesheet" href="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.vector&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr ns-0 ns-subject page-Identificirajuća_veza_prema_web_servisu skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Identificirajuća veza prema web servisu</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">Izvor: SIS Wiki</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Skoči na: <a href="Identificirajuća_veza_prema_web_servisu.html#mw-head">orijentacija</a>,
					<a href="Identificirajuća_veza_prema_web_servisu.html#p-search">traži</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p>Temu rezervirali:
</p>
<ul><li>Iva Slamić
</li><li>Mihovil Maričić
</li></ul>
<p><br />
</p>
<table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sadržaj</h2></div>
<ul>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#Uvod"><span class="tocnumber">1</span> <span class="toctext">Uvod</span></a></li>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#.28Ne.29Sigurnost_mobilnih_aplikacija"><span class="tocnumber">2</span> <span class="toctext">(Ne)Sigurnost mobilnih aplikacija</span></a>
<ul>
<li class="toclevel-2"><a href="Identificirajuća_veza_prema_web_servisu.html#Napadi"><span class="tocnumber">2.1</span> <span class="toctext">Napadi</span></a>
<ul>
<li class="toclevel-3"><a href="Identificirajuća_veza_prema_web_servisu.html#Man_in_the_middle_attack"><span class="tocnumber">2.1.1</span> <span class="toctext">Man in the middle attack</span></a></li>
</ul>
</li>
<li class="toclevel-2"><a href="Identificirajuća_veza_prema_web_servisu.html#Reverse_engeenering"><span class="tocnumber">2.2</span> <span class="toctext">Reverse engeenering</span></a>
<ul>
<li class="toclevel-3"><a href="Identificirajuća_veza_prema_web_servisu.html#Obfuskacija"><span class="tocnumber">2.2.1</span> <span class="toctext">Obfuskacija</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#Web_Servisi"><span class="tocnumber">3</span> <span class="toctext">Web Servisi</span></a>
<ul>
<li class="toclevel-2"><a href="Identificirajuća_veza_prema_web_servisu.html#SOAP_Web_Servisi"><span class="tocnumber">3.1</span> <span class="toctext">SOAP Web Servisi</span></a></li>
<li class="toclevel-2"><a href="Identificirajuća_veza_prema_web_servisu.html#RESTful_Web_Servisi"><span class="tocnumber">3.2</span> <span class="toctext">RESTful Web Servisi</span></a>
<ul>
<li class="toclevel-3"><a href="Identificirajuća_veza_prema_web_servisu.html#HTTP_POST"><span class="tocnumber">3.2.1</span> <span class="toctext">HTTP POST</span></a></li>
<li class="toclevel-3"><a href="Identificirajuća_veza_prema_web_servisu.html#HTTP_GET"><span class="tocnumber">3.2.2</span> <span class="toctext">HTTP GET</span></a></li>
</ul>
</li>
</ul>
</li>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#API_klju.C4.8D"><span class="tocnumber">4</span> <span class="toctext">API ključ</span></a>
<ul>
<li class="toclevel-2"><a href="Identificirajuća_veza_prema_web_servisu.html#Kako_autentificirati_korisnika_mobilne_aplikacije_na_siguran_na.C4.8Din.3F"><span class="tocnumber">4.1</span> <span class="toctext">Kako autentificirati korisnika mobilne aplikacije na siguran način?</span></a></li>
<li class="toclevel-2"><a href="Identificirajuća_veza_prema_web_servisu.html#Najbolji_prakse_za_sigurno_kori.C5.A1tenje_API_klju.C4.8Deva"><span class="tocnumber">4.2</span> <span class="toctext">Najbolji prakse za sigurno korištenje API ključeva</span></a></li>
</ul>
</li>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#Opis_programskog_rje.C5.A1enja"><span class="tocnumber">5</span> <span class="toctext">Opis programskog rješenja</span></a></li>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#Reference"><span class="tocnumber">6</span> <span class="toctext">Reference</span></a></li>
<li class="toclevel-1"><a href="Identificirajuća_veza_prema_web_servisu.html#Slike"><span class="tocnumber">7</span> <span class="toctext">Slike</span></a></li>
</ul>
</td></tr></table>
<h1> <span class="mw-headline" id="Uvod">Uvod</span></h1>
<p>Razvoj mobilnih aplikacija danas je uvelike raširen, te je najbitnije zadovoljiti korisnikove potrebe i želje. S druge strane, može biti jako zahtjevan kad je u pitanju sigurnost aplikacije. Mnogi pohranjuju svoje podatke u iste, te ima onih koji to žele iskoristiti i nekako doći do tih podataka. Ako radite na nekoj svojoj mobilnoj aplikaciji, koja zahtjeva autentifikacijju korisnika i dohvaćanje podataka sa servera, moguće je da izlažete određene funkcije vašeg poslužitelja preko web servisa kojima aplikacija može pristupiti preko weba. Tako dolazimo do pitanja kako osigurati web servise, kako autentificirati korisnika i slično. Iako poduzmete sve kako bi osigurali da se napad ne dogodi nikada ne možete biti 100% sigurni. Mobilna sigurnost je veliki problem najvećeg prioriteta danas za sve programere, ali je zato i osnovni dio kvalitete programskog proizvoda. <br />
</p><p>Tako ćemo u teorijskom dijelu govoriti općenito o napadima na mobilne aplikacije te spomenuti i opisati pojmove poput API key, Web Servis (RESTful i SOAP), reverse engineering i obfuskacija. Kod API ključa će biti spomenuti pojam "HTTP Basic Authentication" te zašto takvu autentifikaciju nije dobro koristiti. S druge strane navesti ćemo primjer korištenja OAuth ili "otvorene" autorizacije koja se preporuča u korištenju izrade sigurne aplikacije. Na kraju ćemo dati i sam opis nađeg programskog rješenja.
Kod programskog dijela će se kreirati identificirajuća veze prema RESTful servisu od strane Android aplikacije na način da će se u runtime-u aplikacije generirati neki token. Isto tako, kreirati će se Web servis koji će provjeravati zahtjev i vraćati rezultate ako je zahtjev poslan od strane aplikacije te će biti generirani API i access token (koji traje jednu sesiju) za svakog klijenta kako bi se isti mogao posebno autentificirati.
</p>
<h1> <span class="mw-headline" id=".28Ne.29Sigurnost_mobilnih_aplikacija">(Ne)Sigurnost mobilnih aplikacija</span></h1>
<p>Iz dana u dan raste broj aplikacija koje ljudi koriste u različite svrhe, pa tako većina njih drži dosta svojih privatnih informacija na njima. S obzirom da neki ljudi vide kako mogu imati neke koristi ako dođu do tih informacija pokušavaju sve kako bi neovlašteno došli do njih. Sve više i više se povećava broj napada dok većina ljudi nekada nije niti svjesna da su pogođeni time. Stoga je važno raditi na sigurnosti tih aplikacija. 
</p>
<h2> <span class="mw-headline" id="Napadi">Napadi</span></h2>
<p>Pitanje sigurnosti mobilnih aplikacija može biti u tome kako se pohranjuju podaci korisnika. Naime programer koji nema dovoljno iskustva će vjerojatno pohranjivati podatke u nekakvu običnu tekst datoteku koja je lako čitljiva, a na taj se način lako može doći do podataka. Zbog toga je te podatke potrebno kriptirati prilikom spremanja na nivou samog uređaja. Kako je na početku spomenuto, ljudi koji vide nekakvu korist u informacijama od drugih će svakako pokušati doći do njih, a čest način je neautorizirani pristup. Isto kao što smo, barem većina, naučili da nije dobro otvarati čudne email-ove, također treba biti i oprezan kada neka aplikacija pokušava tražiti pristup našim podacima kojima uopće nema razloga pristupiti.[8]<br />
Nadalje, kako danas svaka osoba koristi mobitel u skoro svakom aspektu života tako i zaposlenici nekog poduzeća koriste mobitele kako u privatne tako i u poslovne svrhe. Postoji mnogo špijunskih programa koji mogu biti instalirani na mobilne uređaje zaposlenika, te se na taj način mogu prikupljati podaci tvrtke u kojoj isti rade. Zatim, u novije vrijeme, došlo je do izrade tzv. mobilnih botova koji povezuju više uređaja u nekakvu mrežu bez znanja vlasnika
uređaja, a koji su tako kontrolirani od strane hakera. Također je bitno i provjeravati jesu li aplikacije koje imamo na mobitelima još uvijek aktivne jer se može dogoditi da su maknute iz Google ili Apple store-a iz različitih razloga bio to neki virus, kršenje autorskih prava ili možda iz razloga da je aplikacija prosljeđivala podatke nekoj trećoj strani.<br />
</p><p>Neki općeniti napadi na mobilne aplikacije koji postoje su:<br />
</p>
<ul><li> Mobile phishing
</li><li> Mobile pharming
</li><li> Mobile malware
</li><li> Mobile reversing and tampering 
</li></ul>
<h3> <span class="mw-headline" id="Man_in_the_middle_attack">Man in the middle attack</span></h3>
<p>"Man in the middle attack" (MiTM) je popularna metoda gdje napadač pokušava presresti komunikaciju između neka dva sustava, tj. između pošiljatelja i primatelja informacije. Napadač tako može presresti, slati i primati podatke koji su poslani za skroz drugu osobu, ali i ne moraju biti poslani. Naravno, i mobilni uređaji su isto izloženi takvim napadima. Znamo da podaci koji se šalju s neke mobilne aplikacije prema serveru idu preko WiFi-a ili mobilnog interneta do rutera operatera ili bazne stanice, te se usmjeravaju s rutera na ruter. Na tom putu oni se automatski pregledavaju i svaki taj skok je pod nečijom administracijom, a taj netko može sve to prisluškivati. Na taj način, napadač može preusmjeriti te podatke prema sebi i onda dalje odlučuje što će raditi s njima. Kako bi se uopće izbjegao spomenuti napad bitno je znati kako mobilna aplikacija obavlja autentifikaciju. Primjerice, nekakva potvrda koju aplikacija šalje prema poslužitelju kako bi se osiguralo da isti komunicira s aplikacijom s kojom bi i trebao.[9]<br /><br />
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:MiTM.png" class="image"><img alt="MiTM.png" src="../images/2/2b/MiTM.png" width="500" height="281" /></a><br />Slika 1. Man in the middle attack [1]<br />
</p>
<h2> <span class="mw-headline" id="Reverse_engeenering">Reverse engeenering</span></h2>
<p>Reverse engeenering je dešifriranje uređaja, aplikacije ili softvera kako bi se otkrilo na koji način isti radi da bi se ukrala ideja i napravilo nešto bolje ili čisto iz razloga da se napravi isto. Ta metoda se koristi u različite svrhe. Kada je u pitanju Android OS, metoda predstavlja načine uzmianja izvornog koda i resursa iz APK datoteke. Datoteka može biti preuzeta s mobilnog uređaja korištenjem Android Debug Bridge-a (ADB) ili skidanjem izravno s Google Play dućana. Osoba koja planira napraviti reverzni inženjering mora znati neke informacije o vašoj aplikaciji poput toga koji je glavni API URL odnosno vašu domenu. Zatim je potrebno znati na koji način se izvodi autentifikacija i je li potrebno napraviti korisnički račun kako bi se aplikacija koristila. Na kraju, također je bitno znati i koji pozivi prema servisu postoje i koje parametre primaju. Jedan od načina zaštite od reverznog inženjeringa je i obfuskacija.[13]
</p>
<h3> <span class="mw-headline" id="Obfuskacija">Obfuskacija</span></h3>
<p>Kako se reverznim inženjeringom može otkriti izvorni kod aplikacije poželjno je koristiti obfuskaciju. Jednostavno rečeno obfuskacija se koristi kako bi se kod mogao što teže razumijeti s ciljem da se spriječi krađa koda i poveća sigurnost aplikacije na taj način. Na taj način kod postaje puno teži za čitanje te je i teže napraviti reversni inženjering. Obfuskacija može biti napravljena ručno, ali više je preferiran način korištenja nekih od alata za bfuskaciju.[14]
</p>
<h1> <span class="mw-headline" id="Web_Servisi">Web Servisi</span></h1>
<p>Distribucija raznih vrsta podataka se danas vrši preko interneta putem Web Servisa te se tako informacije korisnicima pružaju na odgovarajući način. Kao što je opisano od strane W3C: 
<br /> "A web service is a software system designed to support interoperable machine-to-machine interaction over a network." [1] <br />
Možemo također reći da su oni nekakva kolekcija koja sadrži otvorene protokole i standarde korištene za razmjenu podataka između aplikacija ili sustava.<br /><br />
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Webservices.png" class="image"><img alt="Webservices.png" src="../images/4/4a/Webservices.png" width="533" height="211" /></a><br />Slika 2. Web Services [2]<br /><br />
</p><p>Nadalje, za komunikaciju s Web Servisima koriste se najčešće XML i JSON za razmjenu poruka te oni na taj način nisu vezani za niti jedan operacijski sustav ili programski jezik. Većina Web Servisa koristi HTTP pa su tako u osnovi i dalje samo web aplikacije te su zbog toga ranjive i potrebno ih je dobro zaštiti. Ranjivosti su slične kao i kod web aplikacija kao npr. SQL injekcija, otkrivanje i propuštanje raznih informacija i slično. S druge strane, vezano uz našu temu, pitanje je kako osigurati neke krajnje točke Web Servisa i kako na siguran način autentificirati korisnike koji žele koristiti neku mobilnu aplikaciju. Naravno, treba se pobrinuti da se ne pohranjuju nikakve osjetljive informacije s kojima bi se neovlašteno moglo pristupiti podacima na serveru i tako ugroziti povjerljive podatke.<br />
</p><p>Web Servisi sadrže tri komponetne:<br />
</p>
<ul><li>SOAP - XML bazirani protokol za pristup Web Servisima kojeg W3C preporuča za korištenje u komunikaciji između aplikacija (zbog XML jezika neovisan, tj. može ga koristiti bilo koji programski jezik ili platforma)
</li><li>WSDL (Web Services Description Language) - xml dokument koji sadrži informacije o Web Servisu (method name, method parameter) i kako im pristupiti
</li><li>UDDI (Universal Description, Discovery and Integration) - XML bazirani framework koji se koristi za opisivanje, otkrivanje i integriranje Web Servisa<br />
</li></ul>
<p>Isto tako postoje dvije vrste Web Servisa: “Big Web Services" i "RESTful Web Services". "Big Web Services" se temelje na XML porukama koje prate "Simple Object Access Protocol" (SOAP) - XML jezik koji definira arhitekturu poruke i format poruke. Dok, su "RESTful Web Services" često bolje integrirane s HTTP-om nego što su SOAP i ne zahtijevaju XML poruke ili WSDL usluge.[2]
</p>
<h2> <span class="mw-headline" id="SOAP_Web_Servisi">SOAP Web Servisi</span></h2>
<p>Kao što je već navedeno SOAP je protokol, tj. skraćenica od "Simple Object Access Protocol" koji definira neke svoje standarde čija se pravila moraju strogo slijediti. Jedini format koji SOAP protokol dopušta je XML, te koristi sučelja usluga kako bi prikazao poslovnu logiku. S obzirom da su SOAP poruke kompleksne koristi se Java API JAX-WS (Java API for XML Web Services) koji tu kompleksnost skriva od programera. Prednosti SOAP Web Servisa su te da definiraju svoju vlastitu sigurnost (WS Security je ekstenzija koja to omogućuje), te to što su neovisni i o programskom jeziku i o platformi, odnosno mogu biti napisani u bilo kojem programskom jeziku i izvršeni na bilo kojoj platformi. S druge strane, takvi Web Servisi imaju i svojih nedostataka. Koriste XML format koji mora biti parsiran da bi bio čitljiv i zbog definiranih standarda koji se strogo moraju slijediti su jako spori i troše više propusnosti i resursa. Također su ovisni o WSDL opisu servera jer nemaju nikakvih drugih mehanizama za otkrivanje usluga.[4]<br />
</p>
<h2> <span class="mw-headline" id="RESTful_Web_Servisi">RESTful Web Servisi</span></h2>
<p>Više su preferirani nego SOAP Web Servisi. REST je kratica za "REpresentational State Transfer" što zapravo označava koncept koji se bazira na promijeni stanja klijenta gdje se sve akcije obavljaju u trenutku promijene tog stanja, s mogućnošću vraćanja na prethodna stanja. Za prikazivanje poslovne logike koristi se URI (Uniform Resource Identifiers) standard, primjer. http//<a href="https://www.nameofwebpage.com/program/method?Parameters=xx" class="external free" rel="nofollow">https://www.nameofwebpage.com/program/method?Parameters=xx</a>. Sigurnost poruka osigurava transportni protokol (HTTPS). Ovi Web Servisi imaju velik broj prednosti. Prvo je da su brzi za razliku od SOAP protokola jer nemaju nekih strogih specifikacija te tako troše manje propusnosti i resursa. Također su neovisni o programskom jeziku i platformi. Pozitivna strana je i ta što mogu koristiti, uz HTTP protokol na kojem su bazirani, i SOAP protokol, dok obrnuto nije moguće. REST podržava različite oblike podataka poput običnog teksta, HTML, XML, JSON i slično. Nadalje, Java API koji RESTful Web Servisi koriste se naziva JAX-RS (JAVA API for RESTful Web Services).[4]<br />
</p><p>Kod RESTful servisa je bitno napomenuti da koristi HTTP metode koje služe tome da se kreiraju, ažuriraju i brišu resursi, te za izvršavanje upita. Najčešće korištene HTTP metode su: POST, GET, PUT, PATCH i DELETE od kojih su nama za ovaj projekt bitne prve dvije.[12]<br />
</p>
<h4> <span class="mw-headline" id="HTTP_POST">HTTP POST</span></h4>
<ul><li>služi za stvaranje novih resursa
</li><li>ako je resurs kreiran vraća odgovor 201 (Created) koji također sadrži status zahtjeva novog resursa i njegovu lokaciju
</li><li>ako resurs nije identificiran s URI-em vraća odgovor 200 (OK) ili 204 (No Content)
</li></ul>
<p><b>Primjer</b><br />
HTTP POST <a href="http://www.appdomain.com/users" class="external free" rel="nofollow">http://www.appdomain.com/users</a><br />
HTTP POST <a href="http://www.appdomain.com/users/123/accounts" class="external free" rel="nofollow">http://www.appdomain.com/users/123/accounts</a>
</p>
<h4> <span class="mw-headline" id="HTTP_GET">HTTP GET</span></h4>
<ul><li>služe za prikaz određenog resursa
</li><li>ako je resurs pronađen na poslužitelju vraća odgovor 200 (OK) zajedno sa sadržajem u XML ili JSON formatu
</li><li>ako resurs nije pronađen na poslužitelju vraća odgovor 404 (NOT FOUND)
</li><li>ako GET zahtjev nije točno definiran vraća odgovor 400 (BAD REQUEST)
</li></ul>
<p><b>Primjer</b><br />
HTTP GET <a href="http://www.appdomain.com/users" class="external free" rel="nofollow">http://www.appdomain.com/users</a><br />
HTTP GET <a href="http://www.appdomain.com/users?size=20&amp;page=5" class="external free" rel="nofollow">http://www.appdomain.com/users?size=20&amp;page=5</a><br />
HTTP GET <a href="http://www.appdomain.com/users/123" class="external free" rel="nofollow">http://www.appdomain.com/users/123</a><br />
HTTP GET <a href="http://www.appdomain.com/users/123/address" class="external free" rel="nofollow">http://www.appdomain.com/users/123/address</a>
</p><p>Kao što smo naveli GET zahtjevi trebaju služiti samo tome da se dohvaćaju resursi, ali nikako za njihovo ažuriranje jer se tako narušava sigurnost aplikacije. Po tome su POST zahtjevi nešto sigurniji jer ne otkrivaju informacije putem URL-a, te ćemo ih koristiti i u našem programskom riješenju. Naravno, POST metode same po sebi nisu dovoljne za veliku sigurnost aplikacije.
</p>
<h1> <span class="mw-headline" id="API_klju.C4.8D">API ključ</span></h1>
<p>"Application programming interface key" (API key) je kod korišten u aplikacijama koje pozivaju API kako bi se identificirao pozvani program ili programer ili korisnik. API ključ je ujedno i jedinstveni identifikator i token za autentifikaciju jer sadrži skup prava pristupa prema API-u s kojim je povezan. Prema tome je svaki API ključ jedinstven za pojedinu aplikaciju što mu zapravo omogućava UUID (universally unique identifier) sistem.[7]<br />
</p><p>U ovom projektu ćemo se bazirati na ulogu koju API ključevi imaju kod mobilnih aplikacija. Aplikacije obično koriste API ključeve kako bi pružatelj usluga mogao filtrirati zahtjeve. Pravilnom upotrebnom oni igraju važnu ulogu u sigurnosti aplikacije, kao i njezinoj efikasnosti te praćenju upotrebe. Najosnovniji oblik API autentifikacije je poznat pod  nazivom "HTTP Basic Authentication" koji zahtjeva samo korisničko ime i password. S obzirom kako radi vrlo je jednostavan za one koji pišu API-e i ljude koji ih koriste.<br />
</p><p>Kako funkcionira:[3]<br />
</p>
<ul><li>Programer dobije API ključ koji uglavnom izgleda ovako: 3bb743bbd45d4eb8ae31e16b9f83c9ba:ffb7d6369eb84580ad2e52ca3fc06c9d
</li><li>Programer mora biti odgovoran te ga pohraniti na siguran način, negdje gdje nitko ne može doći do njega
</li><li>Programer šalje API zahtjeve prema API usluzi stavljanjem tog istog API ključa u HTTP autorizacijski "header" zajedno s riječju <i>Basic</i> <br />
</li></ul>
<p>On se zatim enkodira, a API server ga dekodira, te ako odgovara dospustit će da se zahtjev izvrši.<br />
</p><p>Tu nastaje problem ako se želi koristiti "HTTP Basic Authentication" kod mobilne aplikacije iz razloga što se API ključ mora spremiti u aplikaciju kako bi sve funkcioniralo. Zapravo je u većini slučajeva nepraktično jer nema sigurnog načina pohrane ključa, stoga takva autentifikacija nije najpogodnija u nepouzdanim okruženjima. Na primjer, ako napravite mobilnu aplikaciju s API ključem ugrađenim unutra drugi "pametni" korisnik bi mogao napraviti "reverse engineer" vaše aplikacije te tako izložiti ključ, doći do vašeg koda, točnije cijele konstrukcije programa, i zloupotrebiti aplikaciju. Stoga kako bi aplikacija bila sigurnija "hard-encoding" nije poželjan.[5]
</p>
<h2> <span class="mw-headline" id="Kako_autentificirati_korisnika_mobilne_aplikacije_na_siguran_na.C4.8Din.3F">Kako autentificirati korisnika mobilne aplikacije na siguran način?</span></h2>
<p>Autentifikaciu preko API ključa svatko radi na svoj način, te je najčešći taj da se prenese preko URL-a, npr. <a href="http://example.com?apikey=mysecret_key" class="external free" rel="nofollow">http://example.com?apikey=mysecret_key</a>. Iako takav način pruža osnovnu zaštitu u praksi je najgori način za prenošenje API ključa. Već smo spomenuli osnovnu autentifikaciju te rekli kako je kod mobilne aplikacije nije poželjno koristiti. Tako dolazimo do pojma otvorene autorizacije (eng. Open Authorization) ili OAuth koja ima dvije verzije: OAuth1 i OAuth2.<br />
</p><p>Prvenstveno, takva autorizacija isto zahtjeva nekakve korisničke podatke, ali u pozadini između aplikacije i servera se razmijenjuju informacije da bi se na kraju aplikaciji dodijelio važeći ključ.<br />
</p><p>Sada ćemo kroz primjer pokazati kako se odvija ta autorizacija. Za primjer ćemo uzeti prijavu korisnika u aplikaciju.<br />
Nerijetko kada korisnik prvi put otvori aplikaciju prikaže mu se zaslon za prijavu (registraciju) gdje se od njega traži da unese podatke, odnosno mail ili
korisničko ime i lozinku. Kada unese tražene podatke aplikacija pošalje POST zahtjev pružatelju API usluge, naravno bitno je slati preko SSL sloja. Kada
poslužitelj dobije te podatke prvo ih ovjeri i potvrdi, a zatim stvori pristupni (access) token za korisnika koji ima neki rok trajanja. Taj isti token se spremi negdje na mobilnom uređaju i tretira se zapravo kao API ključ preko kojeg ćemo moći pristupati API usluzi. Naravno, nakon što istekne rok tokena ponovno se zatraži korisnika da unese svoje podatke kako bi i dalje mogao koristiti aplikaciju te mu se dodijeli novi, i tako u krug.[5]<br /><br />
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:UsingAPIkey.png" class="image"><img alt="UsingAPIkey.png" src="../images/1/1e/UsingAPIkey.png" width="500" height="851" /></a><br />Slika 3. Kako to radi? [5]<br />
</p>
<h2> <span class="mw-headline" id="Najbolji_prakse_za_sigurno_kori.C5.A1tenje_API_klju.C4.8Deva">Najbolji prakse za sigurno korištenje API ključeva</span></h2>
<p>Kako je već navedeno jako je bitno, kada se koriste, držati API ključeve sigurnima jer jednom ako netko dođe do toga,
može ugroziti vaš račun te tako može doći do neočekivanih troškova.
Neke od najboljih praksi naveo je Google u svom "Help" odjeljku za rad s API-em i API ključevima:[11]
</p>
<ul><li> API ključ se nemojte ugrađivati izravno u kod
</li><li> API ključ nemojte pohranjivati u datoteke izvornog koda
</li><li> Ograničite upurabu API ključeva na one IP adrese, URL-ove i mobilne aplikacije koje ih stvarno trebaju
</li><li> Obrišite one ključeve koji vam ne trebaju
</li><li> S vremena na vrijeme ih obnovite 
</li><li> Pregledajte svoj kod prije nego ga javno objavite
</li></ul>
<h1> <span class="mw-headline" id="Opis_programskog_rje.C5.A1enja">Opis programskog rješenja</span></h1>
<p>Cilj ovog projekta "Identificirajuća veza prema Web Servisu" bio je pokazati na programskom riješenju kako napraviti sigurnu aplikaciju. Za autentifikaciju korisnika smo uzeli registraciju i prijavu preko koje vrši prijavu sa svojim emailom i lozinkom. Kao i u svakoj aplikaciji tako i u našoj, kada se korisnik prvi put ide upisati izvrši se registracija, a sve dalje je prijava. Aplikaciju smo radili u programskom okruženju Android Studio, te smo koristili programski jezik Java. S druge strane, kao što smo već prethodno kroz teoriju spomenuli, koristili smo RESTful web servise.<br />
</p><p>Za rad s aplikacijom napravljene su četiri klase: LoginActivity, MainActivity, ServiceResponse, WebServiceCaller i dva interface-a: APIInterface i OnServiceFinished. LoginActivity klasa implementira zadnja dva spomenuta interface-a. Ona služi tome da se korisnik autentificira i da dobije svoj "access token". U APIInterface klasi se definira što će se sve slati servisu. Klase ServiceResponse i WebServiceCaller komuniciraju s web servisom. Zahtjevi se
naravno šalju POST metodom te je definiran i API ključ za autentifikaciju.<br />
</p><p>Za rad s web servisima napravljene su dvije skripte. Skripta pod nazivom baza.class.php služi za definiranje poslužitelja i baze te sadrži funkcije za spajanje na bazu i izvršavanje upita. Druga skripta, loginOrRegistrate.php, služi za pohranu novog korisnika ili autentifikaciju postojećeg. Tu su definirani upiti koji se izvršavaju nad bazom. Tako imamo SELECT za provjeru postojećeg korisnika, INSERT za stvaranje novog i UPDATE za stvaranje pristupnog tokena korisnika. Bitno je također napomenuti da, prije nego što se sve izvrši, postoji if uvjet koja zahtjeva POST metodu, da uređaj bude
Android, te odgovarajući API ključ. Nadalje, u kodu smo koristili i tzv. "prepare statements" koje služe tome da se preko njih izvršavaju isti ili slični upiti tako da se šalju neodređeni parametri što povećava sigurnost aplikacije. Jedan primjer toga je "INSERT INTO table VALUES (?,&#160;?)".<br />
</p><p>Problem kod naše aplikacije je taj da se reverznim inženjeringom, opisanim prethodno, može doći do API ključa te bi sigurnost mogli povećati time da napravimo obfuskaciju koda.
</p><p>Source code: <a href="https://github.com/mihmarici/sisProject" class="external free" rel="nofollow">https://github.com/mihmarici/sisProject</a>
</p>
<h1> <span class="mw-headline" id="Reference">Reference</span></h1>
<p>1. W3C, Web Services Glossary, 2004, <a href="https://www.w3.org/TR/2004/NOTE-ws-gloss-20040211/#webservice" class="external free" rel="nofollow">https://www.w3.org/TR/2004/NOTE-ws-gloss-20040211/#webservice</a> dostupno 10.01.2018.<br />
2. Tutorials on point,What are Web Services?, 2017, <a href="https://www.tutorialspoint.com/webservices/what_are_web_services.htm" class="external free" rel="nofollow">https://www.tutorialspoint.com/webservices/what_are_web_services.htm</a> dostupno 10.01.2018.<br />
3. Oracle, The Java EE 6 Tutorial, 2013, <a href="https://docs.oracle.com/javaee/6/tutorial/doc/giqsx.html" class="external free" rel="nofollow">https://docs.oracle.com/javaee/6/tutorial/doc/giqsx.html</a> dostupno 10.01.2018.<br />
4. Javatpoint, Web Services Tutorial, 2011-2017, <a href="https://www.javatpoint.com/web-services-tutorial" class="external free" rel="nofollow">https://www.javatpoint.com/web-services-tutorial</a> dostupno 10.01.2018.<br />
5. Randall Degges, The Ultimate Guide to Mobile API Security , 2015, <a href="https://stormpath.com/blog/the-ultimate-guide-to-mobile-api-security" class="external free" rel="nofollow">https://stormpath.com/blog/the-ultimate-guide-to-mobile-api-security</a> dostupno 10.01.2018.<br />
6. Skip Hovsmith, Mobile API Security Techniques , 2017, <a href="https://hackernoon.com/mobile-api-security-techniques-682a5da4fe10" class="external free" rel="nofollow">https://hackernoon.com/mobile-api-security-techniques-682a5da4fe10</a> dostupno 10.01.2018.<br />
7. Tomtom, WHAT IS AN API KEY?, 2016, <a href="https://uk.support.telematics.tomtom.com/app/answers/detail/a_id/6121/~/what-is-an-api-key%3F" class="external free" rel="nofollow">https://uk.support.telematics.tomtom.com/app/answers/detail/a_id/6121/~/what-is-an-api-key%3F</a> dostupno 10.01.2018.<br />
8. Eric-Beehler, Top five mobile application vulnerabilities, 2012, <a href="http://searchmobilecomputing.techtarget.com/tip/Top-five-mobile-application-vulnerabilities" class="external free" rel="nofollow">http://searchmobilecomputing.techtarget.com/tip/Top-five-mobile-application-vulnerabilities</a> dostupno 10.01.2018.<br />
9. Veracode, Man-in-the-Middle (MITM) Attack, <a href="https://www.veracode.com/security/man-middle-attack" class="external free" rel="nofollow">https://www.veracode.com/security/man-middle-attack</a> dostupno 10.01.2018.<br />
10. Gonzalo Vázquez, An Introduction to API’s, 2015, <a href="https://restful.io/an-introduction-to-api-s-cee90581ca1b" class="external free" rel="nofollow">https://restful.io/an-introduction-to-api-s-cee90581ca1b</a> dostupno 10.01.2018.<br />
11. Google, Best practices for securely using API keys, <a href="https://support.google.com/cloud/answer/6310037?hl=en" class="external free" rel="nofollow">https://support.google.com/cloud/answer/6310037?hl=en</a> dostupno 10.01.2018.<br />
12. REST API Tutorial, HTTP Methods, <a href="https://restfulapi.net/http-methods/" class="external free" rel="nofollow">https://restfulapi.net/http-methods/</a> dostupno 14.01.2018.<br />
13. SmartymPro, Mobile app security: How to avoid reverse engineering of an Android app, 2017, <a href="https://smartym.pro/blog/mobile-app-security-how-to-avoid-reverse-engineering-of-an-android-app/" class="external free" rel="nofollow">https://smartym.pro/blog/mobile-app-security-how-to-avoid-reverse-engineering-of-an-android-app/</a> dostupno 17.01.2018.<br />
14. Stackexchange, Obfuscation and Mobile App, 2014, <a href="https://security.stackexchange.com/questions/57500/obfuscation-and-mobile-app" class="external free" rel="nofollow">https://security.stackexchange.com/questions/57500/obfuscation-and-mobile-app</a> dostupno 17.01.2018.
</p>
<h1> <span class="mw-headline" id="Slike">Slike</span></h1>
<p>1. <a href="http://www.dw.com/en/uk-study-reveals-significant-privacy-and-data-risks-in-trusted-health-apps/a-18742210" class="external free" rel="nofollow">http://www.dw.com/en/uk-study-reveals-significant-privacy-and-data-risks-in-trusted-health-apps/a-18742210</a> dostupno 10.01.2018.<br />
2. <a href="http://tutorials.jenkov.com/web-services/overview.html" class="external free" rel="nofollow">http://tutorials.jenkov.com/web-services/overview.html</a> dostupno 10.01.2018.<br />
3. <a href="https://stormpath.com/blog/the-ultimate-guide-to-mobile-api-security" class="external free" rel="nofollow">https://stormpath.com/blog/the-ultimate-guide-to-mobile-api-security</a> dostupno 10.01.2018.
</p>
<!-- 
NewPP limit report
Preprocessor node count: 2/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sisds:pcache:idhash:9857-0!*!0!!hr!2!edit=0 and timestamp 20190203204124 -->
<div class="printfooter">
Dobavljeno iz "<a href="Identificirajuća_veza_prema_web_servisu.html">http://security.foi.hr/wiki/index.php/Identificiraju%C4%87a_veza_prema_web_servisu</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Osobni alati</h5>
	<ul>
					<li  id="pt-login"><a href="http://security.foi.hr/wiki/index.php?title=Posebno:Prijava&amp;returnto=Identificiraju%C4%87a_veza_prema_web_servisu" title="Predlažemo Vam da se prijavite, ali nije obvezno. [o]" accesskey="o">Prijavi se</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Imenski prostori</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Identificirajuća_veza_prema_web_servisu.html"  title="Pogledaj sadržaj [c]" accesskey="c">Članak</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://security.foi.hr/wiki/index.php?title=Razgovor:Identificiraju%C4%87a_veza_prema_web_servisu&amp;action=edit&amp;redlink=1"  title="Razgovor o stranici [t]" accesskey="t">Razgovor</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Inačice</span><a href="Identificirajuća_veza_prema_web_servisu.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Pogledi</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Identificirajuća_veza_prema_web_servisu.html" >Čitaj</a></span></li>
					<li id="ca-viewsource"><span><a href="http://security.foi.hr/wiki/index.php?title=Identificiraju%C4%87a_veza_prema_web_servisu&amp;action=edit"  title="Ova stranica je zaštićena. Možete pogledati izvorni kod. [e]" accesskey="e">Vidi izvor</a></span></li>
					<li id="ca-history" class="collapsible "><span><a href="http://security.foi.hr/wiki/index.php?title=Identificiraju%C4%87a_veza_prema_web_servisu&amp;action=history"  title="Ranije izmjene na ovoj stranici. [h]" accesskey="h">Vidi stare izmjene</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Radnje</span><a href="Identificirajuća_veza_prema_web_servisu.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Traži</label></h5>
	<form action="http://security.foi.hr/wiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Posebno:Traži"/>
				<input id="searchInput" name="search" type="text"  title="Pretraži ovaj wiki [f]" accesskey="f"  value="" />
		<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Kreni" title="Idi na stranicu s ovim imenom ako ona postoji" />
		<input type="submit" name="fulltext" class="searchButton" id="mw-searchButton" value="Traži" title="Traži ovaj tekst na svim stranicama" />
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../../images/osslogo.png);" href="../../wiki.html"  title="Glavna stranica"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Orijentacija</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="../../wiki.html" title="Posjeti glavnu stranicu [z]" accesskey="z">Glavna stranica</a></li>
					<li id="n-portal"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Portal_zajednice" title="O projektu, što možete učiniti, gdje je što">Portal zajednice</a></li>
					<li id="n-currentevents"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Novosti" title="O trenutačnim događajima">Aktualno</a></li>
					<li id="n-recentchanges"><a href="./Posebno:Nedavne_promjene.html" title="Popis nedavnih promjena u wikiju. [r]" accesskey="r">Nedavne promjene</a></li>
					<li id="n-randompage"><a href="./Posebno:Slučajna_stranica.html" title="Učitaj slučajnu stranicu [x]" accesskey="x">Slučajna stranica</a></li>
					<li id="n-help"><a href="./Pomoć:Pomoć.html" title="Mjesto za pomoć suradnicima.">Pomoć</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Traka s alatima</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://security.foi.hr/wiki/index.php/Posebno:%C5%A0to_vodi_ovamo/Identificiraju%C4%87a_veza_prema_web_servisu" title="Popis svih stranica koje sadrže poveznice ovamo [j]" accesskey="j">Što vodi ovamo</a></li>
						<li id="t-recentchangeslinked"><a href="http://security.foi.hr/wiki/index.php/Posebno:Povezane_promjene/Identificiraju%C4%87a_veza_prema_web_servisu" title="Nedavne promjene na stranicama na koje vode ovdašnje poveznice [k]" accesskey="k">Povezane stranice</a></li>
																																										<li id="t-specialpages"><a href="./Posebno:Posebne_stranice.html" title="Popis posebnih stranica [q]" accesskey="q">Posebne stranice</a></li>
									<li id="t-print"><a href="http://security.foi.hr/wiki/index.php?title=Identificiraju%C4%87a_veza_prema_web_servisu&amp;printable=yes" rel="alternate" title="Verzija za ispis ove stranice [p]" accesskey="p">Verzija za ispis</a></li>
						<li id="t-permalink"><a href="http://security.foi.hr/wiki/index.php?title=Identificiraju%C4%87a_veza_prema_web_servisu&amp;oldid=42137" title="Trajna poveznica na ovu verziju stranice">Trajna poveznica</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> Datum zadnje promjene na ovoj stranici: 23:19, 19. siječnja 2018.</li>
																							<li id="footer-info-viewcount">Ova stranica je pogledana 622 puta.</li>
																							<li id="footer-info-copyright">Sadržaji se koriste u skladu s <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="external ">Creative Commons Attribution Share Alike</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Za%C5%A1tita_privatnosti" title="SIS Wiki:Zaštita privatnosti">Zaštita privatnosti</a></li>
																							<li id="footer-places-about"><a href="./SIS_Wiki:O_projektu_SIS_Wiki.html" title="SIS Wiki:O projektu SIS Wiki">O projektu SIS Wiki</a></li>
																							<li id="footer-places-disclaimer"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:General_disclaimer" title="SIS Wiki:General disclaimer">Odricanje od odgovornosti</a></li>
															</ul>
											<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		
<script src="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Identificirajuća_veza_prema_web_servisu", "wgTitle": "Identificirajuća veza prema web servisu", "wgAction": "view", "wgArticleId": 9857, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 42137, "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mediaWiki.loader.go();
}
</script>

<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"hr","language":"hr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script>		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 0.303 secs. -->			</body>
</html>
