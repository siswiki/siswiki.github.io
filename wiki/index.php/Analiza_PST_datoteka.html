<!DOCTYPE html>
<html lang="hr" dir="ltr">
<head>
<meta charset="UTF-8" />
<title>Analiza PST datoteka - SIS Wiki</title>
<meta name="generator" content="MediaWiki 1.17.0" />
<link rel="shortcut icon" href="http://security.foi.hr/favicon.ico" />
<link rel="search" type="application/opensearchdescription+xml" href="../opensearch_desc.php" title="SIS Wiki (hr)" />
<link rel="EditURI" type="application/rsd+xml" href="../api.php%3Faction=rsd" />
<link title="Creative Commons" type="application/rdf+xml" href="http://security.foi.hr/wiki/index.php?title=Analiza_PST_datoteka&amp;action=creativecommons" rel="meta" />
<link rel="copyright" href="http://creativecommons.org/licenses/by-sa/3.0/" />
<link rel="alternate" type="application/atom+xml" title="SIS Wiki Atom izvor" href="../index.php%3Ftitle=Posebno:Nedavne_promjene&amp;feed=atom" />
<link rel="stylesheet" href="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=mediawiki.legacy.commonPrint%252Cshared%257Cskins.vector&amp;only=styles&amp;skin=vector&amp;*.css" />
<meta name="ResourceLoaderDynamicStyles" content="" />
<!--[if lt IE 7]><style type="text/css">body{behavior:url("/wiki/skins/vector/csshover.min.htc")}</style><![endif]--></head>
<body class="mediawiki ltr ns-0 ns-subject page-Analiza_PST_datoteka skin-vector">
		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<!-- content -->
		<div id="content">
			<a id="top"></a>
			<div id="mw-js-message" style="display:none;"></div>
						<!-- firstHeading -->
			<h1 id="firstHeading" class="firstHeading">Analiza PST datoteka</h1>
			<!-- /firstHeading -->
			<!-- bodyContent -->
			<div id="bodyContent">
				<!-- tagline -->
				<div id="siteSub">Izvor: SIS Wiki</div>
				<!-- /tagline -->
				<!-- subtitle -->
				<div id="contentSub"></div>
				<!-- /subtitle -->
																<!-- jumpto -->
				<div id="jump-to-nav">
					Skoči na: <a href="Analiza_PST_datoteka.html#mw-head">orijentacija</a>,
					<a href="Analiza_PST_datoteka.html#p-search">traži</a>
				</div>
				<!-- /jumpto -->
								<!-- bodytext -->
				<p><b>Članovi tima:</b>
<br />
</p>
<ol>
<li>Martina Šestak</li>
<li>Goran Vodomin</li>
<li>Matej Vuković</li>
<li>Viktor Lazar</li>
</ol>
<p><br />
</p>
<hr />
<table align="middle">
 
<tr>
<td><table id="toc" class="toc"><tr><td><div id="toctitle"><h2>Sadržaj</h2></div>
<ul>
<li class="toclevel-1 tocsection-1"><a href="Analiza_PST_datoteka.html#Uvod"><span class="tocnumber">1</span> <span class="toctext">Uvod</span></a></li>
<li class="toclevel-1 tocsection-2"><a href="Analiza_PST_datoteka.html#PST_datoteke"><span class="tocnumber">2</span> <span class="toctext">PST datoteke</span></a>
<ul>
<li class="toclevel-2 tocsection-3"><a href="Analiza_PST_datoteka.html#Definicija_PST_datoteka"><span class="tocnumber">2.1</span> <span class="toctext">Definicija PST datoteka</span></a></li>
<li class="toclevel-2 tocsection-4"><a href="Analiza_PST_datoteka.html#Karakteristike_PST_datoteka"><span class="tocnumber">2.2</span> <span class="toctext">Karakteristike PST datoteka</span></a>
<ul>
<li class="toclevel-3 tocsection-5"><a href="Analiza_PST_datoteka.html#Struktura"><span class="tocnumber">2.2.1</span> <span class="toctext">Struktura</span></a></li>
<li class="toclevel-3 tocsection-6"><a href="Analiza_PST_datoteka.html#Lokacija_PST_datoteka"><span class="tocnumber">2.2.2</span> <span class="toctext">Lokacija PST datoteka</span></a></li>
</ul>
</li>
<li class="toclevel-2 tocsection-7"><a href="Analiza_PST_datoteka.html#Prednosti_i_nedostaci_PST_datoteka"><span class="tocnumber">2.3</span> <span class="toctext">Prednosti i nedostaci PST datoteka</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-8"><a href="Analiza_PST_datoteka.html#PSTAnalyzerr_aplikacija"><span class="tocnumber">3</span> <span class="toctext">PSTAnalyzerr aplikacija</span></a>
<ul>
<li class="toclevel-2 tocsection-9"><a href="Analiza_PST_datoteka.html#Java_Lib-Pst"><span class="tocnumber">3.1</span> <span class="toctext">Java Lib-Pst</span></a></li>
<li class="toclevel-2 tocsection-10"><a href="Analiza_PST_datoteka.html#Elasticsearch"><span class="tocnumber">3.2</span> <span class="toctext">Elasticsearch</span></a></li>
<li class="toclevel-2 tocsection-11"><a href="Analiza_PST_datoteka.html#Spark"><span class="tocnumber">3.3</span> <span class="toctext">Spark</span></a></li>
<li class="toclevel-2 tocsection-12"><a href="Analiza_PST_datoteka.html#Kibana"><span class="tocnumber">3.4</span> <span class="toctext">Kibana</span></a></li>
</ul>
</li>
<li class="toclevel-1 tocsection-13"><a href="Analiza_PST_datoteka.html#Literatura"><span class="tocnumber">4</span> <span class="toctext">Literatura</span></a></li>
</ul>
</td></tr></table>
</td></tr></table>
<p><br />
</p>
<h2> <span class="mw-headline" id="Uvod">Uvod</span></h2>
<p>Cilj je ovog projekta napraviti aplikaciju u koju se učitava PST datoteka, iz nje se zatim dohvaćaju podaci o mail-ovima(from, to, cc, bcc, subject mail-a). Po podacima je moguće raditi pretragu punog teksta. UI dio sadrži popis svih mail-ova iz PST datoteke te njezinu vizualizaciju pomću odabranog alata.</p>
<p>Smisao zadatka je grafički prikazati podatke koji se dobivaju analizom PST datoteka.
</p>
<h2> <span class="mw-headline" id="PST_datoteke">PST datoteke</span></h2>
<h3> <span class="mw-headline" id="Definicija_PST_datoteka">Definicija PST datoteka</span></h3>
<p>PST datoteke su karakteristične za Microsoft Outlook. Svaka PST datoteka (eng. <i>Personal Folders file</i>) sadrži poruke (mail-ove) i ostale dokumente koje koristi Outlook. Također, sve email poruke, kalendar, zadaci i ostale stavke su pohranjene i na mail serveru kojima se pristupa korištenjem protokola poput POP3, IMAP, HTTP i sl.
</p>
<div class="thumb tright"><div class="thumbinner" style="width:362px;"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Outlook-pst-file.jpg" class="image"><img alt="PST datoteka" src="../images/thumb/4/43/Outlook-pst-file.jpg/360px-Outlook-pst-file.jpg" width="360" height="193" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Outlook-pst-file.jpg" class="internal" title="Povećaj"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Slika 1. PST datoteka <i>. Preuzeto 18.1.2015. s <a href="http://www.safepstbackup.com/i/outlook-pst-file.jpg" class="external autonumber" rel="nofollow">[1]</a></i>.</div></div></div>
<p>PST datoteku je moguće premjestiti u eng.<i>Outlook Data file</i>(.pst). Pritom je bitno napomenuti da se ovim postupkom ne utječe na ograničenje veličine mailbox-a na mail serveru jer je ta datoteka pohranjena lokalno. Na ovaj se način može osloboditi određen dio memorije na mail serveru. 
Osim toga, kao dodatnu mogućnost MS Outlook nudi pohranu podataka u PST datoteku pod nazivom eng. <i>offline Outlook data file</i> s ekstenzijom .ost. U tom slučaju nije potrebna internetska veza za rad s tom datotekom, nego je moguće raditi offline pa se promjene ažuriraju s mail serverom nakon uspostave internetske veze.
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Martina.sestak&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Martina.sestak (stranica ne postoji)">Martina Šestak</a> 17:13, 18. siječnja 2015. (CET)
</p><p><br /><br /><br />
</p>
<hr />
<h3> <span class="mw-headline" id="Karakteristike_PST_datoteka">Karakteristike PST datoteka</span></h3>
<div class="thumb tright"><div class="thumbinner" style="width:231px;"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Folder-list.PNG" class="image"><img alt="Struktura PST datoteke" src="../images/3/35/Folder-list.PNG" width="229" height="316" class="thumbimage" /></a>  <div class="thumbcaption"><div class="magnify"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Folder-list.PNG" class="internal" title="Povećaj"><img src="../skins/common/images/magnify-clip.png" width="15" height="11" alt="" /></a></div>Slika 2. Struktura PST datoteke <i>. Preuzeto 18.1.2015. s <a href="http://www.winpst.com/help_documents/converter/images/folder_list.gif" class="external autonumber" rel="nofollow">[2]</a></i>.</div></div></div>
<h4> <span class="mw-headline" id="Struktura">Struktura</span></h4>
<p>Na slici 2. prikazana je struktura uobičajene PST datoteke koju čine sljedeće mape (eng.<i> folders</i>):
</p>
<ul>
<li>Inbox</li>
<li>Drafts</li>
<li>Sent Items</li>
<li>Deleted Items</li>
<li>Calendar</li>
<li>Contacts</li>
<li>Junk E-mail</li>
<p>...
</p>
</ul>
<p>Osim navedenih mapa i stavki, PST datoteka sadrži i postavke  konfiguracije poput pogleda (eng.<i>Views</i>), <i>custom</i> formi te pravila i upozorenja.
</p><p><br />
</p>
<hr />
<p><br />
</p>
<h4> <span class="mw-headline" id="Lokacija_PST_datoteka">Lokacija PST datoteka</span></h4>
<p>Prema uobičajenim postavkama, PST datoteke su na Windows operacijskom sustavu smještene na sljedećim lokacijama:
</p>
<ul>
<li>Za Outlook 2007 i ranije verzije na Windows XP:<br />
C:\Documents and Settings\%username%\Local Settings\Application Data\Microsoft\Outlook\
</li>
<li>Za Outlook 2007 i ranije verzije na Windows Vista, Windows 7 ili Windows8:<br />
C:\Users\%username%\AppData\Local\Microsoft\Outlook\
</li>
<li>Za Outlook 2010 na Windows XP:<br />
C:\Documents and Settings\%username%\My Documents\Outlook Files
</li>
<li>Za Outlook 2010 i Outlook 2013 na Windows Vista, Windows 7 ili Windows 8:<br />
C:\Users\%username%\Documents\Outlook Files
</li>
</ul>
<p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Martina.sestak&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Martina.sestak (stranica ne postoji)">Martina Šestak</a> 17:13, 18. siječnja 2015. (CET)
</p>
<h3> <span class="mw-headline" id="Prednosti_i_nedostaci_PST_datoteka">Prednosti i nedostaci PST datoteka</span></h3>
<p>Neke od prednosti korištenja PST datoteka su:
</p>
<ul>
<li>Smanjivanje količine podataka na mail serverima, a time i povećanje prostora u koji se mogu pohraniti mail-ovi</li>
<li>Offline pristup podacima za krajnjeg korisnika</li>
<li>PST datoteke se kreiraju automatski i ne iziskuju puno "ručnog rada"</li>
</ul>
<p><br />
</p>
<div class="center"><div class="floatnone"><a href="http://security.foi.hr/wiki/index.php/Datoteka:Clipart.jpg" class="image"><img alt="Clipart.jpg" src="../images/a/a5/Clipart.jpg" width="300" height="225" /></a></div></div>
<p>Kao najčešći nedostaci PST datoteka spominju se sljedeća svojstva:
</p>
<ul>
<li>Rijetko se rade sigurnosne kopije PST datoteka, što može dovesti do gubitka podataka</li>
<li>PST datoteke mogu postati sredstvo u otkrivanju pouzdanih podataka poduzeća javnosti</li>
<li>PST datoteke su sklone oštećivanju podataka (eng.<i>data corruption</i>), posebice u slučajevima kad im može pristupiti više korisnika</li>
<li>Microsoft ne pruža podršku za pohranu PST datoteka online i njihovo dijeljenje zbog povećane mogućnosti oštećenja podataka</li>
<li>PST datoteke su lokalne za svako računalo, pa je nemoguće pristupiti istom mailboxu s drugog računala</li> 
<li>PST datoteke rade jedino s MS Outlook-om</li>
<li>PST datoteke povećavaju troškove poslovanja, ali i zadaju dodatan posao administratorima u poduzećima</li>
</ul>
<p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Martina.sestak&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Martina.sestak (stranica ne postoji)">Martina Šestak</a> 18:48, 18. siječnja 2015. (CET)
</p>
<h2> <span class="mw-headline" id="PSTAnalyzerr_aplikacija">PSTAnalyzerr aplikacija</span></h2>
<p>U sklopu ovog projekta razvijena je aplikacija za analizu PST datoteka. Aplikacija, sama po sebi je desktop aplikacija sa web sučeljem. Ona se može podijeliti na nekoliko dijelova. <br /><br />
Na početku nakon pokretanja aplikacije, potrebno je odabrati PST datoteku koju se želi analizirati. Nakon toga pritiskom na gumb "Launch" pokreće se Elasticsearch server i kreira se index nad kojim se provodi strukturiranje (mapiranje), zatim pokreće se i sama analiza. Točnije koristeći metode biblioteke Java Lib-Pst dohvaćaju se podaci o pojedinom emailu te kreira struktura foldera. Iz dohvaćenih podataka kreira se i strukturira JSON dokument koji se odmah potom pohranjuje u prethodno kreirani index. <br /> Nakon što je uspješno spremljena cijela PST datoteka unutar ES, pokreće se lokalni web server (Jetty) te inicijalizira Spark. Skupa sa Sparkom inicijalizira se i Kibana sučelje. Korisnik potom otvara web preglednik na adresi <a href="http://localhost:4567" class="external free" rel="nofollow">http://localhost:4567</a> te mu se otvara početno sučelje aplikacije na kojem korisnik može pregledavati emailove, vidjeti strukturu foldera te pomoću Kibane analizirati PST datoteku.<br /><br />
</p><p><a href="https://github.com/vlazar-/sis-pst" class="external text" rel="nofollow">Github stranice projekta</a>
</p><p><a href="http://arka.foi.hr/~mvukovic2/PSTAnalyzerr/JavaDocs/index.html" class="external text" rel="nofollow">JavaDoc dokumentacija</a>
</p><p>U razvoju korištene su različite tehnologije, a neke, važnije od njih, opisane su u nastavku.<br /> 
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:GoranVodomin&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:GoranVodomin (stranica ne postoji)">GoranVodomin</a> 20:32, 18. siječnja 2015. (CET)
</p>
<h3> <span class="mw-headline" id="Java_Lib-Pst">Java Lib-Pst</span></h3>
<p>Java Lib-Pst je open source projekt, dostupan <a href="https://github.com/rjohnsondev/java-libpst" class="external text" rel="nofollow">ovdje</a>, kojem je cilj omogućiti pristup podacima pohranjenim u PST datotekama. Na taj način podaci mogu biti dohvaćeni, a potom pohranjeni i u drugim sustavima namijenjenim za razmjenu elektroničke pošte.<br /><br />
Projekt je originalno baziran na temelju dokumentacije koja je rađena u sklopu projetka libpff. Nakon što je Microsoft objavio službene specifikacije PST datoteka, javila se potreba za novim bibliotekama pa je stoga pokrenut open source projekt Java Lib-Pst. <br /><br />
Glavni funkcionalni ciljevi projekta su:
</p>
<ul>
<li>Učinkovitost – biblioteka mora omogućiti rad s velikim PST datotekama u razumnom vremenu</li>
<li>Podrška za rad s kriptiranim PST datotekama (i s novim verzijama Outlook-a)</li>
<li>Podrška za ANSI (32 bit), Unicode(64) Outlook PST datoteke i za razmjenu OST datoteka</li><br />
</ul>
<p>Funkcionalnosti koje biblioteke ne osigurava:
</p>
<ul>
<li>Rad s oštećenim PST datotekama</li>
      <li>Povratak izbrisanih email-ova</li>
<li>Kreiranje i dodavanje novih email-ova  u PST datoteku </li>
</ul><br />
<p>PST datoteka pohranjuje email-ove u foldere koji imaju svoju strukturu. Jedan od načina na koji možemo dohvatiti podatke iz PST datoteke, pomoću biblioteke Java Lib-Pst, je da pratimo strukturu foldera i iz svakog foldera dohvatimo podatke o pojedinom email-u koji se nalazi u folderu. Podatke o emailu dohvaćamo pomoću metoda koje su dio Java Lib-Pst biblioteke te kasnije njima manipuliramo ovisno prema potrebi. Svaka metoda i klasa koja je dio biblioteke je dokumentirana, a dokumentacija se nalazi na sljedećoj <a href="http://rjohnsondev.github.io/java-libpst/apidocs/" class="external text" rel="nofollow">poveznici</a>. <br /><br />
Java Lib-Pst biblioteku u našem projektu koristili smo da pomoću nje dohvatimo podatke PST datoteka, gdje je za svaki email generiran JSON dokument koji je potom spreman u bazu podataka ElasticSearch-a.<br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:GoranVodomin&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:GoranVodomin (stranica ne postoji)">GoranVodomin</a> 19:03, 18. siječnja 2015. (CET)
</p>
<h3> <span class="mw-headline" id="Elasticsearch">Elasticsearch</span></h3>
<p>Elasticsearch je fleksibilna, open-source, tehnologija za pohranjihvanje i analizu podataka. Baziran je na Apache Lucene sustavu za “full text” pretraživanje i indeksiranje. Podaci unutar Elasticsearcha(ES) se spremaju u obliku JSON dokumenata. ES možemo zamisliti i kao bazu podataka i skup tehnologija za pretraživanje iste. Ukoliko ES usporedimo s relacijskom bazom podataka, tada u tom slučaju možemo povući paralelu između njih. Unutar relacijske baze podataka podatke spremamo u bazu podataka. Baza podatka organizirana je u tablice koje se sastoje od redova i kolona. Za razliku od toga u Elasticsearcu podaci se umjesto u bazu podataka spremaju u indexe (“baza podataka”), koji imaju tipove (“tablice”), u koje spremamo dokumente, koji imaju svoja polja (eng. Field, “kolona”). <br /><br />
Za ES se može reći da je “schema-free” ali ne i “schema-less” to znači da podaci koji se spremaju ne trebaju prije zapisivana biti strukturirani, ali ukoliko je to potrebno mogu se strukturirati. <br /><br />
Strukturiranje podataka se unutar ES naziva mapiranje (eng. Mapping), što bi se jezikom relacijske baze podataka moglo nazvati kreiranje relacijske sheme. Ukoliko unaprijed ne provedemo mapiranje podaci se mapiraju automatski. Pritom valja napomenuti da se može izvršiti naknadno mapiranje, ali treba biti oprezan jer u slučaju nekompatibilnosti tipova podataka moguća je promjena ili čak gubitak svih podataka. Mapiranje je veoma korisno jer se prilikom toga definira kako će biti pohranjeni podaci u kao JSON dokumenti te koja su polja prezraživa, koji su njezini tipovi podataka itd.. <br /><br />
Jedan od važnijih djelova ES je upitni jezik (query DSL). Upiti su realizirani kao JSON objekti koji imaju preddefinirana polja. Rezultati upita su isto tako JSON objekti koji sadrže zaglavlje s meta podacima te polje JSON objekata koji su rezultati upita. Preddefiniranih polja ima mnogo, a svi oni mogu se naći unutar <a href="http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/query-dsl-queries.html" class="external text" rel="nofollow">službene dokumentacije</a>. Upiti se mogu izvršavati na nekoliko načina, prvi od njih je korištenjem CURL-a, a drugi je pomoću sučelja za upite (<a href="http://sense.qbox.io/gist/#" class="external text" rel="nofollow">Sense</a>) ili korištenjem <a href="http://www.elasticsearch.org/guide/en/elasticsearch/client/community/current/clients.html" class="external text" rel="nofollow">Elasticsearch API-a</a> unutar različitih programskih jezika. <br /><br /> 
Primjer upita i odgovora: <br />
</p><p>Upit:
</p>
<pre>
GET /pstindex/email/_search
{
   &quot;sort&quot;: [
      {
         &quot;getMessageSize&quot;: {
            &quot;order&quot;: &quot;desc&quot;
         }
      }
   ],
   &quot;query&quot;: {
      &quot;match_all&quot;: {}
   }
}
</pre>
<p>Odgovor:
</p>
<pre>
{
   &quot;took&quot;: 288,
   &quot;timed_out&quot;: false,
   &quot;_shards&quot;: {
      &quot;total&quot;: 1,
      &quot;successful&quot;: 1,
      &quot;failed&quot;: 0
   },
   &quot;hits&quot;: {
      &quot;total&quot;: 1219,
      &quot;max_score&quot;: null,
      &quot;hits&quot;: [
         {
            &quot;_index&quot;: &quot;pstindex&quot;,
            &quot;_type&quot;: &quot;email&quot;,
            &quot;_id&quot;: &quot;1205&quot;,
            &quot;_score&quot;: null,
            &quot;_source&quot;: {
               &quot;subject&quot;: &quot;prezentacija&quot;,
               &quot;importance&quot;: 1,
               &quot;getDisplayTo&quot;: &quot;visnja.fara@foi.hr&quot;,
               &quot;isRead&quot;: true,
               &quot;getMessageCcMe&quot;: false,
               &quot;getOriginalSensitivity&quot;: 0,
               &quot;getReplyRecipientNames&quot;: &quot;&quot;,
               &quot;numberOfRecipients&quot;: 1,
               ...

</pre>
<p>U sklopu projekta Elasticsearch se koristio za spremanje podataka o pojedinom emailu koji su pri pokretanju aplikacije analizirani i spremljeni u JSON dokumente. Za realizaciju korištene su ES java biblitoeke odstupne putem Maven repozitorija. <br /><br />
ES je distribuiran sustav. Prilikom pokretanja kreira se čvor (eng. Node) unutar kojega se mogu nalaziti različiti indeksi. Za potrebe ovog projekta, nakon kreiranja čvora, posebno je kreiran index nad kojim je kasnije provedeno mapiranje. Kada se na istoj mreži kreira još jedan čvor, dva (ili više) čvorova počinju komunicirati i kreira se klaster.<br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Mvukovic2&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Mvukovic2 (stranica ne postoji)">Mvukovic2</a> 20:04, 18. siječnja 2015. (CET)
</p>
<h3> <span class="mw-headline" id="Spark">Spark</span></h3>
<p><a href="http://sparkjava.com/" class="external text" rel="nofollow">Spark</a> je Java razvojni okvir za izradu web aplikacija. Napravljen je po uzoru na Sinatru, web razvojni okvir za Ruby. Najvažnije odlike Spark razvojnog okvira, 
koje su i presudile u odabiru, su jednostavnost, mala veličina i mogućnost brzog razvoja aplikacija. Verzija 2.1 koja je korištena u ovom projektu koristi i neke novosti
iz Java verzije 8, kao što su lambda funkcije. Vrijedi još napomenuti da u sebi ima ugrađen Jetty server, koji nije potrebno dodatno konfigurirati. 
<br /><br />
Spark je korišten za izradu korisničkog dijela aplikacije, kojim se vrši interakcija korisnika i aplikacije PSTAnalyzerr. Uz Spark, za izradu klijentskog dijela aplikacije korišteni su <a href="https://github.com/spullara/mustache.java" class="external text" rel="nofollow">Mustache Java predlošci</a>, te <a href="https://github.com/twbs/bootstrap" class="external text" rel="nofollow">Bootstrap</a> razvojni okvir. Nakon što su obavljene sve ranije navedene radnje, korisničko sučelje dostupno je lokalno na portu 4567 (<a href="http://localhost:4567" class="external free" rel="nofollow">http://localhost:4567</a>). Početni zaslon sadrži 4 opcije, kako je prikazano na sljedećoj slici.
<br />
<a href="http://security.foi.hr/wiki/index.php/Datoteka:1_web_start.jpg" class="image"><img alt="1 web start.jpg" src="../images/thumb/c/ca/1_web_start.jpg/650px-1_web_start.jpg" width="650" height="379" /></a>
<br /><br />
Mogućnosti su sljedeće:
</p>
<ul>
    <li>Pregled sadržaja .pst datoteke (čitanje email poruka)</li>
    <li>Otvaranje Kibane i vizualizacija podataka</li>
    <li>Pregled pomoći</li>
    <li>Pregled izvornog koda i popratnih sadržaja - poveznica na GitHub repozitorij projekta</li>
</ul>
<p><br />
Ovdje je objašnjen dio vezan uz pregled email poruka, dok je Kibana opisana u nastavku. <br />
Prilikom pregleda email poruka, može se odabrati nekoliko različitih prikaza. Standardan je prikaz gdje su prikazane sve email poruke koje se nalaze unutar učitane .pst datoteke. Osim toga, može se odabrati prikaz po direktorijima u kojima se poruke nalaze unutar .pst datoteke - <i>Inbox</i>, <i>Sent</i>, <i>Trash</i>. U navedenim prikazima nalaze se osnovni podaci o svakoj poruci - <i>Subject</i>, <i>From</i>, <i>To</i>, <i>Date</i>, <i>Number of attachments</i>.
<br /><br />
<a href="http://security.foi.hr/wiki/index.php/Datoteka:2_read_mail.jpg" class="image"><img alt="2 read mail.jpg" src="../images/thumb/9/96/2_read_mail.jpg/650px-2_read_mail.jpg" width="650" height="440" /></a>
<br /><br />
Prilikom odabira neke od poruka, u donjem dijelu ekrana prikazuju se detaljniji podaci o poruci, te sam sadržaj (<i>Body</i>) email poruke.
<br /><br />
<a href="http://security.foi.hr/wiki/index.php/Datoteka:3_mail_detail.jpg" class="image"><img alt="3 mail detail.jpg" src="../images/thumb/1/14/3_mail_detail.jpg/650px-3_mail_detail.jpg" width="650" height="440" /></a>
<br /><br />
<b>Spark - minimalna konfiguracija</b> <br />
Da bi se Spark mogao koristiti u Java projektu potrebno ga je dodati kao <a href="http://search.maven.org/#artifactdetails%7Ccom.sparkjava%7Cspark-core%7C2.1%7Cjar" class="external text" rel="nofollow">Maven zavisnost</a>. Nakon toga potrebno je uključiti Spark
<br />
</p>
<pre> import static spark.Spark.*;
</pre>
<p><br />
Čim se definira prva ruta<br />
</p>
<pre> get("/test", (request, response) -&gt; "Ovo je test");
</pre>
<p><br /> i pokrene aplikacija, automatski se pokreće i Jetty server kojem se može pristupiti na portu 4567 (<a href="http://localhost:4567/test" class="external free" rel="nofollow">http://localhost:4567/test</a>). Prilikom kreiranja ruta, kako se vidi i iz gornjeg primjera, koriste se lambda funkcije.
<br /><br />
Sam korisnički dio aplikacije u Sparku izrađen je prema MVC predlošku uz korištenje Mustache Java biblioteke za izradu predložaka. Kako bi se povezali logički i prezentacijski dio aplikacije, te generirali pogledi korištena je MustacheTemplateEngine klasa. Ova klasa, kao i implementacije ostalih sustava predložaka prilagođenih za Spark razvojni okvir može se pregledati i preuzeti na <a href="https://github.com/perwendel/spark-template-engines" class="external text" rel="nofollow">službenom GitHub repozitoriju</a> ili dodati u projekt kao <a href="http://search.maven.org/#search%7Cga%7C1%7Cspark-template-mustache" class="external text" rel="nofollow">Maven zavisnost</a>.
Ovdje je najvažnije bilo kako proslijediti rezultate upita koji se dobiju od Elasticsearcha u Mustache predložak. Rješenje je da se Json odgovor koji vraća Elasticsearch parsira u <i>Map&lt;String, Object&gt;</i> strukturu kroz koju se može iterirati unutar Mustache predložaka. Upiti nad Elasticsearchom izvršeni su pomoću <a href="https://github.com/searchbox-io/Jest/tree/master/jest" class="external text" rel="nofollow">Jest klijenta</a> koji omogućuje korištenje HTTP Rest sučelja koje pruža Elasticsearch direktno iz Java kôda. Tako se upiti mogu pisati u ranije navedenom Elasticsearch upitnom jeziku.
<br />
Kôd ovog dijela može se pogledati na GitHub repozitoriju u sljedećem <a href="https://github.com/vlazar-/sis-pst/tree/master/Source_webclient/PSTAnalyzerr/src/main/java/Client" class="external text" rel="nofollow">direktoriju</a>.
<br />
--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Viktor_Lazar&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Viktor Lazar (stranica ne postoji)">Viktor Lazar</a> 00:59, 19. siječnja 2015. (CET)
</p>
<h3> <span class="mw-headline" id="Kibana">Kibana</span></h3>
<p>Kibana je <i>open source</i> nadzorna ploča (eng.<i>dashboard</i>) za analizu i vizualizaciju podataka dobivenih iz Elasticsearch-a. Njezine glavne prednosti su jednostavnost instaliranja i kasnijeg korištenja te fleksibilnost, budući da za njezino pokretanje nisu potrebni nikakvi serverski dodaci, nego običan web poslužitelj. Pristupa joj se putem web sučelja. 
Svaki korisnik može za odabranu PST datoteku kreirati <i>custom dashboard</i> u kojem podaci mogu biti prikazani u različitim oblicima (<i>table, map, bar, pie, column, histogram...</i>). 
</p><p>Za izradu aplikacije korištena je Kibana verzija 3.1.2 dostupna na adresi <i><a href="http://localhost:4567/kibana-3.1.2/" class="external free" rel="nofollow">http://localhost:4567/kibana-3.1.2/</a></i>. Međutim, da bismo je mogli pokrenuti uz Elasticsearch 1.4, potrebno je dodati postavke u dokumentu <i>elasticsearch.yml</i>:
</p>
<pre>
http.cors.allow-origin: &quot;http://localhost:4567&quot;
http.cors.enabled: true
</pre>
<p>Rezultati Elasticsearch-a prikazani su u dashboard-u <i>PSTAnylzerrViz</i>, u kojem su cjelokupna PST datoteka i svi njezini atributi na početku prikazani u obliku tablice:
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Kibana2.PNG" class="image" title="Center"><img alt="Center" src="../images/thumb/6/65/Kibana2.PNG/1000px-Kibana2.PNG" width="1000" height="428" /></a>
</p><p><br />
Također, Kibana omogućuje korisniku izvršavanje upita i filtriranje rezultata na temelju različitih atributa dobivenih iz PST datoteke (primjerice, prikaz rezultata za određeno vremensko razdoblje).
</p><p><a href="http://security.foi.hr/wiki/index.php/Datoteka:Kibana1.PNG" class="image" title="Center"><img alt="Center" src="../images/0/0d/Kibana1.PNG" width="497" height="231" /></a>
</p><p>--<a href="http://security.foi.hr/wiki/index.php?title=Suradnik:Martina.sestak&amp;action=edit&amp;redlink=1" class="new" title="Suradnik:Martina.sestak (stranica ne postoji)">Martina Šestak</a> 21:18, 18. siječnja 2015. (CET)
</p>
<h2> <span class="mw-headline" id="Literatura">Literatura</span></h2>
<ul>
<li>Office Online: Introduction to Outlook Data Files (.pst and .ost) <a href="https://support.office.com/en-us/article/Introduction-to-Outlook-Data-Files-pst-and-ost-6d4197ec-1304-4b81-a17d-66d4eef30b78?ui=en-US&amp;rs=en-US&amp;ad=US" class="external autonumber" rel="nofollow">[3]</a></li>
<li>How-to-Outlook: About the Outlook PST-File<a href="http://www.howto-outlook.com/faq/aboutpst.htm" class="external autonumber" rel="nofollow">[4]</a></li>
<li>IBM developerWorks: Java development 2.0: Scalable searching with ElasticSearch<a href="http://www.ibm.com/developerworks/library/j-javadev2-24/" class="external autonumber" rel="nofollow">[5]</a></li>
<li>Java lib-pst<a href="https://github.com/rjohnsondev/java-libpst" class="external autonumber" rel="nofollow">[6]</a></li>
<li>Elasticsearch Cookbook<a href="https://www.packtpub.com/big-data-and-business-intelligence/elasticsearch-cookbook" class="external autonumber" rel="nofollow">[7]</a></li>
<li>Kluge K.: Elasticsearch, Logstash &amp; Kibana<a href="http://www.socallinuxexpo.org/scale12x-supporting/default/files/presentations/Scale12x%20-%20Intro%20to%20Elasticsearch%20%28Kluge%29.pdf" class="external autonumber" rel="nofollow">[8]</a></li>
<li>Elasticsearch Reference<a href="http://www.elasticsearch.com/guide/index.html" class="external autonumber" rel="nofollow">[9]</a></li>
</ul>

<!-- 
NewPP limit report
Preprocessor node count: 78/1000000
Post-expand include size: 0/2097152 bytes
Template argument size: 0/2097152 bytes
Expensive parser function count: 0/100
-->

<!-- Saved in parser cache with key sisds:pcache:idhash:7921-0!*!0!!hr!2!edit=0 and timestamp 20190203204307 -->
<div class="printfooter">
Dobavljeno iz "<a href="Analiza_PST_datoteka.html">http://security.foi.hr/wiki/index.php/Analiza_PST_datoteka</a>"</div>
				<!-- /bodytext -->
								<!-- catlinks -->
				<div id='catlinks' class='catlinks catlinks-allhidden'></div>				<!-- /catlinks -->
												<div class="visualClear"></div>
			</div>
			<!-- /bodyContent -->
		</div>
		<!-- /content -->
		<!-- header -->
		<div id="mw-head" class="noprint">
			
<!-- 0 -->
<div id="p-personal" class="">
	<h5>Osobni alati</h5>
	<ul>
					<li  id="pt-login"><a href="http://security.foi.hr/wiki/index.php?title=Posebno:Prijava&amp;returnto=Analiza_PST_datoteka" title="Predlažemo Vam da se prijavite, ali nije obvezno. [o]" accesskey="o">Prijavi se</a></li>
			</ul>
</div>

<!-- /0 -->
			<div id="left-navigation">
				
<!-- 0 -->
<div id="p-namespaces" class="vectorTabs">
	<h5>Imenski prostori</h5>
	<ul>
					<li  id="ca-nstab-main" class="selected"><span><a href="Analiza_PST_datoteka.html"  title="Pogledaj sadržaj [c]" accesskey="c">Članak</a></span></li>
					<li  id="ca-talk" class="new"><span><a href="http://security.foi.hr/wiki/index.php?title=Razgovor:Analiza_PST_datoteka&amp;action=edit&amp;redlink=1"  title="Razgovor o stranici [t]" accesskey="t">Razgovor</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-variants" class="vectorMenu emptyPortlet">
		<h5><span>Inačice</span><a href="Analiza_PST_datoteka.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->
			</div>
			<div id="right-navigation">
				
<!-- 0 -->
<div id="p-views" class="vectorTabs">
	<h5>Pogledi</h5>
	<ul>
					<li id="ca-view" class="selected"><span><a href="Analiza_PST_datoteka.html" >Čitaj</a></span></li>
					<li id="ca-viewsource"><span><a href="http://security.foi.hr/wiki/index.php?title=Analiza_PST_datoteka&amp;action=edit"  title="Ova stranica je zaštićena. Možete pogledati izvorni kod. [e]" accesskey="e">Vidi izvor</a></span></li>
					<li id="ca-history" class="collapsible "><span><a href="http://security.foi.hr/wiki/index.php?title=Analiza_PST_datoteka&amp;action=history"  title="Ranije izmjene na ovoj stranici. [h]" accesskey="h">Vidi stare izmjene</a></span></li>
			</ul>
</div>

<!-- /0 -->

<!-- 1 -->
<div id="p-cactions" class="vectorMenu emptyPortlet">
	<h5><span>Radnje</span><a href="Analiza_PST_datoteka.html#"></a></h5>
	<div class="menu">
		<ul>
					</ul>
	</div>
</div>

<!-- /1 -->

<!-- 2 -->
<div id="p-search">
	<h5><label for="searchInput">Traži</label></h5>
	<form action="http://security.foi.hr/wiki/index.php" id="searchform">
		<input type='hidden' name="title" value="Posebno:Traži"/>
				<input id="searchInput" name="search" type="text"  title="Pretraži ovaj wiki [f]" accesskey="f"  value="" />
		<input type='submit' name="go" class="searchButton" id="searchGoButton"	value="Kreni" title="Idi na stranicu s ovim imenom ako ona postoji" />
		<input type="submit" name="fulltext" class="searchButton" id="mw-searchButton" value="Traži" title="Traži ovaj tekst na svim stranicama" />
			</form>
</div>

<!-- /2 -->
			</div>
		</div>
		<!-- /header -->
		<!-- panel -->
			<div id="mw-panel" class="noprint">
				<!-- logo -->
					<div id="p-logo"><a style="background-image: url(../../images/osslogo.png);" href="../../wiki.html"  title="Glavna stranica"></a></div>
				<!-- /logo -->
				
<!-- navigation -->
<div class="portal" id='p-navigation'>
	<h5>Orijentacija</h5>
	<div class="body">
				<ul>
					<li id="n-mainpage-description"><a href="../../wiki.html" title="Posjeti glavnu stranicu [z]" accesskey="z">Glavna stranica</a></li>
					<li id="n-portal"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Portal_zajednice" title="O projektu, što možete učiniti, gdje je što">Portal zajednice</a></li>
					<li id="n-currentevents"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Novosti" title="O trenutačnim događajima">Aktualno</a></li>
					<li id="n-recentchanges"><a href="./Posebno:Nedavne_promjene.html" title="Popis nedavnih promjena u wikiju. [r]" accesskey="r">Nedavne promjene</a></li>
					<li id="n-randompage"><a href="./Posebno:Slučajna_stranica.html" title="Učitaj slučajnu stranicu [x]" accesskey="x">Slučajna stranica</a></li>
					<li id="n-help"><a href="./Pomoć:Pomoć.html" title="Mjesto za pomoć suradnicima.">Pomoć</a></li>
				</ul>
			</div>
</div>

<!-- /navigation -->

<!-- SEARCH -->

<!-- /SEARCH -->

<!-- TOOLBOX -->
<div class="portal" id="p-tb">
	<h5>Traka s alatima</h5>
	<div class="body">
		<ul>
					<li id="t-whatlinkshere"><a href="http://security.foi.hr/wiki/index.php/Posebno:%C5%A0to_vodi_ovamo/Analiza_PST_datoteka" title="Popis svih stranica koje sadrže poveznice ovamo [j]" accesskey="j">Što vodi ovamo</a></li>
						<li id="t-recentchangeslinked"><a href="http://security.foi.hr/wiki/index.php/Posebno:Povezane_promjene/Analiza_PST_datoteka" title="Nedavne promjene na stranicama na koje vode ovdašnje poveznice [k]" accesskey="k">Povezane stranice</a></li>
																																										<li id="t-specialpages"><a href="./Posebno:Posebne_stranice.html" title="Popis posebnih stranica [q]" accesskey="q">Posebne stranice</a></li>
									<li id="t-print"><a href="http://security.foi.hr/wiki/index.php?title=Analiza_PST_datoteka&amp;printable=yes" rel="alternate" title="Verzija za ispis ove stranice [p]" accesskey="p">Verzija za ispis</a></li>
						<li id="t-permalink"><a href="http://security.foi.hr/wiki/index.php?title=Analiza_PST_datoteka&amp;oldid=31982" title="Trajna poveznica na ovu verziju stranice">Trajna poveznica</a></li>
						</ul>
	</div>
</div>

<!-- /TOOLBOX -->

<!-- LANGUAGES -->

<!-- /LANGUAGES -->
			</div>
		<!-- /panel -->
		<!-- footer -->
		<div id="footer">
											<ul id="footer-info">
																	<li id="footer-info-lastmod"> Datum zadnje promjene na ovoj stranici: 00:19, 19. siječnja 2015.</li>
																							<li id="footer-info-viewcount">Ova stranica je pogledana 9.047 puta.</li>
																							<li id="footer-info-copyright">Sadržaji se koriste u skladu s <a href="http://creativecommons.org/licenses/by-sa/3.0/" class="external ">Creative Commons Attribution Share Alike</a>.</li>
															</ul>
															<ul id="footer-places">
																	<li id="footer-places-privacy"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:Za%C5%A1tita_privatnosti" title="SIS Wiki:Zaštita privatnosti">Zaštita privatnosti</a></li>
																							<li id="footer-places-about"><a href="./SIS_Wiki:O_projektu_SIS_Wiki.html" title="SIS Wiki:O projektu SIS Wiki">O projektu SIS Wiki</a></li>
																							<li id="footer-places-disclaimer"><a href="http://security.foi.hr/wiki/index.php/SIS_Wiki:General_disclaimer" title="SIS Wiki:General disclaimer">Odricanje od odgovornosti</a></li>
															</ul>
											<ul id="footer-icons" class="noprint">
					<li id="footer-copyrightico">
						<a href="http://creativecommons.org/licenses/by-sa/3.0/"><img src="../skins/common/images/cc-by-sa.png" alt="Creative Commons Attribution Share Alike" width="88" height="31" /></a>
					</li>
					<li id="footer-poweredbyico">
						<a href="http://www.mediawiki.org/"><img src="../skins/common/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" width="88" height="31" /></a>
					</li>
				</ul>
						<div style="clear:both"></div>
		</div>
		<!-- /footer -->
		
<script src="../load.php%3Fdebug=false&amp;lang=hr&amp;modules=startup&amp;only=scripts&amp;skin=vector&amp;*"></script>
<script>if ( window.mediaWiki ) {
	mediaWiki.config.set({"wgCanonicalNamespace": "", "wgCanonicalSpecialPageName": false, "wgNamespaceNumber": 0, "wgPageName": "Analiza_PST_datoteka", "wgTitle": "Analiza PST datoteka", "wgAction": "view", "wgArticleId": 7921, "wgIsArticle": true, "wgUserName": null, "wgUserGroups": ["*"], "wgCurRevisionId": 31982, "wgCategories": [], "wgBreakFrames": false, "wgRestrictionEdit": [], "wgRestrictionMove": []});
}
</script>
<script>if ( window.mediaWiki ) {
	mediaWiki.loader.load(["mediawiki.util", "mediawiki.legacy.wikibits", "mediawiki.legacy.ajax"]);
	mediaWiki.loader.go();
}
</script>

<script>if ( window.mediaWiki ) {
	mediaWiki.user.options.set({"ccmeonemails":0,"cols":80,"contextchars":50,"contextlines":5,"date":"default","diffonly":0,"disablemail":0,"disablesuggest":0,"editfont":"default","editondblclick":0,"editsection":1,"editsectiononrightclick":0,"enotifminoredits":0,"enotifrevealaddr":0,"enotifusertalkpages":1,"enotifwatchlistpages":0,"extendwatchlist":0,"externaldiff":0,"externaleditor":0,"fancysig":0,"forceeditsummary":0,"gender":"unknown","hideminor":0,"hidepatrolled":0,"highlightbroken":1,"imagesize":2,"justify":0,"math":1,"minordefault":0,"newpageshidepatrolled":0,"nocache":0,"noconvertlink":0,"norollbackdiff":0,"numberheadings":0,"previewonfirst":0,"previewontop":1,"quickbar":1,"rcdays":7,"rclimit":50,"rememberpassword":0,"rows":25,"searchlimit":20,"showhiddencats":0,"showjumplinks":1,"shownumberswatching":1,"showtoc":1,"showtoolbar":1,"skin":"vector","stubthreshold":0,"thumbsize":2,"underline":2,"uselivepreview":0,"usenewrc":0,"watchcreations":0,"watchdefault":0,"watchdeletion":0,
	"watchlistdays":3,"watchlisthideanons":0,"watchlisthidebots":0,"watchlisthideliu":0,"watchlisthideminor":0,"watchlisthideown":0,"watchlisthidepatrolled":0,"watchmoves":0,"wllimit":250,"variant":"hr","language":"hr","searchNs0":true,"searchNs1":false,"searchNs2":false,"searchNs3":false,"searchNs4":false,"searchNs5":false,"searchNs6":false,"searchNs7":false,"searchNs8":false,"searchNs9":false,"searchNs10":false,"searchNs11":false,"searchNs12":false,"searchNs13":false,"searchNs14":false,"searchNs15":false});;mediaWiki.loader.state({"user.options":"ready"});
}
</script>		<!-- fixalpha -->
		<script type="text/javascript"> if ( window.isMSIE55 ) fixalpha(); </script>
		<!-- /fixalpha -->
		<!-- Served in 0.434 secs. -->			</body>
</html>
